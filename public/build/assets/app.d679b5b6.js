import{S as dh,_ as hh}from"./exifr.667da73e.js";import{g as ph,a as Er,b as fo,c as gh,d as mh,e as vh,f as Oa,h as Au,i as Pc,m as zs,j as ea,k as ho,l as Pa,n as Fc,o as Ks,s as yh,r as il,p as Rc,q as _h,t as wh,u as Zs,v as nl,T as Ah,w as ot,x as $s,y as Mc,z as Fa,E as sl,A as Ra,B as Ur,C as bh,D as Lc,F as Dc,G as Yi,H as ri,I as kc,J as bu,K as Eh,L as xh,M as Is,N as Ts,O as dr,P as Ch,Q as Bc,R as Sh,S as Ih,U as Nc,V as Xt,W as Ti,X as Th,Y as Oh,Z as Ph,_ as ol,$ as Fh,a0 as Pr,a1 as jc,a2 as Rh,a3 as Mh,a4 as Lh,a5 as Eu,a6 as xu,a7 as Cu,a8 as Su,a9 as Dh,aa as kh,ab as Bh,ac as Nh,ad as al,ae as Fi,af as po,ag as jh,ah as Uh,ai as Qh,aj as Gh,ak as Vs,al as zh,am as $h,an as Hh,ao as Wh,ap as qh,aq as Xh,ar as ni,as as Yh,at as Kh,au as Zh,av as Vh,aw as Jh,ax as ep,ay as tp,az as Iu,aA as rp,aB as ip,aC as np,aD as sp,aE as Ma,aF as op,aG as ap,aH as lp,aI as up,aJ as $r,aK as cp,aL as fp,aM as dp,aN as Ln,aO as Nt,aP as ir,aQ as nr,aR as hr,aS as pr,aT as ll,aU as Ri,aV as Cr,aW as Gr,aX as ul,aY as hp,aZ as cl,a_ as fl}from"./ol.c286c2df.js";import{p as pp,b as gp,f as Tu,s as Ou,a as mp,u as vp}from"./turf.54dd2dce.js";var yp=Object.create,Uc=Object.defineProperty,_p=Object.getOwnPropertyDescriptor,Qc=Object.getOwnPropertyNames,wp=Object.getPrototypeOf,Ap=Object.prototype.hasOwnProperty,qr=(t,e)=>function(){return e||(0,t[Qc(t)[0]])((e={exports:{}}).exports,e),e.exports},bp=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qc(e))!Ap.call(t,n)&&n!==r&&Uc(t,n,{get:()=>e[n],enumerable:!(i=_p(e,n))||i.enumerable});return t},vt=(t,e,r)=>(r=t!=null?yp(wp(t)):{},bp(e||!t||!t.__esModule?Uc(r,"default",{value:t,enumerable:!0}):r,t)),Yt=qr({"../alpine/packages/alpinejs/dist/module.cjs.js"(t,e){var r=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,u=(o,c)=>function(){return c||(0,o[s(o)[0]])((c={exports:{}}).exports,c),c.exports},f=(o,c)=>{for(var g in c)i(o,g,{get:c[g],enumerable:!0})},d=(o,c,g,x)=>{if(c&&typeof c=="object"||typeof c=="function")for(let I of s(c))!a.call(o,I)&&I!==g&&i(o,I,{get:()=>c[I],enumerable:!(x=n(c,I))||x.enumerable});return o},h=(o,c,g)=>(g=o!=null?r(l(o)):{},d(c||!o||!o.__esModule?i(g,"default",{value:o,enumerable:!0}):g,o)),p=o=>d(i({},"__esModule",{value:!0}),o),_=u({"node_modules/@vue/shared/dist/shared.cjs.js"(o){Object.defineProperty(o,"__esModule",{value:!0});function c(D,ge){const Ae=Object.create(null),Pe=D.split(",");for(let st=0;st<Pe.length;st++)Ae[Pe[st]]=!0;return ge?st=>!!Ae[st.toLowerCase()]:st=>!!Ae[st]}var g={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},x={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},I="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",T=c(I),R=2;function U(D,ge=0,Ae=D.length){let Pe=D.split(/(\r?\n)/);const st=Pe.filter((zt,Ot)=>Ot%2===1);Pe=Pe.filter((zt,Ot)=>Ot%2===0);let mt=0;const Gt=[];for(let zt=0;zt<Pe.length;zt++)if(mt+=Pe[zt].length+(st[zt]&&st[zt].length||0),mt>=ge){for(let Ot=zt-R;Ot<=zt+R||Ae>mt;Ot++){if(Ot<0||Ot>=Pe.length)continue;const Rn=Ot+1;Gt.push(`${Rn}${" ".repeat(Math.max(3-String(Rn).length,0))}|  ${Pe[Ot]}`);const qi=Pe[Ot].length,Ss=st[Ot]&&st[Ot].length||0;if(Ot===zt){const Xi=ge-(mt-(qi+Ss)),Vo=Math.max(1,Ae>mt?qi-Xi:Ae-ge);Gt.push("   |  "+" ".repeat(Xi)+"^".repeat(Vo))}else if(Ot>zt){if(Ae>mt){const Xi=Math.max(Math.min(Ae-mt,qi),1);Gt.push("   |  "+"^".repeat(Xi))}mt+=qi+Ss}}break}return Gt.join(`
`)}var Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",we=c(Z),ze=c(Z+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),gt=/[>/="'\u0009\u000a\u000c\u0020]/,Ve={};function dt(D){if(Ve.hasOwnProperty(D))return Ve[D];const ge=gt.test(D);return ge&&console.error(`unsafe attribute name: ${D}`),Ve[D]=!ge}var tr={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Ir=c("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),De=c("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function it(D){if(yr(D)){const ge={};for(let Ae=0;Ae<D.length;Ae++){const Pe=D[Ae],st=it(yi(Pe)?Qt(Pe):Pe);if(st)for(const mt in st)ge[mt]=st[mt]}return ge}else if(Or(D))return D}var We=/;(?![^(]*\))/g,nt=/:(.+)/;function Qt(D){const ge={};return D.split(We).forEach(Ae=>{if(Ae){const Pe=Ae.split(nt);Pe.length>1&&(ge[Pe[0].trim()]=Pe[1].trim())}}),ge}function vr(D){let ge="";if(!D)return ge;for(const Ae in D){const Pe=D[Ae],st=Ae.startsWith("--")?Ae:xs(Ae);(yi(Pe)||typeof Pe=="number"&&Ir(st))&&(ge+=`${st}:${Pe};`)}return ge}function Tr(D){let ge="";if(yi(D))ge=D;else if(yr(D))for(let Ae=0;Ae<D.length;Ae++){const Pe=Tr(D[Ae]);Pe&&(ge+=Pe+" ")}else if(Or(D))for(const Ae in D)D[Ae]&&(ge+=Ae+" ");return ge.trim()}var Di="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",xn="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Cn="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",ki=c(Di),Uo=c(xn),Bi=c(Cn),Qo=/["'&<>]/;function Go(D){const ge=""+D,Ae=Qo.exec(ge);if(!Ae)return ge;let Pe="",st,mt,Gt=0;for(mt=Ae.index;mt<ge.length;mt++){switch(ge.charCodeAt(mt)){case 34:st="&quot;";break;case 38:st="&amp;";break;case 39:st="&#39;";break;case 60:st="&lt;";break;case 62:st="&gt;";break;default:continue}Gt!==mt&&(Pe+=ge.substring(Gt,mt)),Gt=mt+1,Pe+=st}return Gt!==mt?Pe+ge.substring(Gt,mt):Pe}var fs=/^-?>|<!--|-->|--!>|<!-$/g;function zo(D){return D.replace(fs,"")}function $o(D,ge){if(D.length!==ge.length)return!1;let Ae=!0;for(let Pe=0;Ae&&Pe<D.length;Pe++)Ae=Ni(D[Pe],ge[Pe]);return Ae}function Ni(D,ge){if(D===ge)return!0;let Ae=On(D),Pe=On(ge);if(Ae||Pe)return Ae&&Pe?D.getTime()===ge.getTime():!1;if(Ae=yr(D),Pe=yr(ge),Ae||Pe)return Ae&&Pe?$o(D,ge):!1;if(Ae=Or(D),Pe=Or(ge),Ae||Pe){if(!Ae||!Pe)return!1;const st=Object.keys(D).length,mt=Object.keys(ge).length;if(st!==mt)return!1;for(const Gt in D){const zt=D.hasOwnProperty(Gt),Ot=ge.hasOwnProperty(Gt);if(zt&&!Ot||!zt&&Ot||!Ni(D[Gt],ge[Gt]))return!1}}return String(D)===String(ge)}function ds(D,ge){return D.findIndex(Ae=>Ni(Ae,ge))}var hs=D=>D==null?"":Or(D)?JSON.stringify(D,Ho,2):String(D),Ho=(D,ge)=>vi(ge)?{[`Map(${ge.size})`]:[...ge.entries()].reduce((Ae,[Pe,st])=>(Ae[`${Pe} =>`]=st,Ae),{})}:_r(ge)?{[`Set(${ge.size})`]:[...ge.values()]}:Or(ge)&&!yr(ge)&&!_s(ge)?String(ge):ge,Wo=["bigInt","optionalChaining","nullishCoalescingOperator"],Sn=Object.freeze({}),In=Object.freeze([]),Tn=()=>{},ji=()=>!1,Ui=/^on[^a-z]/,Qi=D=>Ui.test(D),Gi=D=>D.startsWith("onUpdate:"),ps=Object.assign,gs=(D,ge)=>{const Ae=D.indexOf(ge);Ae>-1&&D.splice(Ae,1)},ms=Object.prototype.hasOwnProperty,vs=(D,ge)=>ms.call(D,ge),yr=Array.isArray,vi=D=>_i(D)==="[object Map]",_r=D=>_i(D)==="[object Set]",On=D=>D instanceof Date,Pn=D=>typeof D=="function",yi=D=>typeof D=="string",qo=D=>typeof D=="symbol",Or=D=>D!==null&&typeof D=="object",zi=D=>Or(D)&&Pn(D.then)&&Pn(D.catch),ys=Object.prototype.toString,_i=D=>ys.call(D),Xo=D=>_i(D).slice(8,-1),_s=D=>_i(D)==="[object Object]",ws=D=>yi(D)&&D!=="NaN"&&D[0]!=="-"&&""+parseInt(D,10)===D,As=c(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wi=D=>{const ge=Object.create(null);return Ae=>ge[Ae]||(ge[Ae]=D(Ae))},bs=/-(\w)/g,Es=wi(D=>D.replace(bs,(ge,Ae)=>Ae?Ae.toUpperCase():"")),Yo=/\B([A-Z])/g,xs=wi(D=>D.replace(Yo,"-$1").toLowerCase()),Ai=wi(D=>D.charAt(0).toUpperCase()+D.slice(1)),Ko=wi(D=>D?`on${Ai(D)}`:""),Fn=(D,ge)=>D!==ge&&(D===D||ge===ge),Zo=(D,ge)=>{for(let Ae=0;Ae<D.length;Ae++)D[Ae](ge)},$i=(D,ge,Ae)=>{Object.defineProperty(D,ge,{configurable:!0,enumerable:!1,value:Ae})},Hi=D=>{const ge=parseFloat(D);return isNaN(ge)?D:ge},Wi,Cs=()=>Wi||(Wi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});o.EMPTY_ARR=In,o.EMPTY_OBJ=Sn,o.NO=ji,o.NOOP=Tn,o.PatchFlagNames=g,o.babelParserDefaultPlugins=Wo,o.camelize=Es,o.capitalize=Ai,o.def=$i,o.escapeHtml=Go,o.escapeHtmlComment=zo,o.extend=ps,o.generateCodeFrame=U,o.getGlobalThis=Cs,o.hasChanged=Fn,o.hasOwn=vs,o.hyphenate=xs,o.invokeArrayFns=Zo,o.isArray=yr,o.isBooleanAttr=ze,o.isDate=On,o.isFunction=Pn,o.isGloballyWhitelisted=T,o.isHTMLTag=ki,o.isIntegerKey=ws,o.isKnownAttr=De,o.isMap=vi,o.isModelListener=Gi,o.isNoUnitNumericStyleProp=Ir,o.isObject=Or,o.isOn=Qi,o.isPlainObject=_s,o.isPromise=zi,o.isReservedProp=As,o.isSSRSafeAttrName=dt,o.isSVGTag=Uo,o.isSet=_r,o.isSpecialBooleanAttr=we,o.isString=yi,o.isSymbol=qo,o.isVoidTag=Bi,o.looseEqual=Ni,o.looseIndexOf=ds,o.makeMap=c,o.normalizeClass=Tr,o.normalizeStyle=it,o.objectToString=ys,o.parseStringStyle=Qt,o.propsToAttrMap=tr,o.remove=gs,o.slotFlagsText=x,o.stringifyStyle=vr,o.toDisplayString=hs,o.toHandlerKey=Ko,o.toNumber=Hi,o.toRawType=Xo,o.toTypeString=_i}}),m=u({"node_modules/@vue/shared/index.js"(o,c){c.exports=_()}}),v=u({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"(o){Object.defineProperty(o,"__esModule",{value:!0});var c=m(),g=new WeakMap,x=[],I,T=Symbol("iterate"),R=Symbol("Map key iterate");function U(b){return b&&b._isEffect===!0}function Z(b,H=c.EMPTY_OBJ){U(b)&&(b=b.raw);const ee=gt(b,H);return H.lazy||ee(),ee}function we(b){b.active&&(Ve(b),b.options.onStop&&b.options.onStop(),b.active=!1)}var ze=0;function gt(b,H){const ee=function(){if(!ee.active)return b();if(!x.includes(ee)){Ve(ee);try{return De(),x.push(ee),I=ee,b()}finally{x.pop(),it(),I=x[x.length-1]}}};return ee.id=ze++,ee.allowRecurse=!!H.allowRecurse,ee._isEffect=!0,ee.active=!0,ee.raw=b,ee.deps=[],ee.options=H,ee}function Ve(b){const{deps:H}=b;if(H.length){for(let ee=0;ee<H.length;ee++)H[ee].delete(b);H.length=0}}var dt=!0,tr=[];function Ir(){tr.push(dt),dt=!1}function De(){tr.push(dt),dt=!0}function it(){const b=tr.pop();dt=b===void 0?!0:b}function We(b,H,ee){if(!dt||I===void 0)return;let Ce=g.get(b);Ce||g.set(b,Ce=new Map);let me=Ce.get(ee);me||Ce.set(ee,me=new Set),me.has(I)||(me.add(I),I.deps.push(me),I.options.onTrack&&I.options.onTrack({effect:I,target:b,type:H,key:ee}))}function nt(b,H,ee,Ce,me,Me){const qe=g.get(b);if(!qe)return;const At=new Set,$t=Bt=>{Bt&&Bt.forEach(wr=>{(wr!==I||wr.allowRecurse)&&At.add(wr)})};if(H==="clear")qe.forEach($t);else if(ee==="length"&&c.isArray(b))qe.forEach((Bt,wr)=>{(wr==="length"||wr>=Ce)&&$t(Bt)});else switch(ee!==void 0&&$t(qe.get(ee)),H){case"add":c.isArray(b)?c.isIntegerKey(ee)&&$t(qe.get("length")):($t(qe.get(T)),c.isMap(b)&&$t(qe.get(R)));break;case"delete":c.isArray(b)||($t(qe.get(T)),c.isMap(b)&&$t(qe.get(R)));break;case"set":c.isMap(b)&&$t(qe.get(T));break}const Mn=Bt=>{Bt.options.onTrigger&&Bt.options.onTrigger({effect:Bt,target:b,key:ee,type:H,newValue:Ce,oldValue:me,oldTarget:Me}),Bt.options.scheduler?Bt.options.scheduler(Bt):Bt()};At.forEach(Mn)}var Qt=c.makeMap("__proto__,__v_isRef,__isVue"),vr=new Set(Object.getOwnPropertyNames(Symbol).map(b=>Symbol[b]).filter(c.isSymbol)),Tr=Bi(),Di=Bi(!1,!0),xn=Bi(!0),Cn=Bi(!0,!0),ki=Uo();function Uo(){const b={};return["includes","indexOf","lastIndexOf"].forEach(H=>{b[H]=function(...ee){const Ce=D(this);for(let Me=0,qe=this.length;Me<qe;Me++)We(Ce,"get",Me+"");const me=Ce[H](...ee);return me===-1||me===!1?Ce[H](...ee.map(D)):me}}),["push","pop","shift","unshift","splice"].forEach(H=>{b[H]=function(...ee){Ir();const Ce=D(this)[H].apply(this,ee);return it(),Ce}}),b}function Bi(b=!1,H=!1){return function(Ce,me,Me){if(me==="__v_isReactive")return!b;if(me==="__v_isReadonly")return b;if(me==="__v_raw"&&Me===(b?H?Es:bs:H?wi:As).get(Ce))return Ce;const qe=c.isArray(Ce);if(!b&&qe&&c.hasOwn(ki,me))return Reflect.get(ki,me,Me);const At=Reflect.get(Ce,me,Me);return(c.isSymbol(me)?vr.has(me):Qt(me))||(b||We(Ce,"get",me),H)?At:Pe(At)?!qe||!c.isIntegerKey(me)?At.value:At:c.isObject(At)?b?Fn(At):Ai(At):At}}var Qo=fs(),Go=fs(!0);function fs(b=!1){return function(ee,Ce,me,Me){let qe=ee[Ce];if(!b&&(me=D(me),qe=D(qe),!c.isArray(ee)&&Pe(qe)&&!Pe(me)))return qe.value=me,!0;const At=c.isArray(ee)&&c.isIntegerKey(Ce)?Number(Ce)<ee.length:c.hasOwn(ee,Ce),$t=Reflect.set(ee,Ce,me,Me);return ee===D(Me)&&(At?c.hasChanged(me,qe)&&nt(ee,"set",Ce,me,qe):nt(ee,"add",Ce,me)),$t}}function zo(b,H){const ee=c.hasOwn(b,H),Ce=b[H],me=Reflect.deleteProperty(b,H);return me&&ee&&nt(b,"delete",H,void 0,Ce),me}function $o(b,H){const ee=Reflect.has(b,H);return(!c.isSymbol(H)||!vr.has(H))&&We(b,"has",H),ee}function Ni(b){return We(b,"iterate",c.isArray(b)?"length":T),Reflect.ownKeys(b)}var ds={get:Tr,set:Qo,deleteProperty:zo,has:$o,ownKeys:Ni},hs={get:xn,set(b,H){return console.warn(`Set operation on key "${String(H)}" failed: target is readonly.`,b),!0},deleteProperty(b,H){return console.warn(`Delete operation on key "${String(H)}" failed: target is readonly.`,b),!0}},Ho=c.extend({},ds,{get:Di,set:Go}),Wo=c.extend({},hs,{get:Cn}),Sn=b=>c.isObject(b)?Ai(b):b,In=b=>c.isObject(b)?Fn(b):b,Tn=b=>b,ji=b=>Reflect.getPrototypeOf(b);function Ui(b,H,ee=!1,Ce=!1){b=b.__v_raw;const me=D(b),Me=D(H);H!==Me&&!ee&&We(me,"get",H),!ee&&We(me,"get",Me);const{has:qe}=ji(me),At=Ce?Tn:ee?In:Sn;if(qe.call(me,H))return At(b.get(H));if(qe.call(me,Me))return At(b.get(Me));b!==me&&b.get(H)}function Qi(b,H=!1){const ee=this.__v_raw,Ce=D(ee),me=D(b);return b!==me&&!H&&We(Ce,"has",b),!H&&We(Ce,"has",me),b===me?ee.has(b):ee.has(b)||ee.has(me)}function Gi(b,H=!1){return b=b.__v_raw,!H&&We(D(b),"iterate",T),Reflect.get(b,"size",b)}function ps(b){b=D(b);const H=D(this);return ji(H).has.call(H,b)||(H.add(b),nt(H,"add",b,b)),this}function gs(b,H){H=D(H);const ee=D(this),{has:Ce,get:me}=ji(ee);let Me=Ce.call(ee,b);Me?ws(ee,Ce,b):(b=D(b),Me=Ce.call(ee,b));const qe=me.call(ee,b);return ee.set(b,H),Me?c.hasChanged(H,qe)&&nt(ee,"set",b,H,qe):nt(ee,"add",b,H),this}function ms(b){const H=D(this),{has:ee,get:Ce}=ji(H);let me=ee.call(H,b);me?ws(H,ee,b):(b=D(b),me=ee.call(H,b));const Me=Ce?Ce.call(H,b):void 0,qe=H.delete(b);return me&&nt(H,"delete",b,void 0,Me),qe}function vs(){const b=D(this),H=b.size!==0,ee=c.isMap(b)?new Map(b):new Set(b),Ce=b.clear();return H&&nt(b,"clear",void 0,void 0,ee),Ce}function yr(b,H){return function(Ce,me){const Me=this,qe=Me.__v_raw,At=D(qe),$t=H?Tn:b?In:Sn;return!b&&We(At,"iterate",T),qe.forEach((Mn,Bt)=>Ce.call(me,$t(Mn),$t(Bt),Me))}}function vi(b,H,ee){return function(...Ce){const me=this.__v_raw,Me=D(me),qe=c.isMap(Me),At=b==="entries"||b===Symbol.iterator&&qe,$t=b==="keys"&&qe,Mn=me[b](...Ce),Bt=ee?Tn:H?In:Sn;return!H&&We(Me,"iterate",$t?R:T),{next(){const{value:wr,done:Jo}=Mn.next();return Jo?{value:wr,done:Jo}:{value:At?[Bt(wr[0]),Bt(wr[1])]:Bt(wr),done:Jo}},[Symbol.iterator](){return this}}}}function _r(b){return function(...H){{const ee=H[0]?`on key "${H[0]}" `:"";console.warn(`${c.capitalize(b)} operation ${ee}failed: target is readonly.`,D(this))}return b==="delete"?!1:this}}function On(){const b={get(Me){return Ui(this,Me)},get size(){return Gi(this)},has:Qi,add:ps,set:gs,delete:ms,clear:vs,forEach:yr(!1,!1)},H={get(Me){return Ui(this,Me,!1,!0)},get size(){return Gi(this)},has:Qi,add:ps,set:gs,delete:ms,clear:vs,forEach:yr(!1,!0)},ee={get(Me){return Ui(this,Me,!0)},get size(){return Gi(this,!0)},has(Me){return Qi.call(this,Me,!0)},add:_r("add"),set:_r("set"),delete:_r("delete"),clear:_r("clear"),forEach:yr(!0,!1)},Ce={get(Me){return Ui(this,Me,!0,!0)},get size(){return Gi(this,!0)},has(Me){return Qi.call(this,Me,!0)},add:_r("add"),set:_r("set"),delete:_r("delete"),clear:_r("clear"),forEach:yr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Me=>{b[Me]=vi(Me,!1,!1),ee[Me]=vi(Me,!0,!1),H[Me]=vi(Me,!1,!0),Ce[Me]=vi(Me,!0,!0)}),[b,ee,H,Ce]}var[Pn,yi,qo,Or]=On();function zi(b,H){const ee=H?b?Or:qo:b?yi:Pn;return(Ce,me,Me)=>me==="__v_isReactive"?!b:me==="__v_isReadonly"?b:me==="__v_raw"?Ce:Reflect.get(c.hasOwn(ee,me)&&me in Ce?ee:Ce,me,Me)}var ys={get:zi(!1,!1)},_i={get:zi(!1,!0)},Xo={get:zi(!0,!1)},_s={get:zi(!0,!0)};function ws(b,H,ee){const Ce=D(ee);if(Ce!==ee&&H.call(b,Ce)){const me=c.toRawType(b);console.warn(`Reactive ${me} contains both the raw and reactive versions of the same object${me==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var As=new WeakMap,wi=new WeakMap,bs=new WeakMap,Es=new WeakMap;function Yo(b){switch(b){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xs(b){return b.__v_skip||!Object.isExtensible(b)?0:Yo(c.toRawType(b))}function Ai(b){return b&&b.__v_isReadonly?b:$i(b,!1,ds,ys,As)}function Ko(b){return $i(b,!1,Ho,_i,wi)}function Fn(b){return $i(b,!0,hs,Xo,bs)}function Zo(b){return $i(b,!0,Wo,_s,Es)}function $i(b,H,ee,Ce,me){if(!c.isObject(b))return console.warn(`value cannot be made reactive: ${String(b)}`),b;if(b.__v_raw&&!(H&&b.__v_isReactive))return b;const Me=me.get(b);if(Me)return Me;const qe=xs(b);if(qe===0)return b;const At=new Proxy(b,qe===2?Ce:ee);return me.set(b,At),At}function Hi(b){return Wi(b)?Hi(b.__v_raw):!!(b&&b.__v_isReactive)}function Wi(b){return!!(b&&b.__v_isReadonly)}function Cs(b){return Hi(b)||Wi(b)}function D(b){return b&&D(b.__v_raw)||b}function ge(b){return c.def(b,"__v_skip",!0),b}var Ae=b=>c.isObject(b)?Ai(b):b;function Pe(b){return Boolean(b&&b.__v_isRef===!0)}function st(b){return zt(b)}function mt(b){return zt(b,!0)}var Gt=class{constructor(b,H=!1){this._shallow=H,this.__v_isRef=!0,this._rawValue=H?b:D(b),this._value=H?b:Ae(b)}get value(){return We(D(this),"get","value"),this._value}set value(b){b=this._shallow?b:D(b),c.hasChanged(b,this._rawValue)&&(this._rawValue=b,this._value=this._shallow?b:Ae(b),nt(D(this),"set","value",b))}};function zt(b,H=!1){return Pe(b)?b:new Gt(b,H)}function Ot(b){nt(D(b),"set","value",b.value)}function Rn(b){return Pe(b)?b.value:b}var qi={get:(b,H,ee)=>Rn(Reflect.get(b,H,ee)),set:(b,H,ee,Ce)=>{const me=b[H];return Pe(me)&&!Pe(ee)?(me.value=ee,!0):Reflect.set(b,H,ee,Ce)}};function Ss(b){return Hi(b)?b:new Proxy(b,qi)}var Xi=class{constructor(b){this.__v_isRef=!0;const{get:H,set:ee}=b(()=>We(this,"get","value"),()=>nt(this,"set","value"));this._get=H,this._set=ee}get value(){return this._get()}set value(b){this._set(b)}};function Vo(b){return new Xi(b)}function lh(b){Cs(b)||console.warn("toRefs() expects a reactive object but received a plain one.");const H=c.isArray(b)?new Array(b.length):{};for(const ee in b)H[ee]=wu(b,ee);return H}var uh=class{constructor(b,H){this._object=b,this._key=H,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(b){this._object[this._key]=b}};function wu(b,H){return Pe(b[H])?b[H]:new uh(b,H)}var ch=class{constructor(b,H,ee){this._setter=H,this._dirty=!0,this.__v_isRef=!0,this.effect=Z(b,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,nt(D(this),"set","value"))}}),this.__v_isReadonly=ee}get value(){const b=D(this);return b._dirty&&(b._value=this.effect(),b._dirty=!1),We(b,"get","value"),b._value}set value(b){this._setter(b)}};function fh(b){let H,ee;return c.isFunction(b)?(H=b,ee=()=>{console.warn("Write operation failed: computed value is readonly")}):(H=b.get,ee=b.set),new ch(H,ee,c.isFunction(b)||!b.set)}o.ITERATE_KEY=T,o.computed=fh,o.customRef=Vo,o.effect=Z,o.enableTracking=De,o.isProxy=Cs,o.isReactive=Hi,o.isReadonly=Wi,o.isRef=Pe,o.markRaw=ge,o.pauseTracking=Ir,o.proxyRefs=Ss,o.reactive=Ai,o.readonly=Fn,o.ref=st,o.resetTracking=it,o.shallowReactive=Ko,o.shallowReadonly=Zo,o.shallowRef=mt,o.stop=we,o.toRaw=D,o.toRef=wu,o.toRefs=lh,o.track=We,o.trigger=nt,o.triggerRef=Ot,o.unref=Rn}}),y=u({"node_modules/@vue/reactivity/index.js"(o,c){c.exports=v()}}),A={};f(A,{Alpine:()=>_u,default:()=>ah}),e.exports=p(A);var w=!1,E=!1,S=[],Q=-1;function M(o){F(o)}function F(o){S.includes(o)||S.push(o),k()}function O(o){let c=S.indexOf(o);c!==-1&&c>Q&&S.splice(c,1)}function k(){!E&&!w&&(w=!0,queueMicrotask(W))}function W(){w=!1,E=!0;for(let o=0;o<S.length;o++)S[o](),Q=o;S.length=0,Q=-1,E=!1}var z,$,J,Ee,pe=!0;function L(o){pe=!1,o(),pe=!0}function B(o){z=o.reactive,J=o.release,$=c=>o.effect(c,{scheduler:g=>{pe?M(g):g()}}),Ee=o.raw}function j(o){$=o}function V(o){let c=()=>{};return[x=>{let I=$(x);return o._x_effects||(o._x_effects=new Set,o._x_runEffects=()=>{o._x_effects.forEach(T=>T())}),o._x_effects.add(I),c=()=>{I!==void 0&&(o._x_effects.delete(I),J(I))},I},()=>{c()}]}function q(o,c){let g=!0,x,I=$(()=>{let T=o();JSON.stringify(T),g?x=T:queueMicrotask(()=>{c(T,x),x=T}),g=!1});return()=>J(I)}var ne=[],X=[],ie=[];function ae(o){ie.push(o)}function se(o,c){typeof c=="function"?(o._x_cleanups||(o._x_cleanups=[]),o._x_cleanups.push(c)):(c=o,X.push(c))}function he(o){ne.push(o)}function Ne(o,c,g){o._x_attributeCleanups||(o._x_attributeCleanups={}),o._x_attributeCleanups[c]||(o._x_attributeCleanups[c]=[]),o._x_attributeCleanups[c].push(g)}function oe(o,c){!o._x_attributeCleanups||Object.entries(o._x_attributeCleanups).forEach(([g,x])=>{(c===void 0||c.includes(g))&&(x.forEach(I=>I()),delete o._x_attributeCleanups[g])})}function _e(o){if(o._x_cleanups)for(;o._x_cleanups.length;)o._x_cleanups.pop()()}var Re=new MutationObserver(rt),Xe=!1;function Oe(){Re.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Xe=!0}function Se(){ft(),Re.disconnect(),Xe=!1}var yt=[];function ft(){let o=Re.takeRecords();yt.push(()=>o.length>0&&rt(o));let c=yt.length;queueMicrotask(()=>{if(yt.length===c)for(;yt.length>0;)yt.shift()()})}function ve(o){if(!Xe)return o();Se();let c=o();return Oe(),c}var Y=!1,te=[];function Fe(){Y=!0}function fe(){Y=!1,rt(te),te=[]}function rt(o){if(Y){te=te.concat(o);return}let c=new Set,g=new Set,x=new Map,I=new Map;for(let T=0;T<o.length;T++)if(!o[T].target._x_ignoreMutationObserver&&(o[T].type==="childList"&&(o[T].addedNodes.forEach(R=>R.nodeType===1&&c.add(R)),o[T].removedNodes.forEach(R=>R.nodeType===1&&g.add(R))),o[T].type==="attributes")){let R=o[T].target,U=o[T].attributeName,Z=o[T].oldValue,we=()=>{x.has(R)||x.set(R,[]),x.get(R).push({name:U,value:R.getAttribute(U)})},ze=()=>{I.has(R)||I.set(R,[]),I.get(R).push(U)};R.hasAttribute(U)&&Z===null?we():R.hasAttribute(U)?(ze(),we()):ze()}I.forEach((T,R)=>{oe(R,T)}),x.forEach((T,R)=>{ne.forEach(U=>U(R,T))});for(let T of g)c.has(T)||X.forEach(R=>R(T));c.forEach(T=>{T._x_ignoreSelf=!0,T._x_ignore=!0});for(let T of c)g.has(T)||!T.isConnected||(delete T._x_ignoreSelf,delete T._x_ignore,ie.forEach(R=>R(T)),T._x_ignore=!0,T._x_ignoreSelf=!0);c.forEach(T=>{delete T._x_ignoreSelf,delete T._x_ignore}),c=null,g=null,x=null,I=null}function be(o){return xe(ce(o))}function re(o,c,g){return o._x_dataStack=[c,...ce(g||o)],()=>{o._x_dataStack=o._x_dataStack.filter(x=>x!==c)}}function ce(o){return o._x_dataStack?o._x_dataStack:typeof ShadowRoot=="function"&&o instanceof ShadowRoot?ce(o.host):o.parentNode?ce(o.parentNode):[]}function xe(o){return new Proxy({objects:o},Ye)}var Ye={ownKeys({objects:o}){return Array.from(new Set(o.flatMap(c=>Object.keys(c))))},has({objects:o},c){return c==Symbol.unscopables?!1:o.some(g=>Object.prototype.hasOwnProperty.call(g,c)||Reflect.has(g,c))},get({objects:o},c,g){return c=="toJSON"?je:Reflect.get(o.find(x=>Reflect.has(x,c))||{},c,g)},set({objects:o},c,g,x){const I=o.find(R=>Object.prototype.hasOwnProperty.call(R,c))||o[o.length-1],T=Object.getOwnPropertyDescriptor(I,c);return(T==null?void 0:T.set)&&(T==null?void 0:T.get)?Reflect.set(I,c,g,x):Reflect.set(I,c,g)}};function je(){return Reflect.ownKeys(this).reduce((c,g)=>(c[g]=Reflect.get(this,g),c),{})}function ht(o){let c=x=>typeof x=="object"&&!Array.isArray(x)&&x!==null,g=(x,I="")=>{Object.entries(Object.getOwnPropertyDescriptors(x)).forEach(([T,{value:R,enumerable:U}])=>{if(U===!1||R===void 0||typeof R=="object"&&R!==null&&R.__v_skip)return;let Z=I===""?T:`${I}.${T}`;typeof R=="object"&&R!==null&&R._x_interceptor?x[T]=R.initialize(o,Z,T):c(R)&&R!==x&&!(R instanceof Element)&&g(R,Z)})};return g(o)}function ct(o,c=()=>{}){let g={initialValue:void 0,_x_interceptor:!0,initialize(x,I,T){return o(this.initialValue,()=>er(x,I),R=>_t(x,I,R),I,T)}};return c(g),x=>{if(typeof x=="object"&&x!==null&&x._x_interceptor){let I=g.initialize.bind(g);g.initialize=(T,R,U)=>{let Z=x.initialize(T,R,U);return g.initialValue=Z,I(T,R,U)}}else g.initialValue=x;return g}}function er(o,c){return c.split(".").reduce((g,x)=>g[x],o)}function _t(o,c,g){if(typeof c=="string"&&(c=c.split(".")),c.length===1)o[c[0]]=g;else{if(c.length===0)throw error;return o[c[0]]||(o[c[0]]={}),_t(o[c[0]],c.slice(1),g)}}var ui={};function Vt(o,c){ui[o]=c}function Lr(o,c){return Object.entries(ui).forEach(([g,x])=>{let I=null;function T(){if(I)return I;{let[R,U]=ye(c);return I={interceptor:ct,...R},se(c,U),I}}Object.defineProperty(o,`$${g}`,{get(){return x(c,T())},enumerable:!1})}),o}function ci(o,c,g,...x){try{return g(...x)}catch(I){Yr(I,o,c)}}function Yr(o,c,g=void 0){o=Object.assign(o!=null?o:{message:"No error message given."},{el:c,expression:g}),console.warn(`Alpine Expression Error: ${o.message}

${g?'Expression: "'+g+`"

`:""}`,c),setTimeout(()=>{throw o},0)}var fi=!0;function es(o){let c=fi;fi=!1;let g=o();return fi=c,g}function Dr(o,c,g={}){let x;return Ut(o,c)(I=>x=I,g),x}function Ut(...o){return ts(...o)}var ts=mn;function rs(o){ts=o}function mn(o,c){let g={};Lr(g,o);let x=[g,...ce(o)],I=typeof c=="function"?xo(x,c):So(x,c,o);return ci.bind(null,o,c,I)}function xo(o,c){return(g=()=>{},{scope:x={},params:I=[]}={})=>{let T=c.apply(xe([x,...o]),I);Mi(g,T)}}var vn={};function Co(o,c){if(vn[o])return vn[o];let g=Object.getPrototypeOf(async function(){}).constructor,x=/^[\n\s]*if.*\(.*\)/.test(o.trim())||/^(let|const)\s/.test(o.trim())?`(async()=>{ ${o} })()`:o,T=(()=>{try{let R=new g(["__self","scope"],`with (scope) { __self.result = ${x} }; __self.finished = true; return __self.result;`);return Object.defineProperty(R,"name",{value:`[Alpine] ${o}`}),R}catch(R){return Yr(R,c,o),Promise.resolve()}})();return vn[o]=T,T}function So(o,c,g){let x=Co(c,g);return(I=()=>{},{scope:T={},params:R=[]}={})=>{x.result=void 0,x.finished=!1;let U=xe([T,...o]);if(typeof x=="function"){let Z=x(x,U).catch(we=>Yr(we,g,c));x.finished?(Mi(I,x.result,U,R,g),x.result=void 0):Z.then(we=>{Mi(I,we,U,R,g)}).catch(we=>Yr(we,g,c)).finally(()=>x.result=void 0)}}}function Mi(o,c,g,x,I){if(fi&&typeof c=="function"){let T=c.apply(g,x);T instanceof Promise?T.then(R=>Mi(o,R,g,x)).catch(R=>Yr(R,I,c)):o(T)}else typeof c=="object"&&c instanceof Promise?c.then(T=>o(T)):o(c)}var yn="x-";function kr(o=""){return yn+o}function is(o){yn=o}var di={};function xt(o,c){return di[o]=c,{before(g){if(!di[g]){console.warn(String.raw`Cannot find directive \`${g}\`. \`${o}\` will use the default order of execution`);return}const x=ut.indexOf(g);ut.splice(x>=0?x:ut.indexOf("DEFAULT"),0,o)}}}function C(o){return Object.keys(di).includes(o)}function P(o,c,g){if(c=Array.from(c),o._x_virtualDirectives){let T=Object.entries(o._x_virtualDirectives).map(([U,Z])=>({name:U,value:Z})),R=N(T);T=T.map(U=>R.find(Z=>Z.name===U.name)?{name:`x-bind:${U.name}`,value:`"${U.value}"`}:U),c=c.concat(T)}let x={};return c.map(Qe((T,R)=>x[T]=R)).filter(Ge).map(wt(x,g)).sort(It).map(T=>Ie(o,T))}function N(o){return Array.from(o).map(Qe()).filter(c=>!Ge(c))}var G=!1,K=new Map,le=Symbol();function ue(o){G=!0;let c=Symbol();le=c,K.set(c,[]);let g=()=>{for(;K.get(c).length;)K.get(c).shift()();K.delete(c)},x=()=>{G=!1,g()};o(g),x()}function ye(o){let c=[],g=U=>c.push(U),[x,I]=V(o);return c.push(I),[{Alpine:En,effect:x,cleanup:g,evaluateLater:Ut.bind(Ut,o),evaluate:Dr.bind(Dr,o)},()=>c.forEach(U=>U())]}function Ie(o,c){let g=()=>{},x=di[c.type]||g,[I,T]=ye(o);Ne(o,c.original,T);let R=()=>{o._x_ignore||o._x_ignoreSelf||(x.inline&&x.inline(o,c,I),x=x.bind(x,o,c,I),G?K.get(le).push(x):x())};return R.runCleanups=T,R}var Te=(o,c)=>({name:g,value:x})=>(g.startsWith(o)&&(g=g.replace(o,c)),{name:g,value:x}),$e=o=>o;function Qe(o=()=>{}){return({name:c,value:g})=>{let{name:x,value:I}=et.reduce((T,R)=>R(T),{name:c,value:g});return x!==c&&o(x,c),{name:x,value:I}}}var et=[];function Le(o){et.push(o)}function Ge({name:o}){return Ke().test(o)}var Ke=()=>new RegExp(`^${yn}([^:^.]+)\\b`);function wt(o,c){return({name:g,value:x})=>{let I=g.match(Ke()),T=g.match(/:([a-zA-Z0-9\-_:]+)/),R=g.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],U=c||o[g]||g;return{type:I?I[1]:null,value:T?T[1]:null,modifiers:R.map(Z=>Z.replace(".","")),expression:x,original:U}}}var Ze="DEFAULT",ut=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Ze,"teleport"];function It(o,c){let g=ut.indexOf(o.type)===-1?Ze:o.type,x=ut.indexOf(c.type)===-1?Ze:c.type;return ut.indexOf(g)-ut.indexOf(x)}function kt(o,c,g={}){o.dispatchEvent(new CustomEvent(c,{detail:g,bubbles:!0,composed:!0,cancelable:!0}))}function pt(o,c){if(typeof ShadowRoot=="function"&&o instanceof ShadowRoot){Array.from(o.children).forEach(I=>pt(I,c));return}let g=!1;if(c(o,()=>g=!0),g)return;let x=o.firstElementChild;for(;x;)pt(x,c),x=x.nextElementSibling}function Tt(o,...c){console.warn(`Alpine Warning: ${o}`,...c)}var hi=!1;function pi(){hi&&Tt("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),hi=!0,document.body||Tt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),kt(document,"alpine:init"),kt(document,"alpine:initializing"),Oe(),ae(c=>Br(c,pt)),se(c=>Hl(c)),he((c,g)=>{P(c,g).forEach(x=>x())});let o=c=>!mr(c.parentElement,!0);Array.from(document.querySelectorAll(Sr().join(","))).filter(o).forEach(c=>{Br(c)}),kt(document,"alpine:initialized"),setTimeout(()=>{dd()})}var Li=[],_n=[];function wn(){return Li.map(o=>o())}function Sr(){return Li.concat(_n).map(o=>o())}function An(o){Li.push(o)}function Kr(o){_n.push(o)}function mr(o,c=!1){return lr(o,g=>{if((c?Sr():wn()).some(I=>g.matches(I)))return!0})}function lr(o,c){if(!!o){if(c(o))return o;if(o._x_teleportBack&&(o=o._x_teleportBack),!!o.parentElement)return lr(o.parentElement,c)}}function gi(o){return wn().some(c=>o.matches(c))}var ns=[];function fd(o){ns.push(o)}function Br(o,c=pt,g=()=>{}){ue(()=>{c(o,(x,I)=>{g(x,I),ns.forEach(T=>T(x,I)),P(x,x.attributes).forEach(T=>T()),x._x_ignore&&I()})})}function Hl(o,c=pt){c(o,g=>{oe(g),_e(g)})}function dd(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([c,g,x])=>{C(g)||x.some(I=>{if(document.querySelector(I))return Tt(`found "${I}", but missing ${c} plugin`),!0})})}var Io=[],To=!1;function Oo(o=()=>{}){return queueMicrotask(()=>{To||setTimeout(()=>{Po()})}),new Promise(c=>{Io.push(()=>{o(),c()})})}function Po(){for(To=!1;Io.length;)Io.shift()()}function hd(){To=!0}function Fo(o,c){return Array.isArray(c)?Wl(o,c.join(" ")):typeof c=="object"&&c!==null?pd(o,c):typeof c=="function"?Fo(o,c()):Wl(o,c)}function Wl(o,c){let g=I=>I.split(" ").filter(T=>!o.classList.contains(T)).filter(Boolean),x=I=>(o.classList.add(...I),()=>{o.classList.remove(...I)});return c=c===!0?c="":c||"",x(g(c))}function pd(o,c){let g=U=>U.split(" ").filter(Boolean),x=Object.entries(c).flatMap(([U,Z])=>Z?g(U):!1).filter(Boolean),I=Object.entries(c).flatMap(([U,Z])=>Z?!1:g(U)).filter(Boolean),T=[],R=[];return I.forEach(U=>{o.classList.contains(U)&&(o.classList.remove(U),R.push(U))}),x.forEach(U=>{o.classList.contains(U)||(o.classList.add(U),T.push(U))}),()=>{R.forEach(U=>o.classList.add(U)),T.forEach(U=>o.classList.remove(U))}}function ss(o,c){return typeof c=="object"&&c!==null?gd(o,c):md(o,c)}function gd(o,c){let g={};return Object.entries(c).forEach(([x,I])=>{g[x]=o.style[x],x.startsWith("--")||(x=vd(x)),o.style.setProperty(x,I)}),setTimeout(()=>{o.style.length===0&&o.removeAttribute("style")}),()=>{ss(o,g)}}function md(o,c){let g=o.getAttribute("style",c);return o.setAttribute("style",c),()=>{o.setAttribute("style",g||"")}}function vd(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ro(o,c=()=>{}){let g=!1;return function(){g?c.apply(this,arguments):(g=!0,o.apply(this,arguments))}}xt("transition",(o,{value:c,modifiers:g,expression:x},{evaluate:I})=>{typeof x=="function"&&(x=I(x)),x!==!1&&(!x||typeof x=="boolean"?_d(o,g,c):yd(o,x,c))});function yd(o,c,g){ql(o,Fo,""),{enter:I=>{o._x_transition.enter.during=I},"enter-start":I=>{o._x_transition.enter.start=I},"enter-end":I=>{o._x_transition.enter.end=I},leave:I=>{o._x_transition.leave.during=I},"leave-start":I=>{o._x_transition.leave.start=I},"leave-end":I=>{o._x_transition.leave.end=I}}[g](c)}function _d(o,c,g){ql(o,ss);let x=!c.includes("in")&&!c.includes("out")&&!g,I=x||c.includes("in")||["enter"].includes(g),T=x||c.includes("out")||["leave"].includes(g);c.includes("in")&&!x&&(c=c.filter((it,We)=>We<c.indexOf("out"))),c.includes("out")&&!x&&(c=c.filter((it,We)=>We>c.indexOf("out")));let R=!c.includes("opacity")&&!c.includes("scale"),U=R||c.includes("opacity"),Z=R||c.includes("scale"),we=U?0:1,ze=Z?bn(c,"scale",95)/100:1,gt=bn(c,"delay",0)/1e3,Ve=bn(c,"origin","center"),dt="opacity, transform",tr=bn(c,"duration",150)/1e3,Ir=bn(c,"duration",75)/1e3,De="cubic-bezier(0.4, 0.0, 0.2, 1)";I&&(o._x_transition.enter.during={transformOrigin:Ve,transitionDelay:`${gt}s`,transitionProperty:dt,transitionDuration:`${tr}s`,transitionTimingFunction:De},o._x_transition.enter.start={opacity:we,transform:`scale(${ze})`},o._x_transition.enter.end={opacity:1,transform:"scale(1)"}),T&&(o._x_transition.leave.during={transformOrigin:Ve,transitionDelay:`${gt}s`,transitionProperty:dt,transitionDuration:`${Ir}s`,transitionTimingFunction:De},o._x_transition.leave.start={opacity:1,transform:"scale(1)"},o._x_transition.leave.end={opacity:we,transform:`scale(${ze})`})}function ql(o,c,g={}){o._x_transition||(o._x_transition={enter:{during:g,start:g,end:g},leave:{during:g,start:g,end:g},in(x=()=>{},I=()=>{}){Mo(o,c,{during:this.enter.during,start:this.enter.start,end:this.enter.end},x,I)},out(x=()=>{},I=()=>{}){Mo(o,c,{during:this.leave.during,start:this.leave.start,end:this.leave.end},x,I)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(o,c,g,x){const I=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let T=()=>I(g);if(c){o._x_transition&&(o._x_transition.enter||o._x_transition.leave)?o._x_transition.enter&&(Object.entries(o._x_transition.enter.during).length||Object.entries(o._x_transition.enter.start).length||Object.entries(o._x_transition.enter.end).length)?o._x_transition.in(g):T():o._x_transition?o._x_transition.in(g):T();return}o._x_hidePromise=o._x_transition?new Promise((R,U)=>{o._x_transition.out(()=>{},()=>R(x)),o._x_transitioning&&o._x_transitioning.beforeCancel(()=>U({isFromCancelledTransition:!0}))}):Promise.resolve(x),queueMicrotask(()=>{let R=Xl(o);R?(R._x_hideChildren||(R._x_hideChildren=[]),R._x_hideChildren.push(o)):I(()=>{let U=Z=>{let we=Promise.all([Z._x_hidePromise,...(Z._x_hideChildren||[]).map(U)]).then(([ze])=>ze==null?void 0:ze());return delete Z._x_hidePromise,delete Z._x_hideChildren,we};U(o).catch(Z=>{if(!Z.isFromCancelledTransition)throw Z})})})};function Xl(o){let c=o.parentNode;if(!!c)return c._x_hidePromise?c:Xl(c)}function Mo(o,c,{during:g,start:x,end:I}={},T=()=>{},R=()=>{}){if(o._x_transitioning&&o._x_transitioning.cancel(),Object.keys(g).length===0&&Object.keys(x).length===0&&Object.keys(I).length===0){T(),R();return}let U,Z,we;wd(o,{start(){U=c(o,x)},during(){Z=c(o,g)},before:T,end(){U(),we=c(o,I)},after:R,cleanup(){Z(),we()}})}function wd(o,c){let g,x,I,T=Ro(()=>{ve(()=>{g=!0,x||c.before(),I||(c.end(),Po()),c.after(),o.isConnected&&c.cleanup(),delete o._x_transitioning})});o._x_transitioning={beforeCancels:[],beforeCancel(R){this.beforeCancels.push(R)},cancel:Ro(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();T()}),finish:T},ve(()=>{c.start(),c.during()}),hd(),requestAnimationFrame(()=>{if(g)return;let R=Number(getComputedStyle(o).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,U=Number(getComputedStyle(o).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;R===0&&(R=Number(getComputedStyle(o).animationDuration.replace("s",""))*1e3),ve(()=>{c.before()}),x=!0,requestAnimationFrame(()=>{g||(ve(()=>{c.end()}),Po(),setTimeout(o._x_transitioning.finish,R+U),I=!0)})})}function bn(o,c,g){if(o.indexOf(c)===-1)return g;const x=o[o.indexOf(c)+1];if(!x||c==="scale"&&isNaN(x))return g;if(c==="duration"||c==="delay"){let I=x.match(/([0-9]+)ms/);if(I)return I[1]}return c==="origin"&&["top","right","left","center","bottom"].includes(o[o.indexOf(c)+2])?[x,o[o.indexOf(c)+2]].join(" "):x}var Zr=!1;function Vr(o,c=()=>{}){return(...g)=>Zr?c(...g):o(...g)}function Ad(o){return(...c)=>Zr&&o(...c)}var Yl=[];function os(o){Yl.push(o)}function bd(o,c){Yl.forEach(g=>g(o,c)),Zr=!0,Kl(()=>{Br(c,(g,x)=>{x(g,()=>{})})}),Zr=!1}var Lo=!1;function Ed(o,c){c._x_dataStack||(c._x_dataStack=o._x_dataStack),Zr=!0,Lo=!0,Kl(()=>{xd(c)}),Zr=!1,Lo=!1}function xd(o){let c=!1;Br(o,(x,I)=>{pt(x,(T,R)=>{if(c&&gi(T))return R();c=!0,I(T,R)})})}function Kl(o){let c=$;j((g,x)=>{let I=c(g);return J(I),()=>{}}),o(),j(c)}function Zl(o,c,g,x=[]){switch(o._x_bindings||(o._x_bindings=z({})),o._x_bindings[c]=g,c=x.includes("camel")?Rd(c):c,c){case"value":Cd(o,g);break;case"style":Id(o,g);break;case"class":Sd(o,g);break;case"selected":case"checked":Td(o,c,g);break;default:Vl(o,c,g);break}}function Cd(o,c){if(o.type==="radio")o.attributes.value===void 0&&(o.value=c),window.fromModel&&(typeof c=="boolean"?o.checked=as(o.value)===c:o.checked=Jl(o.value,c));else if(o.type==="checkbox")Number.isInteger(c)?o.value=c:!Array.isArray(c)&&typeof c!="boolean"&&![null,void 0].includes(c)?o.value=String(c):Array.isArray(c)?o.checked=c.some(g=>Jl(g,o.value)):o.checked=!!c;else if(o.tagName==="SELECT")Fd(o,c);else{if(o.value===c)return;o.value=c===void 0?"":c}}function Sd(o,c){o._x_undoAddedClasses&&o._x_undoAddedClasses(),o._x_undoAddedClasses=Fo(o,c)}function Id(o,c){o._x_undoAddedStyles&&o._x_undoAddedStyles(),o._x_undoAddedStyles=ss(o,c)}function Td(o,c,g){Vl(o,c,g),Pd(o,c,g)}function Vl(o,c,g){[null,void 0,!1].includes(g)&&Md(c)?o.removeAttribute(c):(eu(c)&&(g=c),Od(o,c,g))}function Od(o,c,g){o.getAttribute(c)!=g&&o.setAttribute(c,g)}function Pd(o,c,g){o[c]!==g&&(o[c]=g)}function Fd(o,c){const g=[].concat(c).map(x=>x+"");Array.from(o.options).forEach(x=>{x.selected=g.includes(x.value)})}function Rd(o){return o.toLowerCase().replace(/-(\w)/g,(c,g)=>g.toUpperCase())}function Jl(o,c){return o==c}function as(o){return[1,"1","true","on","yes",!0].includes(o)?!0:[0,"0","false","off","no",!1].includes(o)?!1:o?Boolean(o):null}function eu(o){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(o)}function Md(o){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(o)}function Ld(o,c,g){return o._x_bindings&&o._x_bindings[c]!==void 0?o._x_bindings[c]:tu(o,c,g)}function Dd(o,c,g,x=!0){if(o._x_bindings&&o._x_bindings[c]!==void 0)return o._x_bindings[c];if(o._x_inlineBindings&&o._x_inlineBindings[c]!==void 0){let I=o._x_inlineBindings[c];return I.extract=x,es(()=>Dr(o,I.expression))}return tu(o,c,g)}function tu(o,c,g){let x=o.getAttribute(c);return x===null?typeof g=="function"?g():g:x===""?!0:eu(c)?!![c,"true"].includes(x):x}function ru(o,c){var g;return function(){var x=this,I=arguments,T=function(){g=null,o.apply(x,I)};clearTimeout(g),g=setTimeout(T,c)}}function iu(o,c){let g;return function(){let x=this,I=arguments;g||(o.apply(x,I),g=!0,setTimeout(()=>g=!1,c))}}function nu({get:o,set:c},{get:g,set:x}){let I=!0,T,R=$(()=>{let U=o(),Z=g();if(I)x(Do(U)),I=!1;else{let we=JSON.stringify(U),ze=JSON.stringify(Z);we!==T?x(Do(U)):we!==ze&&c(Do(Z))}T=JSON.stringify(o()),JSON.stringify(g())});return()=>{J(R)}}function Do(o){return typeof o=="object"?JSON.parse(JSON.stringify(o)):o}function kd(o){(Array.isArray(o)?o:[o]).forEach(g=>g(En))}var mi={},su=!1;function Bd(o,c){if(su||(mi=z(mi),su=!0),c===void 0)return mi[o];mi[o]=c,typeof c=="object"&&c!==null&&c.hasOwnProperty("init")&&typeof c.init=="function"&&mi[o].init(),ht(mi[o])}function Nd(){return mi}var ou={};function jd(o,c){let g=typeof c!="function"?()=>c:c;return o instanceof Element?au(o,g()):(ou[o]=g,()=>{})}function Ud(o){return Object.entries(ou).forEach(([c,g])=>{Object.defineProperty(o,c,{get(){return(...x)=>g(...x)}})}),o}function au(o,c,g){let x=[];for(;x.length;)x.pop()();let I=Object.entries(c).map(([R,U])=>({name:R,value:U})),T=N(I);return I=I.map(R=>T.find(U=>U.name===R.name)?{name:`x-bind:${R.name}`,value:`"${R.value}"`}:R),P(o,I,g).map(R=>{x.push(R.runCleanups),R()}),()=>{for(;x.length;)x.pop()()}}var lu={};function Qd(o,c){lu[o]=c}function Gd(o,c){return Object.entries(lu).forEach(([g,x])=>{Object.defineProperty(o,g,{get(){return(...I)=>x.bind(c)(...I)},enumerable:!1})}),o}var zd={get reactive(){return z},get release(){return J},get effect(){return $},get raw(){return Ee},version:"3.14.0",flushAndStopDeferringMutations:fe,dontAutoEvaluateFunctions:es,disableEffectScheduling:L,startObservingMutations:Oe,stopObservingMutations:Se,setReactivityEngine:B,onAttributeRemoved:Ne,onAttributesAdded:he,closestDataStack:ce,skipDuringClone:Vr,onlyDuringClone:Ad,addRootSelector:An,addInitSelector:Kr,interceptClone:os,addScopeToNode:re,deferMutations:Fe,mapAttributes:Le,evaluateLater:Ut,interceptInit:fd,setEvaluator:rs,mergeProxies:xe,extractProp:Dd,findClosest:lr,onElRemoved:se,closestRoot:mr,destroyTree:Hl,interceptor:ct,transition:Mo,setStyles:ss,mutateDom:ve,directive:xt,entangle:nu,throttle:iu,debounce:ru,evaluate:Dr,initTree:Br,nextTick:Oo,prefixed:kr,prefix:is,plugin:kd,magic:Vt,store:Bd,start:pi,clone:Ed,cloneNode:bd,bound:Ld,$data:be,watch:q,walk:pt,data:Qd,bind:jd},En=zd,ls=h(y());Vt("nextTick",()=>Oo),Vt("dispatch",o=>kt.bind(kt,o)),Vt("watch",(o,{evaluateLater:c,cleanup:g})=>(x,I)=>{let T=c(x),U=q(()=>{let Z;return T(we=>Z=we),Z},I);g(U)}),Vt("store",Nd),Vt("data",o=>be(o)),Vt("root",o=>mr(o)),Vt("refs",o=>(o._x_refs_proxy||(o._x_refs_proxy=xe($d(o))),o._x_refs_proxy));function $d(o){let c=[];return lr(o,g=>{g._x_refs&&c.push(g._x_refs)}),c}var ko={};function uu(o){return ko[o]||(ko[o]=0),++ko[o]}function Hd(o,c){return lr(o,g=>{if(g._x_ids&&g._x_ids[c])return!0})}function Wd(o,c){o._x_ids||(o._x_ids={}),o._x_ids[c]||(o._x_ids[c]=uu(c))}Vt("id",(o,{cleanup:c})=>(g,x=null)=>{let I=`${g}${x?`-${x}`:""}`;return qd(o,I,c,()=>{let T=Hd(o,g),R=T?T._x_ids[g]:uu(g);return x?`${g}-${R}-${x}`:`${g}-${R}`})}),os((o,c)=>{o._x_id&&(c._x_id=o._x_id)});function qd(o,c,g,x){if(o._x_id||(o._x_id={}),o._x_id[c])return o._x_id[c];let I=x();return o._x_id[c]=I,g(()=>{delete o._x_id[c]}),I}Vt("el",o=>o),cu("Focus","focus","focus"),cu("Persist","persist","persist");function cu(o,c,g){Vt(c,x=>Tt(`You can't use [$${c}] without first installing the "${o}" plugin here: https://alpinejs.dev/plugins/${g}`,x))}xt("modelable",(o,{expression:c},{effect:g,evaluateLater:x,cleanup:I})=>{let T=x(c),R=()=>{let ze;return T(gt=>ze=gt),ze},U=x(`${c} = __placeholder`),Z=ze=>U(()=>{},{scope:{__placeholder:ze}}),we=R();Z(we),queueMicrotask(()=>{if(!o._x_model)return;o._x_removeModelListeners.default();let ze=o._x_model.get,gt=o._x_model.set,Ve=nu({get(){return ze()},set(dt){gt(dt)}},{get(){return R()},set(dt){Z(dt)}});I(Ve)})}),xt("teleport",(o,{modifiers:c,expression:g},{cleanup:x})=>{o.tagName.toLowerCase()!=="template"&&Tt("x-teleport can only be used on a <template> tag",o);let I=fu(g),T=o.content.cloneNode(!0).firstElementChild;o._x_teleport=T,T._x_teleportBack=o,o.setAttribute("data-teleport-template",!0),T.setAttribute("data-teleport-target",!0),o._x_forwardEvents&&o._x_forwardEvents.forEach(U=>{T.addEventListener(U,Z=>{Z.stopPropagation(),o.dispatchEvent(new Z.constructor(Z.type,Z))})}),re(T,{},o);let R=(U,Z,we)=>{we.includes("prepend")?Z.parentNode.insertBefore(U,Z):we.includes("append")?Z.parentNode.insertBefore(U,Z.nextSibling):Z.appendChild(U)};ve(()=>{R(T,I,c),Vr(()=>{Br(T),T._x_ignore=!0})()}),o._x_teleportPutBack=()=>{let U=fu(g);ve(()=>{R(o._x_teleport,U,c)})},x(()=>T.remove())});var Xd=document.createElement("div");function fu(o){let c=Vr(()=>document.querySelector(o),()=>Xd)();return c||Tt(`Cannot find x-teleport element for selector: "${o}"`),c}var du=()=>{};du.inline=(o,{modifiers:c},{cleanup:g})=>{c.includes("self")?o._x_ignoreSelf=!0:o._x_ignore=!0,g(()=>{c.includes("self")?delete o._x_ignoreSelf:delete o._x_ignore})},xt("ignore",du),xt("effect",Vr((o,{expression:c},{effect:g})=>{g(Ut(o,c))}));function Bo(o,c,g,x){let I=o,T=Z=>x(Z),R={},U=(Z,we)=>ze=>we(Z,ze);if(g.includes("dot")&&(c=Yd(c)),g.includes("camel")&&(c=Kd(c)),g.includes("passive")&&(R.passive=!0),g.includes("capture")&&(R.capture=!0),g.includes("window")&&(I=window),g.includes("document")&&(I=document),g.includes("debounce")){let Z=g[g.indexOf("debounce")+1]||"invalid-wait",we=us(Z.split("ms")[0])?Number(Z.split("ms")[0]):250;T=ru(T,we)}if(g.includes("throttle")){let Z=g[g.indexOf("throttle")+1]||"invalid-wait",we=us(Z.split("ms")[0])?Number(Z.split("ms")[0]):250;T=iu(T,we)}return g.includes("prevent")&&(T=U(T,(Z,we)=>{we.preventDefault(),Z(we)})),g.includes("stop")&&(T=U(T,(Z,we)=>{we.stopPropagation(),Z(we)})),g.includes("once")&&(T=U(T,(Z,we)=>{Z(we),I.removeEventListener(c,T,R)})),(g.includes("away")||g.includes("outside"))&&(I=document,T=U(T,(Z,we)=>{o.contains(we.target)||we.target.isConnected!==!1&&(o.offsetWidth<1&&o.offsetHeight<1||o._x_isShown!==!1&&Z(we))})),g.includes("self")&&(T=U(T,(Z,we)=>{we.target===o&&Z(we)})),(Vd(c)||hu(c))&&(T=U(T,(Z,we)=>{Jd(we,g)||Z(we)})),I.addEventListener(c,T,R),()=>{I.removeEventListener(c,T,R)}}function Yd(o){return o.replace(/-/g,".")}function Kd(o){return o.toLowerCase().replace(/-(\w)/g,(c,g)=>g.toUpperCase())}function us(o){return!Array.isArray(o)&&!isNaN(o)}function Zd(o){return[" ","_"].includes(o)?o:o.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Vd(o){return["keydown","keyup"].includes(o)}function hu(o){return["contextmenu","click","mouse"].some(c=>o.includes(c))}function Jd(o,c){let g=c.filter(T=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(T));if(g.includes("debounce")){let T=g.indexOf("debounce");g.splice(T,us((g[T+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.includes("throttle")){let T=g.indexOf("throttle");g.splice(T,us((g[T+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.length===0||g.length===1&&pu(o.key).includes(g[0]))return!1;const I=["ctrl","shift","alt","meta","cmd","super"].filter(T=>g.includes(T));return g=g.filter(T=>!I.includes(T)),!(I.length>0&&I.filter(R=>((R==="cmd"||R==="super")&&(R="meta"),o[`${R}Key`])).length===I.length&&(hu(o.type)||pu(o.key).includes(g[0])))}function pu(o){if(!o)return[];o=Zd(o);let c={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return c[o]=o,Object.keys(c).map(g=>{if(c[g]===o)return g}).filter(g=>g)}xt("model",(o,{modifiers:c,expression:g},{effect:x,cleanup:I})=>{let T=o;c.includes("parent")&&(T=o.parentNode);let R=Ut(T,g),U;typeof g=="string"?U=Ut(T,`${g} = __placeholder`):typeof g=="function"&&typeof g()=="string"?U=Ut(T,`${g()} = __placeholder`):U=()=>{};let Z=()=>{let Ve;return R(dt=>Ve=dt),gu(Ve)?Ve.get():Ve},we=Ve=>{let dt;R(tr=>dt=tr),gu(dt)?dt.set(Ve):U(()=>{},{scope:{__placeholder:Ve}})};typeof g=="string"&&o.type==="radio"&&ve(()=>{o.hasAttribute("name")||o.setAttribute("name",g)});var ze=o.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(o.type)||c.includes("lazy")?"change":"input";let gt=Zr?()=>{}:Bo(o,ze,c,Ve=>{we(No(o,c,Ve,Z()))});if(c.includes("fill")&&([void 0,null,""].includes(Z())||o.type==="checkbox"&&Array.isArray(Z())||o.tagName.toLowerCase()==="select"&&o.multiple)&&we(No(o,c,{target:o},Z())),o._x_removeModelListeners||(o._x_removeModelListeners={}),o._x_removeModelListeners.default=gt,I(()=>o._x_removeModelListeners.default()),o.form){let Ve=Bo(o.form,"reset",[],dt=>{Oo(()=>o._x_model&&o._x_model.set(No(o,c,{target:o},Z())))});I(()=>Ve())}o._x_model={get(){return Z()},set(Ve){we(Ve)}},o._x_forceModelUpdate=Ve=>{Ve===void 0&&typeof g=="string"&&g.match(/\./)&&(Ve=""),window.fromModel=!0,ve(()=>Zl(o,"value",Ve)),delete window.fromModel},x(()=>{let Ve=Z();c.includes("unintrusive")&&document.activeElement.isSameNode(o)||o._x_forceModelUpdate(Ve)})});function No(o,c,g,x){return ve(()=>{if(g instanceof CustomEvent&&g.detail!==void 0)return g.detail!==null&&g.detail!==void 0?g.detail:g.target.value;if(o.type==="checkbox")if(Array.isArray(x)){let I=null;return c.includes("number")?I=jo(g.target.value):c.includes("boolean")?I=as(g.target.value):I=g.target.value,g.target.checked?x.includes(I)?x:x.concat([I]):x.filter(T=>!eh(T,I))}else return g.target.checked;else{if(o.tagName.toLowerCase()==="select"&&o.multiple)return c.includes("number")?Array.from(g.target.selectedOptions).map(I=>{let T=I.value||I.text;return jo(T)}):c.includes("boolean")?Array.from(g.target.selectedOptions).map(I=>{let T=I.value||I.text;return as(T)}):Array.from(g.target.selectedOptions).map(I=>I.value||I.text);{let I;return o.type==="radio"?g.target.checked?I=g.target.value:I=x:I=g.target.value,c.includes("number")?jo(I):c.includes("boolean")?as(I):c.includes("trim")?I.trim():I}}})}function jo(o){let c=o?parseFloat(o):null;return th(c)?c:o}function eh(o,c){return o==c}function th(o){return!Array.isArray(o)&&!isNaN(o)}function gu(o){return o!==null&&typeof o=="object"&&typeof o.get=="function"&&typeof o.set=="function"}xt("cloak",o=>queueMicrotask(()=>ve(()=>o.removeAttribute(kr("cloak"))))),Kr(()=>`[${kr("init")}]`),xt("init",Vr((o,{expression:c},{evaluate:g})=>typeof c=="string"?!!c.trim()&&g(c,{},!1):g(c,{},!1))),xt("text",(o,{expression:c},{effect:g,evaluateLater:x})=>{let I=x(c);g(()=>{I(T=>{ve(()=>{o.textContent=T})})})}),xt("html",(o,{expression:c},{effect:g,evaluateLater:x})=>{let I=x(c);g(()=>{I(T=>{ve(()=>{o.innerHTML=T,o._x_ignoreSelf=!0,Br(o),delete o._x_ignoreSelf})})})}),Le(Te(":",$e(kr("bind:"))));var mu=(o,{value:c,modifiers:g,expression:x,original:I},{effect:T,cleanup:R})=>{if(!c){let Z={};Ud(Z),Ut(o,x)(ze=>{au(o,ze,I)},{scope:Z});return}if(c==="key")return rh(o,x);if(o._x_inlineBindings&&o._x_inlineBindings[c]&&o._x_inlineBindings[c].extract)return;let U=Ut(o,x);T(()=>U(Z=>{Z===void 0&&typeof x=="string"&&x.match(/\./)&&(Z=""),ve(()=>Zl(o,c,Z,g))})),R(()=>{o._x_undoAddedClasses&&o._x_undoAddedClasses(),o._x_undoAddedStyles&&o._x_undoAddedStyles()})};mu.inline=(o,{value:c,modifiers:g,expression:x})=>{!c||(o._x_inlineBindings||(o._x_inlineBindings={}),o._x_inlineBindings[c]={expression:x,extract:!1})},xt("bind",mu);function rh(o,c){o._x_keyExpression=c}An(()=>`[${kr("data")}]`),xt("data",(o,{expression:c},{cleanup:g})=>{if(ih(o))return;c=c===""?"{}":c;let x={};Lr(x,o);let I={};Gd(I,x);let T=Dr(o,c,{scope:I});(T===void 0||T===!0)&&(T={}),Lr(T,o);let R=z(T);ht(R);let U=re(o,R);R.init&&Dr(o,R.init),g(()=>{R.destroy&&Dr(o,R.destroy),U()})}),os((o,c)=>{o._x_dataStack&&(c._x_dataStack=o._x_dataStack,c.setAttribute("data-has-alpine-state",!0))});function ih(o){return Zr?Lo?!0:o.hasAttribute("data-has-alpine-state"):!1}xt("show",(o,{modifiers:c,expression:g},{effect:x})=>{let I=Ut(o,g);o._x_doHide||(o._x_doHide=()=>{ve(()=>{o.style.setProperty("display","none",c.includes("important")?"important":void 0)})}),o._x_doShow||(o._x_doShow=()=>{ve(()=>{o.style.length===1&&o.style.display==="none"?o.removeAttribute("style"):o.style.removeProperty("display")})});let T=()=>{o._x_doHide(),o._x_isShown=!1},R=()=>{o._x_doShow(),o._x_isShown=!0},U=()=>setTimeout(R),Z=Ro(gt=>gt?R():T(),gt=>{typeof o._x_toggleAndCascadeWithTransitions=="function"?o._x_toggleAndCascadeWithTransitions(o,gt,R,T):gt?U():T()}),we,ze=!0;x(()=>I(gt=>{!ze&&gt===we||(c.includes("immediate")&&(gt?U():T()),Z(gt),we=gt,ze=!1)}))}),xt("for",(o,{expression:c},{effect:g,cleanup:x})=>{let I=sh(c),T=Ut(o,I.items),R=Ut(o,o._x_keyExpression||"index");o._x_prevKeys=[],o._x_lookup={},g(()=>nh(o,I,T,R)),x(()=>{Object.values(o._x_lookup).forEach(U=>U.remove()),delete o._x_prevKeys,delete o._x_lookup})});function nh(o,c,g,x){let I=R=>typeof R=="object"&&!Array.isArray(R),T=o;g(R=>{oh(R)&&R>=0&&(R=Array.from(Array(R).keys(),De=>De+1)),R===void 0&&(R=[]);let U=o._x_lookup,Z=o._x_prevKeys,we=[],ze=[];if(I(R))R=Object.entries(R).map(([De,it])=>{let We=vu(c,it,De,R);x(nt=>{ze.includes(nt)&&Tt("Duplicate key on x-for",o),ze.push(nt)},{scope:{index:De,...We}}),we.push(We)});else for(let De=0;De<R.length;De++){let it=vu(c,R[De],De,R);x(We=>{ze.includes(We)&&Tt("Duplicate key on x-for",o),ze.push(We)},{scope:{index:De,...it}}),we.push(it)}let gt=[],Ve=[],dt=[],tr=[];for(let De=0;De<Z.length;De++){let it=Z[De];ze.indexOf(it)===-1&&dt.push(it)}Z=Z.filter(De=>!dt.includes(De));let Ir="template";for(let De=0;De<ze.length;De++){let it=ze[De],We=Z.indexOf(it);if(We===-1)Z.splice(De,0,it),gt.push([Ir,De]);else if(We!==De){let nt=Z.splice(De,1)[0],Qt=Z.splice(We-1,1)[0];Z.splice(De,0,Qt),Z.splice(We,0,nt),Ve.push([nt,Qt])}else tr.push(it);Ir=it}for(let De=0;De<dt.length;De++){let it=dt[De];U[it]._x_effects&&U[it]._x_effects.forEach(O),U[it].remove(),U[it]=null,delete U[it]}for(let De=0;De<Ve.length;De++){let[it,We]=Ve[De],nt=U[it],Qt=U[We],vr=document.createElement("div");ve(()=>{Qt||Tt('x-for ":key" is undefined or invalid',T,We,U),Qt.after(vr),nt.after(Qt),Qt._x_currentIfEl&&Qt.after(Qt._x_currentIfEl),vr.before(nt),nt._x_currentIfEl&&nt.after(nt._x_currentIfEl),vr.remove()}),Qt._x_refreshXForScope(we[ze.indexOf(We)])}for(let De=0;De<gt.length;De++){let[it,We]=gt[De],nt=it==="template"?T:U[it];nt._x_currentIfEl&&(nt=nt._x_currentIfEl);let Qt=we[We],vr=ze[We],Tr=document.importNode(T.content,!0).firstElementChild,Di=z(Qt);re(Tr,Di,T),Tr._x_refreshXForScope=xn=>{Object.entries(xn).forEach(([Cn,ki])=>{Di[Cn]=ki})},ve(()=>{nt.after(Tr),Vr(()=>Br(Tr))()}),typeof vr=="object"&&Tt("x-for key cannot be an object, it must be a string or an integer",T),U[vr]=Tr}for(let De=0;De<tr.length;De++)U[tr[De]]._x_refreshXForScope(we[ze.indexOf(tr[De])]);T._x_prevKeys=ze})}function sh(o){let c=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,g=/^\s*\(|\)\s*$/g,x=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,I=o.match(x);if(!I)return;let T={};T.items=I[2].trim();let R=I[1].replace(g,"").trim(),U=R.match(c);return U?(T.item=R.replace(c,"").trim(),T.index=U[1].trim(),U[2]&&(T.collection=U[2].trim())):T.item=R,T}function vu(o,c,g,x){let I={};return/^\[.*\]$/.test(o.item)&&Array.isArray(c)?o.item.replace("[","").replace("]","").split(",").map(R=>R.trim()).forEach((R,U)=>{I[R]=c[U]}):/^\{.*\}$/.test(o.item)&&!Array.isArray(c)&&typeof c=="object"?o.item.replace("{","").replace("}","").split(",").map(R=>R.trim()).forEach(R=>{I[R]=c[R]}):I[o.item]=c,o.index&&(I[o.index]=g),o.collection&&(I[o.collection]=x),I}function oh(o){return!Array.isArray(o)&&!isNaN(o)}function yu(){}yu.inline=(o,{expression:c},{cleanup:g})=>{let x=mr(o);x._x_refs||(x._x_refs={}),x._x_refs[c]=o,g(()=>delete x._x_refs[c])},xt("ref",yu),xt("if",(o,{expression:c},{effect:g,cleanup:x})=>{o.tagName.toLowerCase()!=="template"&&Tt("x-if can only be used on a <template> tag",o);let I=Ut(o,c),T=()=>{if(o._x_currentIfEl)return o._x_currentIfEl;let U=o.content.cloneNode(!0).firstElementChild;return re(U,{},o),ve(()=>{o.after(U),Vr(()=>Br(U))()}),o._x_currentIfEl=U,o._x_undoIf=()=>{pt(U,Z=>{Z._x_effects&&Z._x_effects.forEach(O)}),U.remove(),delete o._x_currentIfEl},U},R=()=>{!o._x_undoIf||(o._x_undoIf(),delete o._x_undoIf)};g(()=>I(U=>{U?T():R()})),x(()=>o._x_undoIf&&o._x_undoIf())}),xt("id",(o,{expression:c},{evaluate:g})=>{g(c).forEach(I=>Wd(o,I))}),os((o,c)=>{o._x_ids&&(c._x_ids=o._x_ids)}),Le(Te("@",$e(kr("on:")))),xt("on",Vr((o,{value:c,modifiers:g,expression:x},{cleanup:I})=>{let T=x?Ut(o,x):()=>{};o.tagName.toLowerCase()==="template"&&(o._x_forwardEvents||(o._x_forwardEvents=[]),o._x_forwardEvents.includes(c)||o._x_forwardEvents.push(c));let R=Bo(o,c,g,U=>{T(()=>{},{scope:{$event:U},params:[U]})});I(()=>R())})),cs("Collapse","collapse","collapse"),cs("Intersect","intersect","intersect"),cs("Focus","trap","focus"),cs("Mask","mask","mask");function cs(o,c,g){xt(c,x=>Tt(`You can't use [x-${c}] without first installing the "${o}" plugin here: https://alpinejs.dev/plugins/${g}`,x))}En.setEvaluator(mn),En.setReactivityEngine({reactive:ls.reactive,effect:ls.effect,release:ls.stop,raw:ls.toRaw});var _u=En,ah=_u}}),Ep=qr({"../alpine/packages/collapse/dist/module.cjs.js"(t,e){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l=(_,m)=>{for(var v in m)r(_,v,{get:m[v],enumerable:!0})},a=(_,m,v,y)=>{if(m&&typeof m=="object"||typeof m=="function")for(let A of n(m))!s.call(_,A)&&A!==v&&r(_,A,{get:()=>m[A],enumerable:!(y=i(m,A))||y.enumerable});return _},u=_=>a(r({},"__esModule",{value:!0}),_),f={};l(f,{collapse:()=>d,default:()=>p}),e.exports=u(f);function d(_){_.directive("collapse",m),m.inline=(v,{modifiers:y})=>{!y.includes("min")||(v._x_doShow=()=>{},v._x_doHide=()=>{})};function m(v,{modifiers:y}){let A=h(y,"duration",250)/1e3,w=h(y,"min",0),E=!y.includes("min");v._x_isShown||(v.style.height=`${w}px`),!v._x_isShown&&E&&(v.hidden=!0),v._x_isShown||(v.style.overflow="hidden");let S=(M,F)=>{let O=_.setStyles(M,F);return F.height?()=>{}:O},Q={transitionProperty:"height",transitionDuration:`${A}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};v._x_transition={in(M=()=>{},F=()=>{}){E&&(v.hidden=!1),E&&(v.style.display=null);let O=v.getBoundingClientRect().height;v.style.height="auto";let k=v.getBoundingClientRect().height;O===k&&(O=w),_.transition(v,_.setStyles,{during:Q,start:{height:O+"px"},end:{height:k+"px"}},()=>v._x_isShown=!0,()=>{Math.abs(v.getBoundingClientRect().height-k)<1&&(v.style.overflow=null)})},out(M=()=>{},F=()=>{}){let O=v.getBoundingClientRect().height;_.transition(v,S,{during:Q,start:{height:O+"px"},end:{height:w+"px"}},()=>v.style.overflow="hidden",()=>{v._x_isShown=!1,v.style.height==`${w}px`&&E&&(v.style.display="none",v.hidden=!0)})}}}}function h(_,m,v){if(_.indexOf(m)===-1)return v;const y=_[_.indexOf(m)+1];if(!y)return v;if(m==="duration"){let A=y.match(/([0-9]+)ms/);if(A)return A[1]}if(m==="min"){let A=y.match(/([0-9]+)px/);if(A)return A[1]}return y}var p=d}}),xp=qr({"../alpine/packages/focus/dist/module.cjs.js"(t,e){var r=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,u=(F,O)=>function(){return O||(0,F[s(F)[0]])((O={exports:{}}).exports,O),O.exports},f=(F,O)=>{for(var k in O)i(F,k,{get:O[k],enumerable:!0})},d=(F,O,k,W)=>{if(O&&typeof O=="object"||typeof O=="function")for(let z of s(O))!a.call(F,z)&&z!==k&&i(F,z,{get:()=>O[z],enumerable:!(W=n(O,z))||W.enumerable});return F},h=(F,O,k)=>(k=F!=null?r(l(F)):{},d(O||!F||!F.__esModule?i(k,"default",{value:F,enumerable:!0}):k,F)),p=F=>d(i({},"__esModule",{value:!0}),F),_=u({"node_modules/tabbable/dist/index.js"(F){Object.defineProperty(F,"__esModule",{value:!0});var O=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],k=O.join(","),W=typeof Element=="undefined",z=W?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$=!W&&Element.prototype.getRootNode?function(ve){return ve.getRootNode()}:function(ve){return ve.ownerDocument},J=function(Y,te,Fe){var fe=Array.prototype.slice.apply(Y.querySelectorAll(k));return te&&z.call(Y,k)&&fe.unshift(Y),fe=fe.filter(Fe),fe},Ee=function ve(Y,te,Fe){for(var fe=[],rt=Array.from(Y);rt.length;){var be=rt.shift();if(be.tagName==="SLOT"){var re=be.assignedElements(),ce=re.length?re:be.children,xe=ve(ce,!0,Fe);Fe.flatten?fe.push.apply(fe,xe):fe.push({scope:be,candidates:xe})}else{var Ye=z.call(be,k);Ye&&Fe.filter(be)&&(te||!Y.includes(be))&&fe.push(be);var je=be.shadowRoot||typeof Fe.getShadowRoot=="function"&&Fe.getShadowRoot(be),ht=!Fe.shadowRootFilter||Fe.shadowRootFilter(be);if(je&&ht){var ct=ve(je===!0?be.children:je.children,!0,Fe);Fe.flatten?fe.push.apply(fe,ct):fe.push({scope:be,candidates:ct})}else rt.unshift.apply(rt,be.children)}}return fe},pe=function(Y,te){return Y.tabIndex<0&&(te||/^(AUDIO|VIDEO|DETAILS)$/.test(Y.tagName)||Y.isContentEditable)&&isNaN(parseInt(Y.getAttribute("tabindex"),10))?0:Y.tabIndex},L=function(Y,te){return Y.tabIndex===te.tabIndex?Y.documentOrder-te.documentOrder:Y.tabIndex-te.tabIndex},B=function(Y){return Y.tagName==="INPUT"},j=function(Y){return B(Y)&&Y.type==="hidden"},V=function(Y){var te=Y.tagName==="DETAILS"&&Array.prototype.slice.apply(Y.children).some(function(Fe){return Fe.tagName==="SUMMARY"});return te},q=function(Y,te){for(var Fe=0;Fe<Y.length;Fe++)if(Y[Fe].checked&&Y[Fe].form===te)return Y[Fe]},ne=function(Y){if(!Y.name)return!0;var te=Y.form||$(Y),Fe=function(re){return te.querySelectorAll('input[type="radio"][name="'+re+'"]')},fe;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")fe=Fe(window.CSS.escape(Y.name));else try{fe=Fe(Y.name)}catch(be){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",be.message),!1}var rt=q(fe,Y.form);return!rt||rt===Y},X=function(Y){return B(Y)&&Y.type==="radio"},ie=function(Y){return X(Y)&&!ne(Y)},ae=function(Y){var te=Y.getBoundingClientRect(),Fe=te.width,fe=te.height;return Fe===0&&fe===0},se=function(Y,te){var Fe=te.displayCheck,fe=te.getShadowRoot;if(getComputedStyle(Y).visibility==="hidden")return!0;var rt=z.call(Y,"details>summary:first-of-type"),be=rt?Y.parentElement:Y;if(z.call(be,"details:not([open]) *"))return!0;var re=$(Y).host,ce=(re==null?void 0:re.ownerDocument.contains(re))||Y.ownerDocument.contains(Y);if(!Fe||Fe==="full"){if(typeof fe=="function"){for(var xe=Y;Y;){var Ye=Y.parentElement,je=$(Y);if(Ye&&!Ye.shadowRoot&&fe(Ye)===!0)return ae(Y);Y.assignedSlot?Y=Y.assignedSlot:!Ye&&je!==Y.ownerDocument?Y=je.host:Y=Ye}Y=xe}if(ce)return!Y.getClientRects().length}else if(Fe==="non-zero-area")return ae(Y);return!1},he=function(Y){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(Y.tagName))for(var te=Y.parentElement;te;){if(te.tagName==="FIELDSET"&&te.disabled){for(var Fe=0;Fe<te.children.length;Fe++){var fe=te.children.item(Fe);if(fe.tagName==="LEGEND")return z.call(te,"fieldset[disabled] *")?!0:!fe.contains(Y)}return!0}te=te.parentElement}return!1},Ne=function(Y,te){return!(te.disabled||j(te)||se(te,Y)||V(te)||he(te))},oe=function(Y,te){return!(ie(te)||pe(te)<0||!Ne(Y,te))},_e=function(Y){var te=parseInt(Y.getAttribute("tabindex"),10);return!!(isNaN(te)||te>=0)},Re=function ve(Y){var te=[],Fe=[];return Y.forEach(function(fe,rt){var be=!!fe.scope,re=be?fe.scope:fe,ce=pe(re,be),xe=be?ve(fe.candidates):re;ce===0?be?te.push.apply(te,xe):te.push(re):Fe.push({documentOrder:rt,tabIndex:ce,item:fe,isScope:be,content:xe})}),Fe.sort(L).reduce(function(fe,rt){return rt.isScope?fe.push.apply(fe,rt.content):fe.push(rt.content),fe},[]).concat(te)},Xe=function(Y,te){te=te||{};var Fe;return te.getShadowRoot?Fe=Ee([Y],te.includeContainer,{filter:oe.bind(null,te),flatten:!1,getShadowRoot:te.getShadowRoot,shadowRootFilter:_e}):Fe=J(Y,te.includeContainer,oe.bind(null,te)),Re(Fe)},Oe=function(Y,te){te=te||{};var Fe;return te.getShadowRoot?Fe=Ee([Y],te.includeContainer,{filter:Ne.bind(null,te),flatten:!0,getShadowRoot:te.getShadowRoot}):Fe=J(Y,te.includeContainer,Ne.bind(null,te)),Fe},Se=function(Y,te){if(te=te||{},!Y)throw new Error("No node provided");return z.call(Y,k)===!1?!1:oe(te,Y)},yt=O.concat("iframe").join(","),ft=function(Y,te){if(te=te||{},!Y)throw new Error("No node provided");return z.call(Y,yt)===!1?!1:Ne(te,Y)};F.focusable=Oe,F.isFocusable=ft,F.isTabbable=Se,F.tabbable=Xe}}),m=u({"node_modules/focus-trap/dist/focus-trap.js"(F){Object.defineProperty(F,"__esModule",{value:!0});var O=_();function k(ne,X){var ie=Object.keys(ne);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(ne);X&&(ae=ae.filter(function(se){return Object.getOwnPropertyDescriptor(ne,se).enumerable})),ie.push.apply(ie,ae)}return ie}function W(ne){for(var X=1;X<arguments.length;X++){var ie=arguments[X]!=null?arguments[X]:{};X%2?k(Object(ie),!0).forEach(function(ae){z(ne,ae,ie[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(ie)):k(Object(ie)).forEach(function(ae){Object.defineProperty(ne,ae,Object.getOwnPropertyDescriptor(ie,ae))})}return ne}function z(ne,X,ie){return X in ne?Object.defineProperty(ne,X,{value:ie,enumerable:!0,configurable:!0,writable:!0}):ne[X]=ie,ne}var $=function(){var ne=[];return{activateTrap:function(ie){if(ne.length>0){var ae=ne[ne.length-1];ae!==ie&&ae.pause()}var se=ne.indexOf(ie);se===-1||ne.splice(se,1),ne.push(ie)},deactivateTrap:function(ie){var ae=ne.indexOf(ie);ae!==-1&&ne.splice(ae,1),ne.length>0&&ne[ne.length-1].unpause()}}}(),J=function(X){return X.tagName&&X.tagName.toLowerCase()==="input"&&typeof X.select=="function"},Ee=function(X){return X.key==="Escape"||X.key==="Esc"||X.keyCode===27},pe=function(X){return X.key==="Tab"||X.keyCode===9},L=function(X){return setTimeout(X,0)},B=function(X,ie){var ae=-1;return X.every(function(se,he){return ie(se)?(ae=he,!1):!0}),ae},j=function(X){for(var ie=arguments.length,ae=new Array(ie>1?ie-1:0),se=1;se<ie;se++)ae[se-1]=arguments[se];return typeof X=="function"?X.apply(void 0,ae):X},V=function(X){return X.target.shadowRoot&&typeof X.composedPath=="function"?X.composedPath()[0]:X.target},q=function(X,ie){var ae=(ie==null?void 0:ie.document)||document,se=W({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},ie),he={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},Ne,oe=function(re,ce,xe){return re&&re[ce]!==void 0?re[ce]:se[xe||ce]},_e=function(re){return he.containerGroups.findIndex(function(ce){var xe=ce.container,Ye=ce.tabbableNodes;return xe.contains(re)||Ye.find(function(je){return je===re})})},Re=function(re){var ce=se[re];if(typeof ce=="function"){for(var xe=arguments.length,Ye=new Array(xe>1?xe-1:0),je=1;je<xe;je++)Ye[je-1]=arguments[je];ce=ce.apply(void 0,Ye)}if(ce===!0&&(ce=void 0),!ce){if(ce===void 0||ce===!1)return ce;throw new Error("`".concat(re,"` was specified but was not a node, or did not return a node"))}var ht=ce;if(typeof ce=="string"&&(ht=ae.querySelector(ce),!ht))throw new Error("`".concat(re,"` as selector refers to no known node"));return ht},Xe=function(){var re=Re("initialFocus");if(re===!1)return!1;if(re===void 0)if(_e(ae.activeElement)>=0)re=ae.activeElement;else{var ce=he.tabbableGroups[0],xe=ce&&ce.firstTabbableNode;re=xe||Re("fallbackFocus")}if(!re)throw new Error("Your focus-trap needs to have at least one focusable element");return re},Oe=function(){if(he.containerGroups=he.containers.map(function(re){var ce=O.tabbable(re,se.tabbableOptions),xe=O.focusable(re,se.tabbableOptions);return{container:re,tabbableNodes:ce,focusableNodes:xe,firstTabbableNode:ce.length>0?ce[0]:null,lastTabbableNode:ce.length>0?ce[ce.length-1]:null,nextTabbableNode:function(je){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ct=xe.findIndex(function(er){return er===je});if(!(ct<0))return ht?xe.slice(ct+1).find(function(er){return O.isTabbable(er,se.tabbableOptions)}):xe.slice(0,ct).reverse().find(function(er){return O.isTabbable(er,se.tabbableOptions)})}}}),he.tabbableGroups=he.containerGroups.filter(function(re){return re.tabbableNodes.length>0}),he.tabbableGroups.length<=0&&!Re("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},Se=function be(re){if(re!==!1&&re!==ae.activeElement){if(!re||!re.focus){be(Xe());return}re.focus({preventScroll:!!se.preventScroll}),he.mostRecentlyFocusedNode=re,J(re)&&re.select()}},yt=function(re){var ce=Re("setReturnFocus",re);return ce||(ce===!1?!1:re)},ft=function(re){var ce=V(re);if(!(_e(ce)>=0)){if(j(se.clickOutsideDeactivates,re)){Ne.deactivate({returnFocus:se.returnFocusOnDeactivate&&!O.isFocusable(ce,se.tabbableOptions)});return}j(se.allowOutsideClick,re)||re.preventDefault()}},ve=function(re){var ce=V(re),xe=_e(ce)>=0;xe||ce instanceof Document?xe&&(he.mostRecentlyFocusedNode=ce):(re.stopImmediatePropagation(),Se(he.mostRecentlyFocusedNode||Xe()))},Y=function(re){var ce=V(re);Oe();var xe=null;if(he.tabbableGroups.length>0){var Ye=_e(ce),je=Ye>=0?he.containerGroups[Ye]:void 0;if(Ye<0)re.shiftKey?xe=he.tabbableGroups[he.tabbableGroups.length-1].lastTabbableNode:xe=he.tabbableGroups[0].firstTabbableNode;else if(re.shiftKey){var ht=B(he.tabbableGroups,function(Lr){var ci=Lr.firstTabbableNode;return ce===ci});if(ht<0&&(je.container===ce||O.isFocusable(ce,se.tabbableOptions)&&!O.isTabbable(ce,se.tabbableOptions)&&!je.nextTabbableNode(ce,!1))&&(ht=Ye),ht>=0){var ct=ht===0?he.tabbableGroups.length-1:ht-1,er=he.tabbableGroups[ct];xe=er.lastTabbableNode}}else{var _t=B(he.tabbableGroups,function(Lr){var ci=Lr.lastTabbableNode;return ce===ci});if(_t<0&&(je.container===ce||O.isFocusable(ce,se.tabbableOptions)&&!O.isTabbable(ce,se.tabbableOptions)&&!je.nextTabbableNode(ce))&&(_t=Ye),_t>=0){var ui=_t===he.tabbableGroups.length-1?0:_t+1,Vt=he.tabbableGroups[ui];xe=Vt.firstTabbableNode}}}else xe=Re("fallbackFocus");xe&&(re.preventDefault(),Se(xe))},te=function(re){if(Ee(re)&&j(se.escapeDeactivates,re)!==!1){re.preventDefault(),Ne.deactivate();return}if(pe(re)){Y(re);return}},Fe=function(re){var ce=V(re);_e(ce)>=0||j(se.clickOutsideDeactivates,re)||j(se.allowOutsideClick,re)||(re.preventDefault(),re.stopImmediatePropagation())},fe=function(){if(!!he.active)return $.activateTrap(Ne),he.delayInitialFocusTimer=se.delayInitialFocus?L(function(){Se(Xe())}):Se(Xe()),ae.addEventListener("focusin",ve,!0),ae.addEventListener("mousedown",ft,{capture:!0,passive:!1}),ae.addEventListener("touchstart",ft,{capture:!0,passive:!1}),ae.addEventListener("click",Fe,{capture:!0,passive:!1}),ae.addEventListener("keydown",te,{capture:!0,passive:!1}),Ne},rt=function(){if(!!he.active)return ae.removeEventListener("focusin",ve,!0),ae.removeEventListener("mousedown",ft,!0),ae.removeEventListener("touchstart",ft,!0),ae.removeEventListener("click",Fe,!0),ae.removeEventListener("keydown",te,!0),Ne};return Ne={get active(){return he.active},get paused(){return he.paused},activate:function(re){if(he.active)return this;var ce=oe(re,"onActivate"),xe=oe(re,"onPostActivate"),Ye=oe(re,"checkCanFocusTrap");Ye||Oe(),he.active=!0,he.paused=!1,he.nodeFocusedBeforeActivation=ae.activeElement,ce&&ce();var je=function(){Ye&&Oe(),fe(),xe&&xe()};return Ye?(Ye(he.containers.concat()).then(je,je),this):(je(),this)},deactivate:function(re){if(!he.active)return this;var ce=W({onDeactivate:se.onDeactivate,onPostDeactivate:se.onPostDeactivate,checkCanReturnFocus:se.checkCanReturnFocus},re);clearTimeout(he.delayInitialFocusTimer),he.delayInitialFocusTimer=void 0,rt(),he.active=!1,he.paused=!1,$.deactivateTrap(Ne);var xe=oe(ce,"onDeactivate"),Ye=oe(ce,"onPostDeactivate"),je=oe(ce,"checkCanReturnFocus"),ht=oe(ce,"returnFocus","returnFocusOnDeactivate");xe&&xe();var ct=function(){L(function(){ht&&Se(yt(he.nodeFocusedBeforeActivation)),Ye&&Ye()})};return ht&&je?(je(yt(he.nodeFocusedBeforeActivation)).then(ct,ct),this):(ct(),this)},pause:function(){return he.paused||!he.active?this:(he.paused=!0,rt(),this)},unpause:function(){return!he.paused||!he.active?this:(he.paused=!1,Oe(),fe(),this)},updateContainerElements:function(re){var ce=[].concat(re).filter(Boolean);return he.containers=ce.map(function(xe){return typeof xe=="string"?ae.querySelector(xe):xe}),he.active&&Oe(),this}},Ne.updateContainerElements(X),Ne};F.createFocusTrap=q}}),v={};f(v,{default:()=>M,focus:()=>w}),e.exports=p(v);var y=h(m()),A=h(_());function w(F){let O,k;window.addEventListener("focusin",()=>{O=k,k=document.activeElement}),F.magic("focus",W=>{let z=W;return{__noscroll:!1,__wrapAround:!1,within($){return z=$,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable($){return(0,A.isFocusable)($)},previouslyFocused(){return O},lastFocused(){return O},focused(){return k},focusables(){return Array.isArray(z)?z:(0,A.focusable)(z,{displayCheck:"none"})},all(){return this.focusables()},isFirst($){let J=this.all();return J[0]&&J[0].isSameNode($)},isLast($){let J=this.all();return J.length&&J.slice(-1)[0].isSameNode($)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let $=this.all(),J=document.activeElement;if($.indexOf(J)!==-1)return this.__wrapAround&&$.indexOf(J)===$.length-1?$[0]:$[$.indexOf(J)+1]},getPrevious(){let $=this.all(),J=document.activeElement;if($.indexOf(J)!==-1)return this.__wrapAround&&$.indexOf(J)===0?$.slice(-1)[0]:$[$.indexOf(J)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus($){!$||setTimeout(()=>{$.hasAttribute("tabindex")||$.setAttribute("tabindex","0"),$.focus({preventScroll:this.__noscroll})})}}}),F.directive("trap",F.skipDuringClone((W,{expression:z,modifiers:$},{effect:J,evaluateLater:Ee,cleanup:pe})=>{let L=Ee(z),B=!1,j={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>W};if($.includes("noautofocus"))j.initialFocus=!1;else{let ie=W.querySelector("[autofocus]");ie&&(j.initialFocus=ie)}let V=(0,y.createFocusTrap)(W,j),q=()=>{},ne=()=>{};const X=()=>{q(),q=()=>{},ne(),ne=()=>{},V.deactivate({returnFocus:!$.includes("noreturn")})};J(()=>L(ie=>{B!==ie&&(ie&&!B&&($.includes("noscroll")&&(ne=Q()),$.includes("inert")&&(q=E(W)),setTimeout(()=>{V.activate()},15)),!ie&&B&&X(),B=!!ie)})),pe(X)},(W,{expression:z,modifiers:$},{evaluate:J})=>{$.includes("inert")&&J(z)&&E(W)}))}function E(F){let O=[];return S(F,k=>{let W=k.hasAttribute("aria-hidden");k.setAttribute("aria-hidden","true"),O.push(()=>W||k.removeAttribute("aria-hidden"))}),()=>{for(;O.length;)O.pop()()}}function S(F,O){F.isSameNode(document.body)||!F.parentNode||Array.from(F.parentNode.children).forEach(k=>{k.isSameNode(F)?S(F.parentNode,O):O(k)})}function Q(){let F=document.documentElement.style.overflow,O=document.documentElement.style.paddingRight,k=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${k}px`,()=>{document.documentElement.style.overflow=F,document.documentElement.style.paddingRight=O}}var M=w}}),Cp=qr({"../alpine/packages/persist/dist/module.cjs.js"(t,e){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l=(v,y)=>{for(var A in y)r(v,A,{get:y[A],enumerable:!0})},a=(v,y,A,w)=>{if(y&&typeof y=="object"||typeof y=="function")for(let E of n(y))!s.call(v,E)&&E!==A&&r(v,E,{get:()=>y[E],enumerable:!(w=i(y,E))||w.enumerable});return v},u=v=>a(r({},"__esModule",{value:!0}),v),f={};l(f,{default:()=>m,persist:()=>d}),e.exports=u(f);function d(v){let y=()=>{let A,w;try{w=localStorage}catch(E){console.error(E),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let S=new Map;w={getItem:S.get.bind(S),setItem:S.set.bind(S)}}return v.interceptor((E,S,Q,M,F)=>{let O=A||`_x_${M}`,k=h(O,w)?p(O,w):E;return Q(k),v.effect(()=>{let W=S();_(O,W,w),Q(W)}),k},E=>{E.as=S=>(A=S,E),E.using=S=>(w=S,E)})};Object.defineProperty(v,"$persist",{get:()=>y()}),v.magic("persist",y),v.persist=(A,{get:w,set:E},S=localStorage)=>{let Q=h(A,S)?p(A,S):w();E(Q),v.effect(()=>{let M=w();_(A,M,S),E(M)})}}function h(v,y){return y.getItem(v)!==null}function p(v,y){let A=y.getItem(v,y);if(A!==void 0)return JSON.parse(A)}function _(v,y,A){A.setItem(v,JSON.stringify(y))}var m=d}}),Sp=qr({"../alpine/packages/intersect/dist/module.cjs.js"(t,e){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l=(v,y)=>{for(var A in y)r(v,A,{get:y[A],enumerable:!0})},a=(v,y,A,w)=>{if(y&&typeof y=="object"||typeof y=="function")for(let E of n(y))!s.call(v,E)&&E!==A&&r(v,E,{get:()=>y[E],enumerable:!(w=i(y,E))||w.enumerable});return v},u=v=>a(r({},"__esModule",{value:!0}),v),f={};l(f,{default:()=>m,intersect:()=>d}),e.exports=u(f);function d(v){v.directive("intersect",v.skipDuringClone((y,{value:A,expression:w,modifiers:E},{evaluateLater:S,cleanup:Q})=>{let M=S(w),F={rootMargin:_(E),threshold:h(E)},O=new IntersectionObserver(k=>{k.forEach(W=>{W.isIntersecting!==(A==="leave")&&(M(),E.includes("once")&&O.disconnect())})},F);O.observe(y),Q(()=>{O.disconnect()})}))}function h(v){if(v.includes("full"))return .99;if(v.includes("half"))return .5;if(!v.includes("threshold"))return 0;let y=v[v.indexOf("threshold")+1];return y==="100"?1:y==="0"?0:Number(`.${y}`)}function p(v){let y=v.match(/^(-?[0-9]+)(px|%)?$/);return y?y[1]+(y[2]||"px"):void 0}function _(v){const y="margin",A="0px 0px 0px 0px",w=v.indexOf(y);if(w===-1)return A;let E=[];for(let S=1;S<5;S++)E.push(p(v[w+S]||""));return E=E.filter(S=>S!==void 0),E.length?E.join(" ").trim():A}var m=d}}),Ip=qr({"../alpine/packages/anchor/dist/module.cjs.js"(t,e){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l=(C,P)=>{for(var N in P)r(C,N,{get:P[N],enumerable:!0})},a=(C,P,N,G)=>{if(P&&typeof P=="object"||typeof P=="function")for(let K of n(P))!s.call(C,K)&&K!==N&&r(C,K,{get:()=>P[K],enumerable:!(G=i(P,K))||G.enumerable});return C},u=C=>a(r({},"__esModule",{value:!0}),C),f={};l(f,{anchor:()=>kr,default:()=>xt}),e.exports=u(f);var d=Math.min,h=Math.max,p=Math.round,_=Math.floor,m=C=>({x:C,y:C}),v={left:"right",right:"left",bottom:"top",top:"bottom"},y={start:"end",end:"start"};function A(C,P,N){return h(C,d(P,N))}function w(C,P){return typeof C=="function"?C(P):C}function E(C){return C.split("-")[0]}function S(C){return C.split("-")[1]}function Q(C){return C==="x"?"y":"x"}function M(C){return C==="y"?"height":"width"}function F(C){return["top","bottom"].includes(E(C))?"y":"x"}function O(C){return Q(F(C))}function k(C,P,N){N===void 0&&(N=!1);const G=S(C),K=O(C),le=M(K);let ue=K==="x"?G===(N?"end":"start")?"right":"left":G==="start"?"bottom":"top";return P.reference[le]>P.floating[le]&&(ue=Ee(ue)),[ue,Ee(ue)]}function W(C){const P=Ee(C);return[z(C),P,z(P)]}function z(C){return C.replace(/start|end/g,P=>y[P])}function $(C,P,N){const G=["left","right"],K=["right","left"],le=["top","bottom"],ue=["bottom","top"];switch(C){case"top":case"bottom":return N?P?K:G:P?G:K;case"left":case"right":return P?le:ue;default:return[]}}function J(C,P,N,G){const K=S(C);let le=$(E(C),N==="start",G);return K&&(le=le.map(ue=>ue+"-"+K),P&&(le=le.concat(le.map(z)))),le}function Ee(C){return C.replace(/left|right|bottom|top/g,P=>v[P])}function pe(C){return{top:0,right:0,bottom:0,left:0,...C}}function L(C){return typeof C!="number"?pe(C):{top:C,right:C,bottom:C,left:C}}function B(C){return{...C,top:C.y,left:C.x,right:C.x+C.width,bottom:C.y+C.height}}function j(C,P,N){let{reference:G,floating:K}=C;const le=F(P),ue=O(P),ye=M(ue),Ie=E(P),Te=le==="y",$e=G.x+G.width/2-K.width/2,Qe=G.y+G.height/2-K.height/2,et=G[ye]/2-K[ye]/2;let Le;switch(Ie){case"top":Le={x:$e,y:G.y-K.height};break;case"bottom":Le={x:$e,y:G.y+G.height};break;case"right":Le={x:G.x+G.width,y:Qe};break;case"left":Le={x:G.x-K.width,y:Qe};break;default:Le={x:G.x,y:G.y}}switch(S(P)){case"start":Le[ue]-=et*(N&&Te?-1:1);break;case"end":Le[ue]+=et*(N&&Te?-1:1);break}return Le}var V=async(C,P,N)=>{const{placement:G="bottom",strategy:K="absolute",middleware:le=[],platform:ue}=N,ye=le.filter(Boolean),Ie=await(ue.isRTL==null?void 0:ue.isRTL(P));let Te=await ue.getElementRects({reference:C,floating:P,strategy:K}),{x:$e,y:Qe}=j(Te,G,Ie),et=G,Le={},Ge=0;for(let Ke=0;Ke<ye.length;Ke++){const{name:wt,fn:Ze}=ye[Ke],{x:ut,y:It,data:kt,reset:pt}=await Ze({x:$e,y:Qe,initialPlacement:G,placement:et,strategy:K,middlewareData:Le,rects:Te,platform:ue,elements:{reference:C,floating:P}});if($e=ut!=null?ut:$e,Qe=It!=null?It:Qe,Le={...Le,[wt]:{...Le[wt],...kt}},pt&&Ge<=50){Ge++,typeof pt=="object"&&(pt.placement&&(et=pt.placement),pt.rects&&(Te=pt.rects===!0?await ue.getElementRects({reference:C,floating:P,strategy:K}):pt.rects),{x:$e,y:Qe}=j(Te,et,Ie)),Ke=-1;continue}}return{x:$e,y:Qe,placement:et,strategy:K,middlewareData:Le}};async function q(C,P){var N;P===void 0&&(P={});const{x:G,y:K,platform:le,rects:ue,elements:ye,strategy:Ie}=C,{boundary:Te="clippingAncestors",rootBoundary:$e="viewport",elementContext:Qe="floating",altBoundary:et=!1,padding:Le=0}=w(P,C),Ge=L(Le),wt=ye[et?Qe==="floating"?"reference":"floating":Qe],Ze=B(await le.getClippingRect({element:(N=await(le.isElement==null?void 0:le.isElement(wt)))==null||N?wt:wt.contextElement||await(le.getDocumentElement==null?void 0:le.getDocumentElement(ye.floating)),boundary:Te,rootBoundary:$e,strategy:Ie})),ut=Qe==="floating"?{...ue.floating,x:G,y:K}:ue.reference,It=await(le.getOffsetParent==null?void 0:le.getOffsetParent(ye.floating)),kt=await(le.isElement==null?void 0:le.isElement(It))?await(le.getScale==null?void 0:le.getScale(It))||{x:1,y:1}:{x:1,y:1},pt=B(le.convertOffsetParentRelativeRectToViewportRelativeRect?await le.convertOffsetParentRelativeRectToViewportRelativeRect({rect:ut,offsetParent:It,strategy:Ie}):ut);return{top:(Ze.top-pt.top+Ge.top)/kt.y,bottom:(pt.bottom-Ze.bottom+Ge.bottom)/kt.y,left:(Ze.left-pt.left+Ge.left)/kt.x,right:(pt.right-Ze.right+Ge.right)/kt.x}}var ne=function(C){return C===void 0&&(C={}),{name:"flip",options:C,async fn(P){var N,G;const{placement:K,middlewareData:le,rects:ue,initialPlacement:ye,platform:Ie,elements:Te}=P,{mainAxis:$e=!0,crossAxis:Qe=!0,fallbackPlacements:et,fallbackStrategy:Le="bestFit",fallbackAxisSideDirection:Ge="none",flipAlignment:Ke=!0,...wt}=w(C,P);if((N=le.arrow)!=null&&N.alignmentOffset)return{};const Ze=E(K),ut=E(ye)===ye,It=await(Ie.isRTL==null?void 0:Ie.isRTL(Te.floating)),kt=et||(ut||!Ke?[Ee(ye)]:W(ye));!et&&Ge!=="none"&&kt.push(...J(ye,Ke,Ge,It));const pt=[ye,...kt],Tt=await q(P,wt),hi=[];let pi=((G=le.flip)==null?void 0:G.overflows)||[];if($e&&hi.push(Tt[Ze]),Qe){const Sr=k(K,ue,It);hi.push(Tt[Sr[0]],Tt[Sr[1]])}if(pi=[...pi,{placement:K,overflows:hi}],!hi.every(Sr=>Sr<=0)){var Li,_n;const Sr=(((Li=le.flip)==null?void 0:Li.index)||0)+1,An=pt[Sr];if(An)return{data:{index:Sr,overflows:pi},reset:{placement:An}};let Kr=(_n=pi.filter(mr=>mr.overflows[0]<=0).sort((mr,lr)=>mr.overflows[1]-lr.overflows[1])[0])==null?void 0:_n.placement;if(!Kr)switch(Le){case"bestFit":{var wn;const mr=(wn=pi.map(lr=>[lr.placement,lr.overflows.filter(gi=>gi>0).reduce((gi,ns)=>gi+ns,0)]).sort((lr,gi)=>lr[1]-gi[1])[0])==null?void 0:wn[0];mr&&(Kr=mr);break}case"initialPlacement":Kr=ye;break}if(K!==Kr)return{reset:{placement:Kr}}}return{}}}};async function X(C,P){const{placement:N,platform:G,elements:K}=C,le=await(G.isRTL==null?void 0:G.isRTL(K.floating)),ue=E(N),ye=S(N),Ie=F(N)==="y",Te=["left","top"].includes(ue)?-1:1,$e=le&&Ie?-1:1,Qe=w(P,C);let{mainAxis:et,crossAxis:Le,alignmentAxis:Ge}=typeof Qe=="number"?{mainAxis:Qe,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Qe};return ye&&typeof Ge=="number"&&(Le=ye==="end"?Ge*-1:Ge),Ie?{x:Le*$e,y:et*Te}:{x:et*Te,y:Le*$e}}var ie=function(C){return C===void 0&&(C=0),{name:"offset",options:C,async fn(P){const{x:N,y:G}=P,K=await X(P,C);return{x:N+K.x,y:G+K.y,data:K}}}},ae=function(C){return C===void 0&&(C={}),{name:"shift",options:C,async fn(P){const{x:N,y:G,placement:K}=P,{mainAxis:le=!0,crossAxis:ue=!1,limiter:ye={fn:wt=>{let{x:Ze,y:ut}=wt;return{x:Ze,y:ut}}},...Ie}=w(C,P),Te={x:N,y:G},$e=await q(P,Ie),Qe=F(E(K)),et=Q(Qe);let Le=Te[et],Ge=Te[Qe];if(le){const wt=et==="y"?"top":"left",Ze=et==="y"?"bottom":"right",ut=Le+$e[wt],It=Le-$e[Ze];Le=A(ut,Le,It)}if(ue){const wt=Qe==="y"?"top":"left",Ze=Qe==="y"?"bottom":"right",ut=Ge+$e[wt],It=Ge-$e[Ze];Ge=A(ut,Ge,It)}const Ke=ye.fn({...P,[et]:Le,[Qe]:Ge});return{...Ke,data:{x:Ke.x-N,y:Ke.y-G}}}}};function se(C){return oe(C)?(C.nodeName||"").toLowerCase():"#document"}function he(C){var P;return(C==null||(P=C.ownerDocument)==null?void 0:P.defaultView)||window}function Ne(C){var P;return(P=(oe(C)?C.ownerDocument:C.document)||window.document)==null?void 0:P.documentElement}function oe(C){return C instanceof Node||C instanceof he(C).Node}function _e(C){return C instanceof Element||C instanceof he(C).Element}function Re(C){return C instanceof HTMLElement||C instanceof he(C).HTMLElement}function Xe(C){return typeof ShadowRoot=="undefined"?!1:C instanceof ShadowRoot||C instanceof he(C).ShadowRoot}function Oe(C){const{overflow:P,overflowX:N,overflowY:G,display:K}=te(C);return/auto|scroll|overlay|hidden|clip/.test(P+G+N)&&!["inline","contents"].includes(K)}function Se(C){return["table","td","th"].includes(se(C))}function yt(C){const P=ve(),N=te(C);return N.transform!=="none"||N.perspective!=="none"||(N.containerType?N.containerType!=="normal":!1)||!P&&(N.backdropFilter?N.backdropFilter!=="none":!1)||!P&&(N.filter?N.filter!=="none":!1)||["transform","perspective","filter"].some(G=>(N.willChange||"").includes(G))||["paint","layout","strict","content"].some(G=>(N.contain||"").includes(G))}function ft(C){let P=fe(C);for(;Re(P)&&!Y(P);){if(yt(P))return P;P=fe(P)}return null}function ve(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Y(C){return["html","body","#document"].includes(se(C))}function te(C){return he(C).getComputedStyle(C)}function Fe(C){return _e(C)?{scrollLeft:C.scrollLeft,scrollTop:C.scrollTop}:{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function fe(C){if(se(C)==="html")return C;const P=C.assignedSlot||C.parentNode||Xe(C)&&C.host||Ne(C);return Xe(P)?P.host:P}function rt(C){const P=fe(C);return Y(P)?C.ownerDocument?C.ownerDocument.body:C.body:Re(P)&&Oe(P)?P:rt(P)}function be(C,P,N){var G;P===void 0&&(P=[]),N===void 0&&(N=!0);const K=rt(C),le=K===((G=C.ownerDocument)==null?void 0:G.body),ue=he(K);return le?P.concat(ue,ue.visualViewport||[],Oe(K)?K:[],ue.frameElement&&N?be(ue.frameElement):[]):P.concat(K,be(K,[],N))}function re(C){const P=te(C);let N=parseFloat(P.width)||0,G=parseFloat(P.height)||0;const K=Re(C),le=K?C.offsetWidth:N,ue=K?C.offsetHeight:G,ye=p(N)!==le||p(G)!==ue;return ye&&(N=le,G=ue),{width:N,height:G,$:ye}}function ce(C){return _e(C)?C:C.contextElement}function xe(C){const P=ce(C);if(!Re(P))return m(1);const N=P.getBoundingClientRect(),{width:G,height:K,$:le}=re(P);let ue=(le?p(N.width):N.width)/G,ye=(le?p(N.height):N.height)/K;return(!ue||!Number.isFinite(ue))&&(ue=1),(!ye||!Number.isFinite(ye))&&(ye=1),{x:ue,y:ye}}var Ye=m(0);function je(C){const P=he(C);return!ve()||!P.visualViewport?Ye:{x:P.visualViewport.offsetLeft,y:P.visualViewport.offsetTop}}function ht(C,P,N){return P===void 0&&(P=!1),!N||P&&N!==he(C)?!1:P}function ct(C,P,N,G){P===void 0&&(P=!1),N===void 0&&(N=!1);const K=C.getBoundingClientRect(),le=ce(C);let ue=m(1);P&&(G?_e(G)&&(ue=xe(G)):ue=xe(C));const ye=ht(le,N,G)?je(le):m(0);let Ie=(K.left+ye.x)/ue.x,Te=(K.top+ye.y)/ue.y,$e=K.width/ue.x,Qe=K.height/ue.y;if(le){const et=he(le),Le=G&&_e(G)?he(G):G;let Ge=et.frameElement;for(;Ge&&G&&Le!==et;){const Ke=xe(Ge),wt=Ge.getBoundingClientRect(),Ze=te(Ge),ut=wt.left+(Ge.clientLeft+parseFloat(Ze.paddingLeft))*Ke.x,It=wt.top+(Ge.clientTop+parseFloat(Ze.paddingTop))*Ke.y;Ie*=Ke.x,Te*=Ke.y,$e*=Ke.x,Qe*=Ke.y,Ie+=ut,Te+=It,Ge=he(Ge).frameElement}}return B({width:$e,height:Qe,x:Ie,y:Te})}function er(C){let{rect:P,offsetParent:N,strategy:G}=C;const K=Re(N),le=Ne(N);if(N===le)return P;let ue={scrollLeft:0,scrollTop:0},ye=m(1);const Ie=m(0);if((K||!K&&G!=="fixed")&&((se(N)!=="body"||Oe(le))&&(ue=Fe(N)),Re(N))){const Te=ct(N);ye=xe(N),Ie.x=Te.x+N.clientLeft,Ie.y=Te.y+N.clientTop}return{width:P.width*ye.x,height:P.height*ye.y,x:P.x*ye.x-ue.scrollLeft*ye.x+Ie.x,y:P.y*ye.y-ue.scrollTop*ye.y+Ie.y}}function _t(C){return Array.from(C.getClientRects())}function ui(C){return ct(Ne(C)).left+Fe(C).scrollLeft}function Vt(C){const P=Ne(C),N=Fe(C),G=C.ownerDocument.body,K=h(P.scrollWidth,P.clientWidth,G.scrollWidth,G.clientWidth),le=h(P.scrollHeight,P.clientHeight,G.scrollHeight,G.clientHeight);let ue=-N.scrollLeft+ui(C);const ye=-N.scrollTop;return te(G).direction==="rtl"&&(ue+=h(P.clientWidth,G.clientWidth)-K),{width:K,height:le,x:ue,y:ye}}function Lr(C,P){const N=he(C),G=Ne(C),K=N.visualViewport;let le=G.clientWidth,ue=G.clientHeight,ye=0,Ie=0;if(K){le=K.width,ue=K.height;const Te=ve();(!Te||Te&&P==="fixed")&&(ye=K.offsetLeft,Ie=K.offsetTop)}return{width:le,height:ue,x:ye,y:Ie}}function ci(C,P){const N=ct(C,!0,P==="fixed"),G=N.top+C.clientTop,K=N.left+C.clientLeft,le=Re(C)?xe(C):m(1),ue=C.clientWidth*le.x,ye=C.clientHeight*le.y,Ie=K*le.x,Te=G*le.y;return{width:ue,height:ye,x:Ie,y:Te}}function Yr(C,P,N){let G;if(P==="viewport")G=Lr(C,N);else if(P==="document")G=Vt(Ne(C));else if(_e(P))G=ci(P,N);else{const K=je(C);G={...P,x:P.x-K.x,y:P.y-K.y}}return B(G)}function fi(C,P){const N=fe(C);return N===P||!_e(N)||Y(N)?!1:te(N).position==="fixed"||fi(N,P)}function es(C,P){const N=P.get(C);if(N)return N;let G=be(C,[],!1).filter(ye=>_e(ye)&&se(ye)!=="body"),K=null;const le=te(C).position==="fixed";let ue=le?fe(C):C;for(;_e(ue)&&!Y(ue);){const ye=te(ue),Ie=yt(ue);!Ie&&ye.position==="fixed"&&(K=null),(le?!Ie&&!K:!Ie&&ye.position==="static"&&!!K&&["absolute","fixed"].includes(K.position)||Oe(ue)&&!Ie&&fi(C,ue))?G=G.filter($e=>$e!==ue):K=ye,ue=fe(ue)}return P.set(C,G),G}function Dr(C){let{element:P,boundary:N,rootBoundary:G,strategy:K}=C;const ue=[...N==="clippingAncestors"?es(P,this._c):[].concat(N),G],ye=ue[0],Ie=ue.reduce((Te,$e)=>{const Qe=Yr(P,$e,K);return Te.top=h(Qe.top,Te.top),Te.right=d(Qe.right,Te.right),Te.bottom=d(Qe.bottom,Te.bottom),Te.left=h(Qe.left,Te.left),Te},Yr(P,ye,K));return{width:Ie.right-Ie.left,height:Ie.bottom-Ie.top,x:Ie.left,y:Ie.top}}function Ut(C){return re(C)}function ts(C,P,N){const G=Re(P),K=Ne(P),le=N==="fixed",ue=ct(C,!0,le,P);let ye={scrollLeft:0,scrollTop:0};const Ie=m(0);if(G||!G&&!le)if((se(P)!=="body"||Oe(K))&&(ye=Fe(P)),G){const Te=ct(P,!0,le,P);Ie.x=Te.x+P.clientLeft,Ie.y=Te.y+P.clientTop}else K&&(Ie.x=ui(K));return{x:ue.left+ye.scrollLeft-Ie.x,y:ue.top+ye.scrollTop-Ie.y,width:ue.width,height:ue.height}}function rs(C,P){return!Re(C)||te(C).position==="fixed"?null:P?P(C):C.offsetParent}function mn(C,P){const N=he(C);if(!Re(C))return N;let G=rs(C,P);for(;G&&Se(G)&&te(G).position==="static";)G=rs(G,P);return G&&(se(G)==="html"||se(G)==="body"&&te(G).position==="static"&&!yt(G))?N:G||ft(C)||N}var xo=async function(C){let{reference:P,floating:N,strategy:G}=C;const K=this.getOffsetParent||mn,le=this.getDimensions;return{reference:ts(P,await K(N),G),floating:{x:0,y:0,...await le(N)}}};function vn(C){return te(C).direction==="rtl"}var Co={convertOffsetParentRelativeRectToViewportRelativeRect:er,getDocumentElement:Ne,getClippingRect:Dr,getOffsetParent:mn,getElementRects:xo,getClientRects:_t,getDimensions:Ut,getScale:xe,isElement:_e,isRTL:vn};function So(C,P){let N=null,G;const K=Ne(C);function le(){clearTimeout(G),N&&N.disconnect(),N=null}function ue(ye,Ie){ye===void 0&&(ye=!1),Ie===void 0&&(Ie=1),le();const{left:Te,top:$e,width:Qe,height:et}=C.getBoundingClientRect();if(ye||P(),!Qe||!et)return;const Le=_($e),Ge=_(K.clientWidth-(Te+Qe)),Ke=_(K.clientHeight-($e+et)),wt=_(Te),ut={rootMargin:-Le+"px "+-Ge+"px "+-Ke+"px "+-wt+"px",threshold:h(0,d(1,Ie))||1};let It=!0;function kt(pt){const Tt=pt[0].intersectionRatio;if(Tt!==Ie){if(!It)return ue();Tt?ue(!1,Tt):G=setTimeout(()=>{ue(!1,1e-7)},100)}It=!1}try{N=new IntersectionObserver(kt,{...ut,root:K.ownerDocument})}catch{N=new IntersectionObserver(kt,ut)}N.observe(C)}return ue(!0),le}function Mi(C,P,N,G){G===void 0&&(G={});const{ancestorScroll:K=!0,ancestorResize:le=!0,elementResize:ue=typeof ResizeObserver=="function",layoutShift:ye=typeof IntersectionObserver=="function",animationFrame:Ie=!1}=G,Te=ce(C),$e=K||le?[...Te?be(Te):[],...be(P)]:[];$e.forEach(Ze=>{K&&Ze.addEventListener("scroll",N,{passive:!0}),le&&Ze.addEventListener("resize",N)});const Qe=Te&&ye?So(Te,N):null;let et=-1,Le=null;ue&&(Le=new ResizeObserver(Ze=>{let[ut]=Ze;ut&&ut.target===Te&&Le&&(Le.unobserve(P),cancelAnimationFrame(et),et=requestAnimationFrame(()=>{Le&&Le.observe(P)})),N()}),Te&&!Ie&&Le.observe(Te),Le.observe(P));let Ge,Ke=Ie?ct(C):null;Ie&&wt();function wt(){const Ze=ct(C);Ke&&(Ze.x!==Ke.x||Ze.y!==Ke.y||Ze.width!==Ke.width||Ze.height!==Ke.height)&&N(),Ke=Ze,Ge=requestAnimationFrame(wt)}return N(),()=>{$e.forEach(Ze=>{K&&Ze.removeEventListener("scroll",N),le&&Ze.removeEventListener("resize",N)}),Qe&&Qe(),Le&&Le.disconnect(),Le=null,Ie&&cancelAnimationFrame(Ge)}}var yn=(C,P,N)=>{const G=new Map,K={platform:Co,...N},le={...K.platform,_c:G};return V(C,P,{...K,platform:le})};function kr(C){C.magic("anchor",P=>{if(!P._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return P._x_anchor}),C.interceptClone((P,N)=>{P&&P._x_anchor&&!N._x_anchor&&(N._x_anchor=P._x_anchor)}),C.directive("anchor",C.skipDuringClone((P,{expression:N,modifiers:G,value:K},{cleanup:le,evaluate:ue})=>{let{placement:ye,offsetValue:Ie,unstyled:Te}=di(G);P._x_anchor=C.reactive({x:0,y:0});let $e=ue(N);if(!$e)throw"Alpine: no element provided to x-anchor...";let Qe=()=>{let Le;yn($e,P,{placement:ye,middleware:[ne(),ae({padding:5}),ie(Ie)]}).then(({x:Ge,y:Ke})=>{Te||is(P,Ge,Ke),JSON.stringify({x:Ge,y:Ke})!==Le&&(P._x_anchor.x=Ge,P._x_anchor.y=Ke),Le=JSON.stringify({x:Ge,y:Ke})})},et=Mi($e,P,()=>Qe());le(()=>et())},(P,{expression:N,modifiers:G,value:K},{cleanup:le,evaluate:ue})=>{let{placement:ye,offsetValue:Ie,unstyled:Te}=di(G);P._x_anchor&&(Te||is(P,P._x_anchor.x,P._x_anchor.y))}))}function is(C,P,N){Object.assign(C.style,{left:P+"px",top:N+"px",position:"absolute"})}function di(C){let N=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(le=>C.includes(le)),G=0;if(C.includes("offset")){let le=C.findIndex(ue=>ue==="offset");G=C[le+1]!==void 0?Number(C[le+1]):G}let K=C.includes("no-style");return{placement:N,offsetValue:G,unstyled:K}}var xt=kr}}),Tp=qr({"node_modules/nprogress/nprogress.js"(t,e){(function(r,i){typeof define=="function"&&define.amd?define(i):typeof t=="object"?e.exports=i():r.NProgress=i()})(t,function(){var r={};r.version="0.2.0";var i=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(m){var v,y;for(v in m)y=m[v],y!==void 0&&m.hasOwnProperty(v)&&(i[v]=y);return this},r.status=null,r.set=function(m){var v=r.isStarted();m=n(m,i.minimum,1),r.status=m===1?null:m;var y=r.render(!v),A=y.querySelector(i.barSelector),w=i.speed,E=i.easing;return y.offsetWidth,a(function(S){i.positionUsing===""&&(i.positionUsing=r.getPositioningCSS()),u(A,l(m,w,E)),m===1?(u(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){u(y,{transition:"all "+w+"ms linear",opacity:0}),setTimeout(function(){r.remove(),S()},w)},w)):setTimeout(S,w)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var m=function(){setTimeout(function(){!r.status||(r.trickle(),m())},i.trickleSpeed)};return i.trickle&&m(),this},r.done=function(m){return!m&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(m){var v=r.status;return v?(typeof m!="number"&&(m=(1-v)*n(Math.random()*v,.1,.95)),v=n(v+m,0,.994),r.set(v)):r.start()},r.trickle=function(){return r.inc(Math.random()*i.trickleRate)},function(){var m=0,v=0;r.promise=function(y){return!y||y.state()==="resolved"?this:(v===0&&r.start(),m++,v++,y.always(function(){v--,v===0?(m=0,r.done()):r.set((m-v)/m)}),this)}}(),r.render=function(m){if(r.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var v=document.createElement("div");v.id="nprogress",v.innerHTML=i.template;var y=v.querySelector(i.barSelector),A=m?"-100":s(r.status||0),w=document.querySelector(i.parent),E;return u(y,{transition:"all 0 linear",transform:"translate3d("+A+"%,0,0)"}),i.showSpinner||(E=v.querySelector(i.spinnerSelector),E&&_(E)),w!=document.body&&d(w,"nprogress-custom-parent"),w.appendChild(v),v},r.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(i.parent),"nprogress-custom-parent");var m=document.getElementById("nprogress");m&&_(m)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var m=document.body.style,v="WebkitTransform"in m?"Webkit":"MozTransform"in m?"Moz":"msTransform"in m?"ms":"OTransform"in m?"O":"";return v+"Perspective"in m?"translate3d":v+"Transform"in m?"translate":"margin"};function n(m,v,y){return m<v?v:m>y?y:m}function s(m){return(-1+m)*100}function l(m,v,y){var A;return i.positionUsing==="translate3d"?A={transform:"translate3d("+s(m)+"%,0,0)"}:i.positionUsing==="translate"?A={transform:"translate("+s(m)+"%,0)"}:A={"margin-left":s(m)+"%"},A.transition="all "+v+"ms "+y,A}var a=function(){var m=[];function v(){var y=m.shift();y&&y(v)}return function(y){m.push(y),m.length==1&&v()}}(),u=function(){var m=["Webkit","O","Moz","ms"],v={};function y(S){return S.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(Q,M){return M.toUpperCase()})}function A(S){var Q=document.body.style;if(S in Q)return S;for(var M=m.length,F=S.charAt(0).toUpperCase()+S.slice(1),O;M--;)if(O=m[M]+F,O in Q)return O;return S}function w(S){return S=y(S),v[S]||(v[S]=A(S))}function E(S,Q,M){Q=w(Q),S.style[Q]=M}return function(S,Q){var M=arguments,F,O;if(M.length==2)for(F in Q)O=Q[F],O!==void 0&&Q.hasOwnProperty(F)&&E(S,F,O);else E(S,M[1],M[2])}}();function f(m,v){var y=typeof m=="string"?m:p(m);return y.indexOf(" "+v+" ")>=0}function d(m,v){var y=p(m),A=y+v;f(y,v)||(m.className=A.substring(1))}function h(m,v){var y=p(m),A;!f(m,v)||(A=y.replace(" "+v+" "," "),m.className=A.substring(1,A.length-1))}function p(m){return(" "+(m.className||"")+" ").replace(/\s+/gi," ")}function _(m){m&&m.parentNode&&m.parentNode.removeChild(m)}return r})}}),Op=qr({"../alpine/packages/morph/dist/module.cjs.js"(t,e){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l=(M,F)=>{for(var O in F)r(M,O,{get:F[O],enumerable:!0})},a=(M,F,O,k)=>{if(F&&typeof F=="object"||typeof F=="function")for(let W of n(F))!s.call(M,W)&&W!==O&&r(M,W,{get:()=>F[W],enumerable:!(k=i(F,W))||k.enumerable});return M},u=M=>a(r({},"__esModule",{value:!0}),M),f={};l(f,{default:()=>Q,morph:()=>S}),e.exports=u(f);function d(M,F,O){w();let k,W,z,$,J,Ee,pe,L,B;function j(oe={}){let _e=Xe=>Xe.getAttribute("key"),Re=()=>{};$=oe.updating||Re,J=oe.updated||Re,Ee=oe.removing||Re,pe=oe.removed||Re,L=oe.adding||Re,B=oe.added||Re,W=oe.key||_e,z=oe.lookahead||!1}function V(oe,_e){if(q(oe,_e))return ne(oe,_e);let Re=!1;if(!h($,oe,_e,()=>Re=!0)){if(oe.nodeType===1&&window.Alpine&&(window.Alpine.cloneNode(oe,_e),oe._x_teleport&&_e._x_teleport&&V(oe._x_teleport,_e._x_teleport)),m(_e)){X(oe,_e),J(oe,_e);return}Re||ie(oe,_e),J(oe,_e),ae(oe,_e)}}function q(oe,_e){return oe.nodeType!=_e.nodeType||oe.nodeName!=_e.nodeName||se(oe)!=se(_e)}function ne(oe,_e){if(h(Ee,oe))return;let Re=_e.cloneNode(!0);h(L,Re)||(oe.replaceWith(Re),pe(oe),B(Re))}function X(oe,_e){let Re=_e.nodeValue;oe.nodeValue!==Re&&(oe.nodeValue=Re)}function ie(oe,_e){if(oe._x_transitioning||oe._x_isShown&&!_e._x_isShown||!oe._x_isShown&&_e._x_isShown)return;let Re=Array.from(oe.attributes),Xe=Array.from(_e.attributes);for(let Oe=Re.length-1;Oe>=0;Oe--){let Se=Re[Oe].name;_e.hasAttribute(Se)||oe.removeAttribute(Se)}for(let Oe=Xe.length-1;Oe>=0;Oe--){let Se=Xe[Oe].name,yt=Xe[Oe].value;oe.getAttribute(Se)!==yt&&oe.setAttribute(Se,yt)}}function ae(oe,_e){let Re=he(oe.children),Xe={},Oe=y(_e),Se=y(oe);for(;Oe;){E(Oe,Se);let ft=se(Oe),ve=se(Se);if(!Se)if(ft&&Xe[ft]){let fe=Xe[ft];oe.appendChild(fe),Se=fe}else{if(!h(L,Oe)){let fe=Oe.cloneNode(!0);oe.appendChild(fe),B(fe)}Oe=A(_e,Oe);continue}let Y=fe=>fe&&fe.nodeType===8&&fe.textContent==="[if BLOCK]><![endif]",te=fe=>fe&&fe.nodeType===8&&fe.textContent==="[if ENDBLOCK]><![endif]";if(Y(Oe)&&Y(Se)){let fe=0,rt=Se;for(;Se;){let je=A(oe,Se);if(Y(je))fe++;else if(te(je)&&fe>0)fe--;else if(te(je)&&fe===0){Se=je;break}Se=je}let be=Se;fe=0;let re=Oe;for(;Oe;){let je=A(_e,Oe);if(Y(je))fe++;else if(te(je)&&fe>0)fe--;else if(te(je)&&fe===0){Oe=je;break}Oe=je}let ce=Oe,xe=new v(rt,be),Ye=new v(re,ce);ae(xe,Ye);continue}if(Se.nodeType===1&&z&&!Se.isEqualNode(Oe)){let fe=A(_e,Oe),rt=!1;for(;!rt&&fe;)fe.nodeType===1&&Se.isEqualNode(fe)&&(rt=!0,Se=Ne(oe,Oe,Se),ve=se(Se)),fe=A(_e,fe)}if(ft!==ve){if(!ft&&ve){Xe[ve]=Se,Se=Ne(oe,Oe,Se),Xe[ve].remove(),Se=A(oe,Se),Oe=A(_e,Oe);continue}if(ft&&!ve&&Re[ft]&&(Se.replaceWith(Re[ft]),Se=Re[ft]),ft&&ve){let fe=Re[ft];if(fe)Xe[ve]=Se,Se.replaceWith(fe),Se=fe;else{Xe[ve]=Se,Se=Ne(oe,Oe,Se),Xe[ve].remove(),Se=A(oe,Se),Oe=A(_e,Oe);continue}}}let Fe=Se&&A(oe,Se);V(Se,Oe),Oe=Oe&&A(_e,Oe),Se=Fe}let yt=[];for(;Se;)h(Ee,Se)||yt.push(Se),Se=A(oe,Se);for(;yt.length;){let ft=yt.shift();ft.remove(),pe(ft)}}function se(oe){return oe&&oe.nodeType===1&&W(oe)}function he(oe){let _e={};for(let Re of oe){let Xe=se(Re);Xe&&(_e[Xe]=Re)}return _e}function Ne(oe,_e,Re){if(!h(L,_e)){let Xe=_e.cloneNode(!0);return oe.insertBefore(Xe,Re),B(Xe),Xe}return _e}return j(O),k=typeof F=="string"?_(F):F,window.Alpine&&window.Alpine.closestDataStack&&!M._x_dataStack&&(k._x_dataStack=window.Alpine.closestDataStack(M),k._x_dataStack&&window.Alpine.cloneNode(M,k)),V(M,k),k=void 0,M}d.step=()=>{},d.log=()=>{};function h(M,...F){let O=!1;return M(...F,()=>O=!0),O}var p=!1;function _(M){const F=document.createElement("template");return F.innerHTML=M,F.content.firstElementChild}function m(M){return M.nodeType===3||M.nodeType===8}var v=class{constructor(M,F){this.startComment=M,this.endComment=F}get children(){let M=[],F=this.startComment.nextSibling;for(;F&&F!==this.endComment;)M.push(F),F=F.nextSibling;return M}appendChild(M){this.endComment.before(M)}get firstChild(){let M=this.startComment.nextSibling;if(M!==this.endComment)return M}nextNode(M){let F=M.nextSibling;if(F!==this.endComment)return F}insertBefore(M,F){return F.before(M),M}};function y(M){return M.firstChild}function A(M,F){let O;return M instanceof v?O=M.nextNode(F):O=F.nextSibling,O}function w(){if(p)return;p=!0;let M=Element.prototype.setAttribute,F=document.createElement("div");Element.prototype.setAttribute=function(k,W){if(!k.includes("@"))return M.call(this,k,W);F.innerHTML=`<span ${k}="${W}"></span>`;let z=F.firstElementChild.getAttributeNode(k);F.firstElementChild.removeAttributeNode(z),this.setAttributeNode(z)}}function E(M,F){let O=F&&F._x_bindings&&F._x_bindings.id;!O||(M.setAttribute("id",O),M.id=O)}function S(M){M.morph=d}var Q=S}}),Pp=qr({"../alpine/packages/mask/dist/module.cjs.js"(t,e){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l=(y,A)=>{for(var w in A)r(y,w,{get:A[w],enumerable:!0})},a=(y,A,w,E)=>{if(A&&typeof A=="object"||typeof A=="function")for(let S of n(A))!s.call(y,S)&&S!==w&&r(y,S,{get:()=>A[S],enumerable:!(E=i(A,S))||E.enumerable});return y},u=y=>a(r({},"__esModule",{value:!0}),y),f={};l(f,{default:()=>v,mask:()=>d,stripDown:()=>p}),e.exports=u(f);function d(y){y.directive("mask",(A,{value:w,expression:E},{effect:S,evaluateLater:Q,cleanup:M})=>{let F=()=>E,O="";queueMicrotask(()=>{if(["function","dynamic"].includes(w)){let $=Q(E);S(()=>{F=J=>{let Ee;return y.dontAutoEvaluateFunctions(()=>{$(pe=>{Ee=typeof pe=="function"?pe(J):pe},{scope:{$input:J,$money:m.bind({el:A})}})}),Ee},W(A,!1)})}else W(A,!1);A._x_model&&A._x_model.set(A.value)});const k=new AbortController;M(()=>{k.abort()}),A.addEventListener("input",()=>W(A),{signal:k.signal,capture:!0}),A.addEventListener("blur",()=>W(A,!1),{signal:k.signal});function W($,J=!0){let Ee=$.value,pe=F(Ee);if(!pe||pe==="false")return!1;if(O.length-$.value.length===1)return O=$.value;let L=()=>{O=$.value=z(Ee,pe)};J?h($,pe,()=>{L()}):L()}function z($,J){if($==="")return"";let Ee=p(J,$);return _(J,Ee)}}).before("model")}function h(y,A,w){let E=y.selectionStart,S=y.value;w();let Q=S.slice(0,E),M=_(A,p(A,Q)).length;y.setSelectionRange(M,M)}function p(y,A){let w=A,E="",S={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},Q="";for(let M=0;M<y.length;M++){if(["9","a","*"].includes(y[M])){Q+=y[M];continue}for(let F=0;F<w.length;F++)if(w[F]===y[M]){w=w.slice(0,F)+w.slice(F+1);break}}for(let M=0;M<Q.length;M++){let F=!1;for(let O=0;O<w.length;O++)if(S[Q[M]].test(w[O])){E+=w[O],w=w.slice(0,O)+w.slice(O+1),F=!0;break}if(!F)break}return E}function _(y,A){let w=Array.from(A),E="";for(let S=0;S<y.length;S++){if(!["9","a","*"].includes(y[S])){E+=y[S];continue}if(w.length===0)break;E+=w.shift()}return E}function m(y,A=".",w,E=2){if(y==="-")return"-";if(/^\D+$/.test(y))return"9";w==null&&(w=A===","?".":",");let S=(O,k)=>{let W="",z=0;for(let $=O.length-1;$>=0;$--)O[$]!==k&&(z===3?(W=O[$]+k+W,z=0):W=O[$]+W,z++);return W},Q=y.startsWith("-")?"-":"",M=y.replaceAll(new RegExp(`[^0-9\\${A}]`,"g"),""),F=Array.from({length:M.split(A)[0].length}).fill("9").join("");return F=`${Q}${S(F,w)}`,E>0&&y.includes(A)&&(F+=`${A}`+"9".repeat(E)),queueMicrotask(()=>{this.el.value.endsWith(A)||this.el.value[this.el.selectionStart-1]===A&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),F}var v=d}}),Fp=class{constructor(){this.arrays={}}add(t,e){this.arrays[t]||(this.arrays[t]=[]),this.arrays[t].push(e)}remove(t){this.arrays[t]&&delete this.arrays[t]}get(t){return this.arrays[t]||[]}each(t,e){return this.get(t).forEach(e)}},Gc=class{constructor(){this.arrays=new WeakMap}add(t,e){this.arrays.has(t)||this.arrays.set(t,[]),this.arrays.get(t).push(e)}remove(t){this.arrays.has(t)&&this.arrays.delete(t,[])}get(t){return this.arrays.has(t)?this.arrays.get(t):[]}each(t,e){return this.get(t).forEach(e)}};function ta(t,e,r={},i=!0){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:i,composed:!0,cancelable:!0}))}function ra(t,e,r){return t.addEventListener(e,r),()=>t.removeEventListener(e,r)}function dl(t){return typeof t=="object"&&t!==null}function Pu(t){return dl(t)&&!La(t)}function La(t){return Array.isArray(t)}function zc(t){return typeof t=="function"}function Fu(t){return typeof t!="object"||t===null}function bi(t){return JSON.parse(JSON.stringify(t))}function Qr(t,e){return e===""?t:e.split(".").reduce((r,i)=>{if(r!==void 0)return r[i]},t)}function go(t,e,r){let i=e.split(".");if(i.length===1)return t[e]=r;let n=i.shift(),s=i.join(".");t[n]===void 0&&(t[n]={}),go(t[n],s,r)}function hl(t,e,r={},i=""){if(t===e)return r;if(typeof t!=typeof e||Pu(t)&&La(e)||La(t)&&Pu(e)||Fu(t)||Fu(e))return r[i]=e,r;let n=Object.keys(t);return Object.entries(e).forEach(([s,l])=>{r={...r,...hl(t[s],e[s],r,i===""?s:`${i}.${s}`)},n=n.filter(a=>a!==s)}),n.forEach(s=>{r[`${i}.${s}`]="__rm__"}),r}function rn(t){let e=Ru(t)?t[0]:t;return Ru(t)&&t[1],dl(e)&&Object.entries(e).forEach(([r,i])=>{e[r]=rn(i)}),e}function Ru(t){return Array.isArray(t)&&t.length===2&&typeof t[1]=="object"&&Object.keys(t[1]).includes("s")}function $c(){var t;if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if((t=window.livewireScriptConfig.csrf)!=null&&t)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}var Ki;function Rp(){var e;if(Ki)return Ki;if(window.livewireScriptConfig&&((e=window.livewireScriptConfig.nonce)!=null?e:!1))return Ki=window.livewireScriptConfig.nonce,Ki;const t=document.querySelector("style[data-livewire-style][nonce]");return t?(Ki=t.nonce,Ki):null}function Mp(){var t,e,r;return(r=(e=(t=document.querySelector("[data-update-uri]"))==null?void 0:t.getAttribute("data-update-uri"))!=null?e:window.livewireScriptConfig.uri)!=null?r:null}function Hc(t){return!!t.match(/<script>Sfdump\(".+"\)<\/script>/)}function Lp(t){let e=t.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[e,t.replace(e,"")]}var ia=new WeakMap;function Yn(t){if(!ia.has(t)){let e=new kp(t);ia.set(t,e),e.registerListeners()}return ia.get(t)}function Dp(t,e,r,i){let n=Yn(r),s=()=>t.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:r.id,property:e}})),l=()=>t.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:r.id,property:e}})),a=()=>t.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:r.id,property:e}})),u=()=>t.dispatchEvent(new CustomEvent("livewire-upload-cancel",{bubbles:!0,detail:{id:r.id,property:e}})),f=p=>{var _=Math.round(p.loaded*100/p.total);t.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:_}}))},d=p=>{p.target.files.length!==0&&(s(),p.target.multiple?n.uploadMultiple(e,p.target.files,l,a,f,u):n.upload(e,p.target.files[0],l,a,f,u))};t.addEventListener("change",d),r.$wire.$watch(e,p=>{!t.isConnected||(p===null||p==="")&&(t.value="")});let h=()=>{t.value=null};t.addEventListener("click",h),t.addEventListener("livewire-upload-cancel",h),i(()=>{t.removeEventListener("change",d),t.removeEventListener("click",h)})}var kp=class{constructor(t){this.component=t,this.uploadBag=new Mu,this.removeBag=new Mu}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:t,url:e})=>{this.component,this.handleSignedUrl(t,e)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:t,payload:e})=>{this.component,this.handleS3PreSignedUrl(t,e)}),this.component.$wire.$on("upload:finished",({name:t,tmpFilenames:e})=>this.markUploadFinished(t,e)),this.component.$wire.$on("upload:errored",({name:t})=>this.markUploadErrored(t)),this.component.$wire.$on("upload:removed",({name:t,tmpFilename:e})=>this.removeBag.shift(t).finishCallback(e))}upload(t,e,r,i,n,s){this.setUpload(t,{files:[e],multiple:!1,finishCallback:r,errorCallback:i,progressCallback:n,cancelledCallback:s})}uploadMultiple(t,e,r,i,n,s){this.setUpload(t,{files:Array.from(e),multiple:!0,finishCallback:r,errorCallback:i,progressCallback:n,cancelledCallback:s})}removeUpload(t,e,r){this.removeBag.push(t,{tmpFilename:e,finishCallback:r}),this.component.$wire.call("_removeUpload",t,e)}setUpload(t,e){this.uploadBag.add(t,e),this.uploadBag.get(t).length===1&&this.startUpload(t,e)}handleSignedUrl(t,e){let r=new FormData;Array.from(this.uploadBag.first(t).files).forEach(s=>r.append("files[]",s,s.name));let i={Accept:"application/json"},n=$c();n&&(i["X-CSRF-TOKEN"]=n),this.makeRequest(t,r,"post",e,i,s=>s.paths)}handleS3PreSignedUrl(t,e){let r=this.uploadBag.first(t).files[0],i=e.headers;"Host"in i&&delete i.Host;let n=e.url;this.makeRequest(t,r,"put",n,i,s=>[e.path])}makeRequest(t,e,r,i,n,s){let l=new XMLHttpRequest;l.open(r,i),Object.entries(n).forEach(([a,u])=>{l.setRequestHeader(a,u)}),l.upload.addEventListener("progress",a=>{a.detail={},a.detail.progress=Math.floor(a.loaded*100/a.total),this.uploadBag.first(t).progressCallback(a)}),l.addEventListener("load",()=>{if((l.status+"")[0]==="2"){let u=s(l.response&&JSON.parse(l.response));this.component.$wire.call("_finishUpload",t,u,this.uploadBag.first(t).multiple);return}let a=null;l.status===422&&(a=l.response),this.component.$wire.call("_uploadErrored",t,a,this.uploadBag.first(t).multiple)}),this.uploadBag.first(t).request=l,l.send(e)}startUpload(t,e){let r=e.files.map(i=>({name:i.name,size:i.size,type:i.type}));this.component.$wire.call("_startUpload",t,r,e.multiple),this.component}markUploadFinished(t,e){this.component;let r=this.uploadBag.shift(t);r.finishCallback(r.multiple?e:e[0]),this.uploadBag.get(t).length>0&&this.startUpload(t,this.uploadBag.last(t))}markUploadErrored(t){this.component,this.uploadBag.shift(t).errorCallback(),this.uploadBag.get(t).length>0&&this.startUpload(t,this.uploadBag.last(t))}cancelUpload(t,e=null){this.component;let r=this.uploadBag.first(t);r&&(r.request.abort(),this.uploadBag.shift(t).cancelledCallback(),e&&e())}},Mu=class{constructor(){this.bag={}}add(t,e){this.bag[t]||(this.bag[t]=[]),this.bag[t].push(e)}push(t,e){this.add(t,e)}first(t){return this.bag[t]?this.bag[t][0]:null}last(t){return this.bag[t].slice(-1)[0]}get(t){return this.bag[t]}shift(t){return this.bag[t].shift()}call(t,...e){(this.listeners[t]||[]).forEach(r=>{r(...e)})}has(t){return Object.keys(this.listeners).includes(t)}};function Bp(t,e,r,i=()=>{},n=()=>{},s=()=>{},l=()=>{}){Yn(t).upload(e,r,i,n,s,l)}function Np(t,e,r,i=()=>{},n=()=>{},s=()=>{},l=()=>{}){Yn(t).uploadMultiple(e,r,i,n,s,l)}function jp(t,e,r,i=()=>{},n=()=>{}){Yn(t).removeUpload(e,r,i,n)}function Up(t,e,r=()=>{}){Yn(t).cancelUpload(e,r)}var Lu=vt(Yt());function Wc(t,e){return e||(e=()=>{}),(r,i=!1)=>{let n=i,s=r,l=t.$wire,a=l.get(s);return Lu.default.interceptor((f,d,h,p,_)=>{if(typeof a=="undefined"){console.error(`Livewire Entangle Error: Livewire property ['${s}'] cannot be found on component: ['${t.name}']`);return}let m=Lu.default.entangle({get(){return l.get(r)},set(v){l.set(r,v,n)}},{get(){return d()},set(v){h(v)}});return e(()=>m()),Qp(l.get(r))},f=>{Object.defineProperty(f,"live",{get(){return n=!0,f}})})(a)}}function Qp(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}var Oi=[];function lt(t,e){return Oi[t]||(Oi[t]=[]),Oi[t].push(e),()=>{Oi[t]=Oi[t].filter(r=>r!==e)}}function St(t,...e){let r=Oi[t]||[],i=[];for(let n=0;n<r.length;n++){let s=r[n](...e);zc(s)&&i.push(s)}return n=>Xc(i,n)}async function qc(t,...e){let r=Oi[t]||[],i=[];for(let n=0;n<r.length;n++){let s=await r[n](...e);zc(s)&&i.push(s)}return n=>Xc(i,n)}function Xc(t,e){let r=e;for(let i=0;i<t.length;i++){let n=t[i](r);n!==void 0&&(r=n)}return r}function Yc(t){let e=document.createElement("html");e.innerHTML=t,e.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top"));let r=document.getElementById("livewire-error");typeof r!="undefined"&&r!=null?r.innerHTML="":(r=document.createElement("div"),r.id="livewire-error",r.style.position="fixed",r.style.width="100vw",r.style.height="100vh",r.style.padding="50px",r.style.backgroundColor="rgba(0, 0, 0, .6)",r.style.zIndex=2e5);let i=document.createElement("iframe");i.style.backgroundColor="#17161A",i.style.borderRadius="5px",i.style.width="100%",i.style.height="100%",r.appendChild(i),document.body.prepend(r),document.body.style.overflow="hidden",i.contentWindow.document.open(),i.contentWindow.document.write(e.outerHTML),i.contentWindow.document.close(),r.addEventListener("click",()=>Du(r)),r.setAttribute("tabindex",0),r.addEventListener("keydown",n=>{n.key==="Escape"&&Du(r)}),r.focus()}function Du(t){t.outerHTML="",document.body.style.overflow="visible"}var Gp=class{constructor(){this.commits=new Set}add(t){this.commits.add(t)}delete(t){this.commits.delete(t)}hasCommitFor(t){return!!this.findCommitByComponent(t)}findCommitByComponent(t){for(let[e,r]of this.commits.entries())if(r.component===t)return r}shouldHoldCommit(t){return!t.isolate}empty(){return this.commits.size===0}async send(){this.prepare(),await qp(this)}prepare(){this.commits.forEach(t=>t.prepare())}payload(){let t=[],e=[],r=[];return this.commits.forEach(s=>{let[l,a,u]=s.toRequestPayload();t.push(l),e.push(a),r.push(u)}),[t,s=>e.forEach(l=>l(s.shift())),()=>r.forEach(s=>s())]}},zp=class{constructor(t){this.component=t,this.isolate=!1,this.calls=[],this.receivers=[],this.resolvers=[]}addResolver(t){this.resolvers.push(t)}addCall(t,e,r){this.calls.push({path:"",method:t,params:e,handleReturn(i){r(i)}})}prepare(){St("commit.prepare",{component:this.component})}toRequestPayload(){let t=hl(this.component.canonical,this.component.ephemeral),e=this.component.mergeQueuedUpdates(t),r={snapshot:this.component.snapshotEncoded,updates:e,calls:this.calls.map(p=>({path:p.path,method:p.method,params:p.params}))},i=[],n=[],s=[],l=p=>i.forEach(_=>_(p)),a=()=>n.forEach(p=>p()),u=()=>s.forEach(p=>p()),f=St("commit",{component:this.component,commit:r,succeed:p=>{i.push(p)},fail:p=>{n.push(p)},respond:p=>{s.push(p)}});return[r,p=>{let{snapshot:_,effects:m}=p;if(u(),this.component.mergeNewSnapshot(_,m,e),this.component.processEffects(this.component.effects),m.returns){let y=m.returns;this.calls.map(({handleReturn:w})=>w).forEach((w,E)=>{w(y[E])})}let v=JSON.parse(_);f({snapshot:v,effects:m}),this.resolvers.forEach(y=>y()),l(p)},()=>{u(),a()}]}},$p=class{constructor(){this.commits=new Set,this.pools=new Set}add(t){let e=this.findCommitOr(t,()=>{let r=new zp(t);return this.commits.add(r),r});return Hp(e,()=>{this.findPoolWithComponent(e.component)||this.createAndSendNewPool()}),e}findCommitOr(t,e){for(let[r,i]of this.commits.entries())if(i.component===t)return i;return e()}findPoolWithComponent(t){for(let[e,r]of this.pools.entries())if(r.hasCommitFor(t))return r}createAndSendNewPool(){St("commit.pooling",{commits:this.commits});let t=this.corraleCommitsIntoPools();this.commits.clear(),St("commit.pooled",{pools:t}),t.forEach(e=>{e.empty()||(this.pools.add(e),e.send().then(()=>{this.pools.delete(e),this.sendAnyQueuedCommits()}))})}corraleCommitsIntoPools(){let t=new Set;for(let[e,r]of this.commits.entries()){let i=!1;if(t.forEach(n=>{n.shouldHoldCommit(r)&&(n.add(r),i=!0)}),!i){let n=new Gp;n.add(r),t.add(n)}}return t}sendAnyQueuedCommits(){this.commits.size>0&&this.createAndSendNewPool()}},na=new WeakMap;function Hp(t,e){na.has(t)||na.set(t,setTimeout(()=>{e(),na.delete(t)},5))}var Kc=new $p;async function Zc(t){let e=Kc.add(t),r=new Promise(i=>{e.addResolver(i)});return r.commit=e,r}async function Wp(t,e,r){let i=Kc.add(t),n=new Promise(s=>{i.addCall(e,r,l=>s(l))});return n.commit=i,n}async function qp(t){let[e,r,i]=t.payload(),n={method:"POST",body:JSON.stringify({_token:$c(),components:e}),headers:{"Content-type":"application/json","X-Livewire":""}},s=[],l=[],a=[],u=w=>s.forEach(E=>E(w)),f=w=>l.forEach(E=>E(w)),d=w=>a.forEach(E=>E(w)),h=St("request.profile",n),p=Mp();St("request",{url:p,options:n,payload:n.body,respond:w=>a.push(w),succeed:w=>s.push(w),fail:w=>l.push(w)});let _;try{_=await fetch(p,n)}catch{h({content:"{}",failed:!0}),i(),f({status:503,content:null,preventDefault:()=>{}});return}let m={status:_.status,response:_};d(m),_=m.response;let v=await _.text();if(!_.ok){h({content:"{}",failed:!0});let w=!1;return i(),f({status:_.status,content:v,preventDefault:()=>w=!0}),w?void 0:(_.status===419&&Xp(),Yp(v))}if(_.redirected&&(window.location.href=_.url),Hc(v)){let w;[w,v]=Lp(v),Yc(w),h({content:"{}",failed:!0})}else h({content:v,failed:!1});let{components:y,assets:A}=JSON.parse(v);await qc("payload.intercept",{components:y,assets:A}),await r(y),u({status:_.status,json:JSON.parse(v)})}function Xp(){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload()}function Yp(t){Yc(t)}var Vc=vt(Yt()),pl={},Jc;function Mt(t,e,r=null){pl[t]=e}function Kp(t){Jc=t}var ku={on:"$on",el:"$el",id:"$id",get:"$get",set:"$set",call:"$call",commit:"$commit",watch:"$watch",entangle:"$entangle",dispatch:"$dispatch",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",upload:"$upload",uploadMultiple:"$uploadMultiple",removeUpload:"$removeUpload",cancelUpload:"$cancelUpload"};function Zp(t,e){return new Proxy({},{get(r,i){if(i==="__instance")return t;if(i in ku)return Bu(t,ku[i]);if(i in pl)return Bu(t,i);if(i in e)return e[i];if(!["then"].includes(i))return Vp(t)(i)},set(r,i,n){return i in e&&(e[i]=n),!0}})}function Bu(t,e){return pl[e](t)}function Vp(t){return Jc(t)}Vc.default.magic("wire",(t,{cleanup:e})=>{let r;return new Proxy({},{get(i,n){return r||(r=si(t)),["$entangle","entangle"].includes(n)?Wc(r,e):r.$wire[n]},set(i,n,s){return r||(r=si(t)),r.$wire[n]=s,!0}})});Mt("__instance",t=>t);Mt("$get",t=>(e,r=!0)=>Qr(r?t.reactive:t.ephemeral,e));Mt("$el",t=>t.el);Mt("$id",t=>t.id);Mt("$set",t=>async(e,r,i=!0)=>(go(t.reactive,e,r),i?(t.queueUpdate(e,r),await Zc(t)):Promise.resolve()));Mt("$call",t=>async(e,...r)=>await t.$wire[e](...r));Mt("$entangle",t=>(e,r=!1)=>Wc(t)(e,r));Mt("$toggle",t=>(e,r=!0)=>t.$wire.set(e,!t.$wire.get(e),r));Mt("$watch",t=>(e,r)=>{let i=()=>Qr(t.reactive,e),n=Vc.default.watch(i,r);t.addCleanup(n)});Mt("$refresh",t=>t.$wire.$commit);Mt("$commit",t=>async()=>await Zc(t));Mt("$on",t=>(...e)=>ug(t,...e));Mt("$dispatch",t=>(...e)=>tf(t,...e));Mt("$dispatchSelf",t=>(...e)=>on(t,...e));Mt("$dispatchTo",()=>(...t)=>gl(...t));Mt("$upload",t=>(...e)=>Bp(t,...e));Mt("$uploadMultiple",t=>(...e)=>Np(t,...e));Mt("$removeUpload",t=>(...e)=>jp(t,...e));Mt("$cancelUpload",t=>(...e)=>Up(t,...e));var sa=new WeakMap;Mt("$parent",t=>{if(sa.has(t))return sa.get(t).$wire;let e=t.parent;return sa.set(t,e),e.$wire});var sn=new WeakMap;function Jp(t,e,r){sn.has(t)||sn.set(t,{});let i=sn.get(t);i[e]=r,sn.set(t,i)}Kp(t=>e=>async(...r)=>{if(r.length===1&&r[0]instanceof Event&&(r=[]),sn.has(t)){let i=sn.get(t);if(typeof i[e]=="function")return i[e](r)}return await Wp(t,e,r)});var eg=class{constructor(t){if(t.__livewire)throw"Component already initialized";if(t.__livewire=this,this.el=t,this.id=t.getAttribute("wire:id"),this.__livewireId=this.id,this.snapshotEncoded=t.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(t.getAttribute("wire:effects")),this.originalEffects=bi(this.effects),this.canonical=rn(bi(this.snapshot.data)),this.ephemeral=rn(bi(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.queuedUpdates={},this.$wire=Zp(this,this.reactive),this.cleanups=[],this.processEffects(this.effects)}mergeNewSnapshot(t,e,r={}){let i=JSON.parse(t),n=bi(this.canonical),s=this.applyUpdates(n,r),l=rn(bi(i.data)),a=hl(s,l);this.snapshotEncoded=t,this.snapshot=i,this.effects=e,this.canonical=rn(bi(i.data));let u=rn(bi(i.data));return Object.entries(a).forEach(([f,d])=>{let h=f.split(".")[0];this.reactive[h]=u[h]}),a}queueUpdate(t,e){this.queuedUpdates[t]=e}mergeQueuedUpdates(t){return Object.entries(this.queuedUpdates).forEach(([e,r])=>{Object.entries(t).forEach(([i,n])=>{i.startsWith(r)&&delete t[i]}),t[e]=r}),this.queuedUpdates=[],t}applyUpdates(t,e){for(let r in e)go(t,r,e[r]);return t}replayUpdate(t,e){let r={...this.effects,html:e};this.mergeNewSnapshot(JSON.stringify(t),r),this.processEffects({html:e})}processEffects(t){St("effects",this,t),St("effect",{component:this,effects:t,cleanup:e=>this.addCleanup(e)})}get children(){let t=this.snapshot.memo;return Object.values(t.children).map(r=>r[1]).map(r=>ig(r))}get parent(){return si(this.el.parentElement)}inscribeSnapshotAndEffectsOnElement(){let t=this.el;t.setAttribute("wire:snapshot",this.snapshotEncoded);let e=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(e.url=this.originalEffects.url),t.setAttribute("wire:effects",JSON.stringify(e))}addCleanup(t){this.cleanups.push(t)}cleanup(){for(delete this.el.__livewire;this.cleanups.length>0;)this.cleanups.pop()()}},Hr={};function tg(t){let e=new eg(t);if(Hr[e.id])throw"Component already registered";return St("component.init",{component:e,cleanup:i=>e.addCleanup(i)}),Hr[e.id]=e,e}function rg(t){let e=Hr[t];!e||(e.cleanup(),delete Hr[t])}function ig(t){let e=Hr[t];if(!e)throw"Component not found: "+t;return e}function si(t,e=!0){let r=Alpine.findClosest(t,i=>i.__livewire);if(!r){if(e)throw"Could not find Livewire component in DOM tree";return}return r.__livewire}function ef(t){return Object.values(Hr).filter(e=>t==e.name)}function ng(t){return ef(t).map(e=>e.$wire)}function sg(t){let e=Hr[t];return e&&e.$wire}function og(){return Object.values(Hr)[0].$wire}function ag(){return Object.values(Hr)}function tf(t,e,r){mo(t.el,e,r)}function lg(t,e){mo(window,t,e)}function on(t,e,r){mo(t.el,e,r,!1)}function gl(t,e,r){ef(t).forEach(n=>{mo(n.el,e,r,!1)})}function ug(t,e,r){t.el.addEventListener(e,i=>{r(i.detail)})}function cg(t,e){let r=i=>{!i.__livewire||e(i.detail)};return window.addEventListener(t,r),()=>{window.removeEventListener(t,r)}}function mo(t,e,r,i=!0){let n=new CustomEvent(e,{bubbles:i,detail:r});n.__livewire={name:e,params:r,receivedBy:[]},t.dispatchEvent(n)}var Da=new Set;function kn(t){return t.match(new RegExp("wire:"))}function ka(t,e){let[r,...i]=e.replace(new RegExp("wire:"),"").split(".");return new hg(r,i,e,t)}function gr(t,e){Da.has(t)||(Da.add(t),lt("directive.init",({el:r,component:i,directive:n,cleanup:s})=>{n.value===t&&e({el:r,directive:n,component:i,$wire:i.$wire,cleanup:s})}))}function ml(t){return new dg(t)}function fg(t){return Da.has(t)}var dg=class{constructor(t){this.el=t,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(t){return this.directives.map(e=>e.value).includes(t)}missing(t){return!this.has(t)}get(t){return this.directives.find(e=>e.value===t)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(t=>kn(t)).map(t=>ka(this.el,t)))}},hg=class{constructor(t,e,r,i){this.rawName=this.raw=r,this.el=i,this.eventContext,this.value=t,this.modifiers=e,this.expression=this.el.getAttribute(this.rawName)}get method(){const{method:t}=this.parseOutMethodAndParams(this.expression);return t}get params(){const{params:t}=this.parseOutMethodAndParams(this.expression);return t}parseOutMethodAndParams(t){let e=t,r=[];const i=e.match(/(.*?)\((.*)\)/s);return i&&(e=i[1],r=new Function("$event",`return (function () {
                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {
                    p[k] = arguments[k];
                }
                return [].concat(p);
            })(${i[2]})`)(this.eventContext)),{method:e,params:r}}},pg=vt(Ep()),gg=vt(xp()),mg=vt(Cp()),vg=vt(Sp()),yg=vt(Ip()),Ba=class{constructor(t,e){this.url=t,this.html=e}},Fr={currentKey:null,currentUrl:null,keys:[],lookup:{},limit:10,has(t){return this.lookup[t]!==void 0},retrieve(t){let e=this.lookup[t];if(e===void 0)throw"No back button cache found for current location: "+t;return e},replace(t,e){this.has(t)?this.lookup[t]=e:this.push(t,e)},push(t,e){this.lookup[t]=e;let r=this.keys.indexOf(t);r>-1&&this.keys.splice(r,1),this.keys.unshift(t),this.trim()},trim(){for(let t of this.keys.splice(this.limit))delete this.lookup[t]}};function _g(){let t=new URL(window.location.href,document.baseURI);rf(t,document.documentElement.outerHTML)}function wg(t,e){let r=document.documentElement.outerHTML;Fr.replace(t,new Ba(e,r))}function Ag(t,e){let r;t(i=>r=i),window.addEventListener("popstate",i=>{let n=i.state||{},s=n.alpine||{};if(Object.keys(n).length!==0&&!!s.snapshotIdx)if(Fr.has(s.snapshotIdx)){let l=Fr.retrieve(s.snapshotIdx);e(l.html,l.url,Fr.currentUrl,Fr.currentKey)}else r(s.url)})}function bg(t,e){Eg(e,t)}function Eg(t,e){nf("pushState",t,e)}function rf(t,e){nf("replaceState",t,e)}function nf(t,e,r){var s;let i=e.toString()+"-"+Math.random();t==="pushState"?Fr.push(i,new Ba(e,r)):Fr.replace(i=(s=Fr.currentKey)!=null?s:i,new Ba(e,r));let n=history.state||{};n.alpine||(n.alpine={}),n.alpine.snapshotIdx=i,n.alpine.url=e.toString();try{history[t](n,JSON.stringify(document.title),e),Fr.currentKey=i,Fr.currentUrl=e}catch(l){l instanceof DOMException&&l.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+e),console.error(l)}}function xg(t,e){let r=s=>!s.isTrusted,i=s=>s.which>1||s.altKey||s.ctrlKey||s.metaKey||s.shiftKey,n=s=>s.which!==13||s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;t.addEventListener("click",s=>{if(r(s)){s.preventDefault(),e(l=>l());return}i(s)||s.preventDefault()}),t.addEventListener("mousedown",s=>{i(s)||(s.preventDefault(),e(l=>{let a=u=>{u.preventDefault(),l(),t.removeEventListener("mouseup",a)};t.addEventListener("mouseup",a)}))}),t.addEventListener("keydown",s=>{n(s)||(s.preventDefault(),e(l=>l()))})}function Cg(t,e=60,r){t.addEventListener("mouseenter",i=>{let n=setTimeout(()=>{r(i)},e),s=()=>{clearTimeout(n),t.removeEventListener("mouseleave",s)};t.addEventListener("mouseleave",s)})}function Nu(t){return un(t.getAttribute("href"))}function un(t){return new URL(t,document.baseURI)}function vo(t){return t.pathname+t.search+t.hash}function Sg(t,e){let r=vo(t);sf(r,(i,n)=>{e(i,n)})}function sf(t,e){let r={headers:{"X-Livewire-Navigate":""}};St("navigate.request",{url:t,options:r});let i;fetch(t,r).then(n=>{let s=un(t);return i=un(n.url),s.pathname+s.search===i.pathname+i.search&&(i.hash=s.hash),n.text()}).then(n=>{e(n,i)})}var cr={};function ju(t,e){let r=vo(t);cr[r]||(cr[r]={finished:!1,html:null,whenFinished:()=>{}},sf(r,(i,n)=>{e(i,n)}))}function Uu(t,e,r){let i=cr[vo(e)];i.html=t,i.finished=!0,i.finalDestination=r,i.whenFinished()}function Ig(t,e,r){let i=vo(t);if(!cr[i])return r();if(cr[i].finished){let n=cr[i].html,s=cr[i].finalDestination;return delete cr[i],e(n,s)}else cr[i].whenFinished=()=>{let n=cr[i].html,s=cr[i].finalDestination;delete cr[i],e(n,s)}}var vl=vt(Yt());function Qu(t){vl.default.mutateDom(()=>{t.querySelectorAll("[data-teleport-template]").forEach(e=>e._x_teleport.remove())})}function Gu(t){vl.default.mutateDom(()=>{t.querySelectorAll("[data-teleport-target]").forEach(e=>e.remove())})}function zu(t){vl.default.walk(t,(e,r)=>{!e._x_teleport||(e._x_teleportPutBack(),r())})}function Tg(t){return t.hasAttribute("data-teleport-target")}function $u(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(t=>{t.setAttribute("data-scroll-x",t.scrollLeft),t.setAttribute("data-scroll-y",t.scrollTop)})}function Hu(){let t=e=>{e.hasAttribute("data-scroll-x")?(e.scrollTo({top:Number(e.getAttribute("data-scroll-y")),left:Number(e.getAttribute("data-scroll-x")),behavior:"instant"}),e.removeAttribute("data-scroll-x"),e.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{t(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(t)})}var Na=vt(Yt()),Gn={};function Wu(t){Gn={},document.querySelectorAll("[x-persist]").forEach(e=>{Gn[e.getAttribute("x-persist")]=e,t(e),Na.default.mutateDom(()=>{e.remove()})})}function qu(t){let e=[];document.querySelectorAll("[x-persist]").forEach(r=>{let i=Gn[r.getAttribute("x-persist")];!i||(e.push(r.getAttribute("x-persist")),i._x_wasPersisted=!0,t(i,r),Na.default.mutateDom(()=>{r.replaceWith(i)}))}),Object.entries(Gn).forEach(([r,i])=>{e.includes(r)||Na.default.destroyTree(i)}),Gn={}}function Og(t){return t.hasAttribute("x-persist")}var yo=vt(Tp());yo.default.configure({minimum:.1,trickleSpeed:200,showSpinner:!1,parent:"body"});Mg();var ja=!1;function Pg(){ja=!0,setTimeout(()=>{!ja||yo.default.start()},150)}function Fg(){ja=!1,yo.default.done()}function Rg(){yo.default.remove()}function Mg(){let t=document.createElement("style");t.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px var(--livewire-progress-bar-color, #29d), 0 0 5px var(--livewire-progress-bar-color, #29d);
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `;let e=Rp();e&&(t.nonce=e),document.head.appendChild(t)}var oa=[],of=["data-csrf","aria-hidden"];function Xu(t,e){let r=new DOMParser().parseFromString(t,"text/html"),i=document.adoptNode(r.body),n=document.adoptNode(r.head);oa=oa.concat(Array.from(document.body.querySelectorAll("script")).map(a=>cf(ff(a.outerHTML,of))));let s=()=>{};Dg(n).finally(()=>{s()}),Lg(i,oa);let l=document.body;document.body.replaceWith(i),Alpine.destroyTree(l),e(a=>s=a)}function Lg(t,e){t.querySelectorAll("script").forEach(r=>{if(r.hasAttribute("data-navigate-once")){let i=cf(ff(r.outerHTML,of));if(e.includes(i))return}r.replaceWith(af(r))})}function Dg(t){let e=Array.from(document.head.children),r=e.map(s=>s.outerHTML),i=document.createDocumentFragment(),n=[];for(let s of Array.from(t.children))if(Ku(s))if(r.includes(s.outerHTML))i.appendChild(s);else if(lf(s)&&Bg(s,e)&&setTimeout(()=>window.location.reload()),uf(s))try{n.push(kg(af(s)))}catch{}else document.head.appendChild(s);for(let s of Array.from(document.head.children))Ku(s)||s.remove();for(let s of Array.from(t.children))document.head.appendChild(s);return Promise.all(n)}async function kg(t){return new Promise((e,r)=>{t.src?(t.onload=()=>e(),t.onerror=()=>r()):e(),document.head.appendChild(t)})}function af(t){let e=document.createElement("script");e.textContent=t.textContent,e.async=t.async;for(let r of t.attributes)e.setAttribute(r.name,r.value);return e}function lf(t){return t.hasAttribute("data-navigate-track")}function Bg(t,e){let[r,i]=Yu(t);return e.some(n=>{if(!lf(n))return!1;let[s,l]=Yu(n);if(s===r&&i!==l)return!0})}function Yu(t){return(uf(t)?t.src:t.href).split("?")}function Ku(t){return t.tagName.toLowerCase()==="link"&&t.getAttribute("rel").toLowerCase()==="stylesheet"||t.tagName.toLowerCase()==="style"||t.tagName.toLowerCase()==="script"}function uf(t){return t.tagName.toLowerCase()==="script"}function cf(t){return t.split("").reduce((e,r)=>(e=(e<<5)-e+r.charCodeAt(0),e&e),0)}function ff(t,e){let r=t;return e.forEach(i=>{const n=new RegExp(`${i}="[^"]*"|${i}='[^']*'`,"g");r=r.replace(n,"")}),r=r.replaceAll(" ",""),r.trim()}var aa=!0;function Ng(t){t.navigate=r=>{let i=un(r);Nr("alpine:navigate",{url:i,history:!1,cached:!1})||e(i)},t.navigate.disableProgressBar=()=>{aa=!1},t.addInitSelector(()=>`[${t.prefixed("navigate")}]`),t.directive("navigate",(r,{modifiers:i})=>{i.includes("hover")&&Cg(r,60,()=>{let s=Nu(r);ju(s,(l,a)=>{Uu(l,s,a)})}),xg(r,s=>{let l=Nu(r);ju(l,(a,u)=>{Uu(a,l,u)}),s(()=>{Nr("alpine:navigate",{url:l,history:!1,cached:!1})||e(l)})})});function e(r,i=!0){aa&&Pg(),jg(r,(n,s)=>{Nr("alpine:navigating"),$u(),aa&&Fg(),Ug(),_g(),Zu(t,l=>{Wu(a=>{Qu(a)}),i?bg(n,s):rf(s,n),Xu(n,a=>{Gu(document.body),qu((u,f)=>{zu(u)}),Hu(),a(()=>{l(()=>{setTimeout(()=>{}),Vu(t),Nr("alpine:navigated")})})})})})}Ag(r=>{r(i=>{let n=un(i);if(Nr("alpine:navigate",{url:n,history:!0,cached:!1}))return;e(n,!1)})},(r,i,n,s)=>{let l=un(i);Nr("alpine:navigate",{url:l,history:!0,cached:!0})||($u(),Nr("alpine:navigating"),wg(n,s),Zu(t,u=>{Wu(f=>{Qu(f)}),Xu(r,()=>{Rg(),Gu(document.body),qu((f,d)=>{zu(f)}),Hu(),u(()=>{Vu(t),Nr("alpine:navigated")})})}))}),setTimeout(()=>{Nr("alpine:navigated")})}function jg(t,e){Ig(t,e,()=>{Sg(t,e)})}function Zu(t,e){t.stopObservingMutations(),e(r=>{t.startObservingMutations(),queueMicrotask(()=>{r()})})}function Nr(t,e){let r=new CustomEvent(t,{cancelable:!0,bubbles:!0,detail:e});return document.dispatchEvent(r),r.defaultPrevented}function Vu(t){t.initTree(document.body,void 0,(e,r)=>{e._x_wasPersisted&&r()})}function Ug(){let t=function(e,r){Alpine.walk(e,(i,n)=>{Og(i)&&n(),Tg(i)?n():r(i,n)})};Alpine.destroyTree(document.body,t)}function Qg(t){t.magic("queryString",(e,{interceptor:r})=>{let i,n=!1,s=!1;return r((l,a,u,f,d)=>{let h=i||f,{initial:p,replace:_,push:m,pop:v}=Ua(h,l,n);return u(p),s?(t.effect(()=>m(a())),v(async y=>{u(y),await(()=>Promise.resolve())()})):t.effect(()=>_(a())),p},l=>{l.alwaysShow=()=>(n=!0,l),l.usePush=()=>(s=!0,l),l.as=a=>(i=a,l)})}),t.history={track:Ua}}function Ua(t,e,r=!1){let{has:i,get:n,set:s,remove:l}=zg(),a=new URL(window.location.href),u=i(a,t),f=u?n(a,t):e,d=JSON.stringify(f),h=m=>JSON.stringify(m)===d;r&&(a=s(a,t,f)),Ju(a,t,{value:f});let p=!1,_=(m,v)=>{if(p)return;let y=new URL(window.location.href);!r&&!u&&h(v)||v===void 0?y=l(y,t):y=s(y,t,v),m(y,t,{value:v})};return{initial:f,replace(m){_(Ju,m)},push(m){_(Gg,m)},pop(m){let v=y=>{!y.state||!y.state.alpine||Object.entries(y.state.alpine).forEach(([A,{value:w}])=>{if(A!==t)return;p=!0;let E=m(w);E instanceof Promise?E.finally(()=>p=!1):p=!1})};return window.addEventListener("popstate",v),()=>window.removeEventListener("popstate",v)}}}function Ju(t,e,r){let i=window.history.state||{};i.alpine||(i.alpine={}),i.alpine[e]=yl(r),window.history.replaceState(i,"",t.toString())}function Gg(t,e,r){let i=window.history.state||{};i.alpine||(i.alpine={}),i={alpine:{...i.alpine,[e]:yl(r)}},window.history.pushState(i,"",t.toString())}function yl(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function zg(){return{has(t,e){let r=t.search;if(!r)return!1;let i=Os(r);return Object.keys(i).includes(e)},get(t,e){let r=t.search;return r?Os(r)[e]:!1},set(t,e,r){let i=Os(t.search);return i[e]=df(yl(r)),t.search=ec(i),t},remove(t,e){let r=Os(t.search);return delete r[e],t.search=ec(r),t}}}function df(t){if(!dl(t))return t;for(let e in t)t[e]===null?delete t[e]:t[e]=df(t[e]);return t}function ec(t){let e=n=>typeof n=="object"&&n!==null,r=(n,s={},l="")=>(Object.entries(n).forEach(([a,u])=>{let f=l===""?a:`${l}[${a}]`;u===null?s[f]="":e(u)?s={...s,...r(u,s,f)}:s[f]=encodeURIComponent(u).replaceAll("%20","+").replaceAll("%2C",",")}),s),i=r(t);return Object.entries(i).map(([n,s])=>`${n}=${s}`).join("&")}function Os(t){if(t=t.replace("?",""),t==="")return{};let e=(n,s,l)=>{let[a,u,...f]=n.split(".");if(!u)return l[n]=s;l[a]===void 0&&(l[a]=isNaN(u)?{}:[]),e([u,...f].join("."),s,l[a])},r=t.split("&").map(n=>n.split("=")),i=Object.create(null);return r.forEach(([n,s])=>{if(typeof s!="undefined")if(s=decodeURIComponent(s.replaceAll("+","%20")),!n.includes("["))i[n]=s;else{let l=n.replaceAll("[",".").replaceAll("]","");e(l,s,i)}}),i}var $g=vt(Op()),Hg=vt(Pp()),Ht=vt(Yt());function Wg(){setTimeout(()=>qg()),ta(document,"livewire:init"),ta(document,"livewire:initializing"),Ht.default.plugin($g.default),Ht.default.plugin(Qg),Ht.default.plugin(vg.default),Ht.default.plugin(pg.default),Ht.default.plugin(yg.default),Ht.default.plugin(gg.default),Ht.default.plugin(mg.default),Ht.default.plugin(Ng),Ht.default.plugin(Hg.default),Ht.default.addRootSelector(()=>"[wire\\:id]"),Ht.default.onAttributesAdded((t,e)=>{if(!Array.from(e).some(i=>kn(i.name)))return;let r=si(t,!1);!r||e.forEach(i=>{if(!kn(i.name))return;let n=ka(t,i.name);St("directive.init",{el:t,component:r,directive:n,cleanup:s=>{Ht.default.onAttributeRemoved(t,n.raw,s)}})})}),Ht.default.interceptInit(Ht.default.skipDuringClone(t=>{if(!Array.from(t.attributes).some(r=>kn(r.name)))return;if(t.hasAttribute("wire:id")){let r=tg(t);Ht.default.onAttributeRemoved(t,"wire:id",()=>{rg(r.id)})}let e=si(t,!1);e&&(St("element.init",{el:t,component:e}),Array.from(t.getAttributeNames()).filter(i=>kn(i)).map(i=>ka(t,i)).forEach(i=>{St("directive.init",{el:t,component:e,directive:i,cleanup:n=>{Ht.default.onAttributeRemoved(t,i.raw,n)}})}))})),Ht.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),ta(document,"livewire:initialized")}function qg(){let t=document.querySelector("script[data-update-uri][data-csrf]");if(!t)return;let e=t.closest("[wire\\:id]");e&&console.warn("Livewire: missing closing tags found. Ensure your template elements contain matching closing tags.",e)}var _l=vt(Yt());lt("effect",({component:t,effects:e})=>{Xg(t,e.listeners||[])});function Xg(t,e){e.forEach(r=>{let i=n=>{n.__livewire&&n.__livewire.receivedBy.push(t),t.$wire.call("__dispatch",r,n.detail||{})};window.addEventListener(r,i),t.addCleanup(()=>window.removeEventListener(r,i)),t.el.addEventListener(r,n=>{!n.__livewire||n.bubbles||(n.__livewire&&n.__livewire.receivedBy.push(t.id),t.$wire.call("__dispatch",r,n.detail||{}))})})}var tc=vt(Yt()),Zi=new WeakMap,Js=new Set;lt("payload.intercept",async({assets:t})=>{if(!!t)for(let[e,r]of Object.entries(t))await Zg(e,async()=>{await Vg(r)})});lt("component.init",({component:t})=>{let e=t.snapshot.memo.assets;e&&e.forEach(r=>{Js.has(r)||Js.add(r)})});lt("effect",({component:t,effects:e})=>{let r=e.scripts;r&&Object.entries(r).forEach(([i,n])=>{Yg(t,i,()=>{let s=Kg(n);tc.default.dontAutoEvaluateFunctions(()=>{tc.default.evaluate(t.el,s,{$wire:t.$wire})})})})});function Yg(t,e,r){if(Zi.has(t)&&Zi.get(t).includes(e))return;r(),Zi.has(t)||Zi.set(t,[]);let i=Zi.get(t);i.push(e),Zi.set(t,i)}function Kg(t){let r=/<script\b[^>]*>([\s\S]*?)<\/script>/gm.exec(t);return r&&r[1]?r[1].trim():""}async function Zg(t,e){Js.has(t)||(await e(),Js.add(t))}async function Vg(t){let e=new DOMParser().parseFromString(t,"text/html"),r=document.adoptNode(e.head);for(let i of r.children)try{await Jg(i)}catch{}}async function Jg(t){return new Promise((e,r)=>{if(em(t)){let i=tm(t);i.src?(i.onload=()=>e(),i.onerror=()=>r()):e(),document.head.appendChild(i)}else document.head.appendChild(t),e()})}function em(t){return t.tagName.toLowerCase()==="script"}function tm(t){let e=document.createElement("script");e.textContent=t.textContent,e.async=t.async;for(let r of t.attributes)e.setAttribute(r.name,r.value);return e}var rc=vt(Yt());lt("effect",({component:t,effects:e})=>{let r=e.js,i=e.xjs;r&&Object.entries(r).forEach(([n,s])=>{Jp(t,n,()=>{rc.default.evaluate(t.el,s)})}),i&&i.forEach(n=>{rc.default.evaluate(t.el,n)})});var rm=vt(Yt());function im(t,e,r){let i=e.parentElement?e.parentElement.tagName.toLowerCase():"div",n=document.createElement(i);n.innerHTML=r;let s;try{s=si(e.parentElement)}catch{}s&&(n.__livewire=s);let l=n.firstElementChild;l.__livewire=t,St("morph",{el:e,toEl:l,component:t}),rm.default.morph(e,l,{updating:(a,u,f,d)=>{if(!Vi(a)){if(St("morph.updating",{el:a,toEl:u,component:t,skip:d,childrenOnly:f}),a.__livewire_replace===!0&&(a.innerHTML=u.innerHTML),a.__livewire_replace_self===!0)return a.outerHTML=u.outerHTML,d();if(a.__livewire_ignore===!0||(a.__livewire_ignore_self===!0&&f(),ic(a)&&a.getAttribute("wire:id")!==t.id))return d();ic(a)&&(u.__livewire=t)}},updated:a=>{Vi(a)||St("morph.updated",{el:a,component:t})},removing:(a,u)=>{Vi(a)||St("morph.removing",{el:a,component:t,skip:u})},removed:a=>{Vi(a)||St("morph.removed",{el:a,component:t})},adding:a=>{St("morph.adding",{el:a,component:t})},added:a=>{Vi(a)||(si(a).id,St("morph.added",{el:a}))},key:a=>{if(!Vi(a))return a.hasAttribute("wire:key")?a.getAttribute("wire:key"):a.hasAttribute("wire:id")?a.getAttribute("wire:id"):a.id},lookahead:!1})}function Vi(t){return typeof t.hasAttribute!="function"}function ic(t){return t.hasAttribute("wire:id")}lt("effect",({component:t,effects:e})=>{let r=e.html;!r||queueMicrotask(()=>{queueMicrotask(()=>{im(t,t.el,r)})})});lt("effect",({component:t,effects:e})=>{nm(t,e.dispatches||[])});function nm(t,e){e.forEach(({name:r,params:i={},self:n=!1,to:s})=>{n?on(t,r,i):s?gl(s,r,i):tf(t,r,i)})}var sm=vt(Yt()),Qa=new Fp;lt("directive.init",({el:t,directive:e,cleanup:r,component:i})=>setTimeout(()=>{e.value==="submit"&&t.addEventListener("submit",()=>{let n=e.expression.startsWith("$parent")?i.parent.id:i.id,s=om(t);Qa.add(n,s)})}));lt("commit",({component:t,respond:e})=>{e(()=>{Qa.each(t.id,r=>r()),Qa.remove(t.id)})});function om(t){let e=[];return sm.default.walk(t,(r,i)=>{if(!!t.contains(r)){if(r.hasAttribute("wire:ignore"))return i();am(r)?e.push(um(r)):lm(r)&&e.push(cm(r))}}),()=>{for(;e.length>0;)e.shift()()}}function am(t){let e=t.tagName.toLowerCase();return e==="select"||e==="button"&&t.type==="submit"||e==="input"&&(t.type==="checkbox"||t.type==="radio")}function lm(t){return["input","textarea"].includes(t.tagName.toLowerCase())}function um(t){let e=t.disabled?()=>{}:()=>t.disabled=!1;return t.disabled=!0,e}function cm(t){let e=t.readOnly?()=>{}:()=>t.readOnly=!1;return t.readOnly=!0,e}lt("commit.pooling",({commits:t})=>{t.forEach(e=>{let r=e.component;hf(r,i=>{i.$wire.$commit()})})});lt("commit.pooled",({pools:t})=>{fm(t).forEach(r=>{let i=r.component;hf(i,n=>{dm(t,i,n)})})});function fm(t){let e=[];return t.forEach(r=>{r.commits.forEach(i=>{e.push(i)})}),e}function dm(t,e,r){let i=nc(t,e),n=nc(t,r),s=n.findCommitByComponent(r);n.delete(s),i.add(s),t.forEach(l=>{l.empty()&&t.delete(l)})}function nc(t,e){for(let[r,i]of t.entries())if(i.hasCommitFor(e))return i}function hf(t,e){pf(t,r=>{(hm(r)||pm(r))&&e(r)})}function hm(t){return!!t.snapshot.memo.props}function pm(t){return!!t.snapshot.memo.bindings}function pf(t,e){t.children.forEach(r=>{e(r),pf(r,e)})}lt("commit",({succeed:t})=>{t(({effects:e})=>{let r=e.download;if(!r)return;let i=window.webkitURL||window.URL,n=i.createObjectURL(gm(r.content,r.contentType)),s=document.createElement("a");s.style.display="none",s.href=n,s.download=r.name,document.body.appendChild(s),s.click(),setTimeout(function(){i.revokeObjectURL(n)},0)})});function gm(t,e="",r=512){const i=atob(t),n=[];e===null&&(e="");for(let s=0;s<i.length;s+=r){let l=i.slice(s,s+r),a=new Array(l.length);for(let f=0;f<l.length;f++)a[f]=l.charCodeAt(f);let u=new Uint8Array(a);n.push(u)}return new Blob(n,{type:e})}var Ga=new WeakSet,za=new WeakSet;lt("component.init",({component:t})=>{let e=t.snapshot.memo;e.lazyLoaded!==void 0&&(za.add(t),e.lazyIsolated!==void 0&&e.lazyIsolated===!1&&Ga.add(t))});lt("commit.pooling",({commits:t})=>{t.forEach(e=>{!za.has(e.component)||(Ga.has(e.component)?(e.isolate=!1,Ga.delete(e.component)):e.isolate=!0,za.delete(e.component))})});var sc=vt(Yt());lt("effect",({component:t,effects:e,cleanup:r})=>{let i=e.url;!i||Object.entries(i).forEach(([n,s])=>{let{name:l,as:a,use:u,alwaysShow:f,except:d}=mm(n,s);a||(a=l);let h=[!1,null,void 0].includes(d)?Qr(t.ephemeral,l):d,{replace:p,push:_,pop:m}=Ua(a,h,f);if(u==="replace"){let v=sc.default.effect(()=>{p(Qr(t.reactive,l))});r(()=>sc.default.release(v))}else if(u==="push"){let v=lt("commit",({component:A,succeed:w})=>{if(t!==A)return;let E=Qr(t.canonical,l);w(()=>{let S=Qr(t.canonical,l);JSON.stringify(E)!==JSON.stringify(S)&&_(S)})}),y=m(async A=>{await t.$wire.set(l,A),document.querySelectorAll("input").forEach(w=>{w._x_forceModelUpdate&&w._x_forceModelUpdate(w._x_model.get())})});r(()=>{v(),y()})}})});function mm(t,e){let r={use:"replace",alwaysShow:!1};return typeof e=="string"?{...r,name:e,as:e}:{...{...r,name:t,as:t},...e}}lt("request",({options:t})=>{window.Echo&&(t.headers["X-Socket-ID"]=window.Echo.socketId())});lt("effect",({component:t,effects:e})=>{(e.listeners||[]).forEach(i=>{if(i.startsWith("echo")){if(typeof window.Echo=="undefined"){console.warn("Laravel Echo cannot be found");return}let n=i.split(/(echo:|echo-)|:|,/);n[1]=="echo:"&&n.splice(2,0,"channel",void 0),n[2]=="notification"&&n.push(void 0,void 0);let[s,l,a,u,f,d,h]=n;if(["channel","private","encryptedPrivate"].includes(a)){let p=_=>on(t,i,[_]);window.Echo[a](f).listen(h,p),t.addCleanup(()=>{window.Echo[a](f).stopListening(h,p)})}else if(a=="presence")if(["here","joining","leaving"].includes(h))window.Echo.join(f)[h](p=>{on(t,i,[p])});else{let p=_=>on(t,i,[_]);window.Echo.join(f).listen(h,p),t.addCleanup(()=>{window.Echo.leaveChannel(f)})}else a=="notification"?window.Echo.private(f).notification(p=>{on(t,i,[p])}):console.warn("Echo channel type not yet supported")}})});var gf=new WeakSet;lt("component.init",({component:t})=>{t.snapshot.memo.isolate===!0&&gf.add(t)});lt("commit.pooling",({commits:t})=>{t.forEach(e=>{!gf.has(e.component)||(e.isolate=!0)})});ym()&&Alpine.navigate.disableProgressBar();document.addEventListener("alpine:navigate",t=>wl("livewire:navigate",t));document.addEventListener("alpine:navigating",t=>wl("livewire:navigating",t));document.addEventListener("alpine:navigated",t=>wl("livewire:navigated",t));function wl(t,e){let r=new CustomEvent(t,{cancelable:!0,bubbles:!0,detail:e.detail});document.dispatchEvent(r),r.defaultPrevented&&e.preventDefault()}function vm(t,e,r){t.redirectUsingNavigate?Alpine.navigate(e):r()}function ym(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar===!1)}lt("effect",({effects:t})=>{if(!t.redirect)return;let e=t.redirect;vm(t,e,()=>{window.location.href=e})});var oc=vt(Yt());lt("morph.added",({el:t})=>{t.__addedByMorph=!0});gr("transition",({el:t,directive:e,component:r,cleanup:i})=>{let n=oc.default.reactive({state:!t.__addedByMorph});oc.default.bind(t,{[e.rawName.replace("wire:","x-")]:"","x-show"(){return n.state}}),t.__addedByMorph&&setTimeout(()=>n.state=!0);let s=[];s.push(lt("morph.removing",({el:l,skip:a})=>{a(),l.addEventListener("transitionend",()=>{l.remove()}),n.state=!1,s.push(lt("morph",({component:u})=>{u===r&&(l.remove(),s.forEach(f=>f()))}))})),i(()=>s.forEach(l=>l()))});var _m=new Gc;function wm(t,e){_m.each(t,r=>{r.callback(),r.callback=()=>{}}),e()}var ac=vt(Yt());lt("directive.init",({el:t,directive:e,cleanup:r,component:i})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty"].includes(e.value)||fg(e.value))return;let n=e.rawName.replace("wire:","x-on:");e.value==="submit"&&!e.modifiers.includes("prevent")&&(n=n+".prevent");let s=ac.default.bind(t,{[n](l){let a=()=>{wm(i,()=>{ac.default.evaluate(t,"$wire."+e.expression,{scope:{$event:l}})})};t.__livewire_confirm?t.__livewire_confirm(()=>{a()},()=>{l.stopImmediatePropagation()}):a()}});r(s)});var an=vt(Yt());an.default.addInitSelector(()=>"[wire\\:navigate]");an.default.addInitSelector(()=>"[wire\\:navigate\\.hover]");an.default.interceptInit(an.default.skipDuringClone(t=>{t.hasAttribute("wire:navigate")?an.default.bind(t,{["x-navigate"]:!0}):t.hasAttribute("wire:navigate.hover")&&an.default.bind(t,{["x-navigate.hover"]:!0})}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(t=>{t.inscribeSnapshotAndEffectsOnElement()})});gr("confirm",({el:t,directive:e})=>{let r=e.expression,i=e.modifiers.includes("prompt");r=r.replaceAll("\\n",`
`),r===""&&(r="Are you sure?"),t.__livewire_confirm=(n,s)=>{if(i){let[l,a]=r.split("|");a?prompt(l)===a?n():s():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(r)?n():s()}});function Pi(t,e,r,i=null){if(r=e.modifiers.includes("remove")?!r:r,e.modifiers.includes("class")){let n=e.expression.split(" ").filter(String);r?t.classList.add(...n):t.classList.remove(...n)}else if(e.modifiers.includes("attr"))r?t.setAttribute(e.expression,!0):t.removeAttribute(e.expression);else{let n=i!=null?i:window.getComputedStyle(t,null).getPropertyValue("display"),s=["inline","block","table","flex","grid","inline-flex"].filter(l=>e.modifiers.includes(l))[0]||"inline-block";s=e.modifiers.includes("remove")&&!r?n:s,t.style.display=r?s:"none"}}var $a=new Set,Ha=new Set;window.addEventListener("offline",()=>$a.forEach(t=>t()));window.addEventListener("online",()=>Ha.forEach(t=>t()));gr("offline",({el:t,directive:e,cleanup:r})=>{let i=()=>Pi(t,e,!0),n=()=>Pi(t,e,!1);$a.add(i),Ha.add(n),r(()=>{$a.delete(i),Ha.delete(n)})});gr("loading",({el:t,directive:e,component:r,cleanup:i})=>{let{targets:n,inverted:s}=Cm(t),[l,a]=Am(e),u=bm(r,n,s,[()=>l(()=>Pi(t,e,!0)),()=>a(()=>Pi(t,e,!1))]),f=Em(r,n,[()=>l(()=>Pi(t,e,!0)),()=>a(()=>Pi(t,e,!1))]);i(()=>{u(),f()})});function Am(t){if(!t.modifiers.includes("delay")||t.modifiers.includes("none"))return[s=>s(),s=>s()];let e=200,r={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(r).some(s=>{if(t.modifiers.includes(s))return e=r[s],!0});let i,n=!1;return[s=>{i=setTimeout(()=>{s(),n=!0},e)},async s=>{n?(await s(),n=!1):clearTimeout(i)}]}function bm(t,e,r,[i,n]){return lt("commit",({component:s,commit:l,respond:a})=>{s===t&&(e.length>0&&xm(l,e)===r||(i(),a(()=>{n()})))})}function Em(t,e,[r,i]){let n=u=>{let{id:f,property:d}=u.detail;return f!==t.id||e.length>0&&!e.map(h=>h.target).includes(d)},s=ra(window,"livewire-upload-start",u=>{n(u)||r()}),l=ra(window,"livewire-upload-finish",u=>{n(u)||i()}),a=ra(window,"livewire-upload-error",u=>{n(u)||i()});return()=>{s(),l(),a()}}function xm(t,e){let{updates:r,calls:i}=t;return e.some(({target:n,params:s})=>{if(s)return i.some(({method:a,params:u})=>n===a&&s===mf(JSON.stringify(u)));if(Object.keys(r).some(a=>a.includes(".")&&a.split(".")[0]===n?!0:a===n)||i.map(a=>a.method).includes(n))return!0})}function Cm(t){let e=ml(t),r=[],i=!1;if(e.has("target")){let n=e.get("target"),s=n.expression;n.modifiers.includes("except")&&(i=!0),s.includes("(")&&s.includes(")")?r.push({target:n.method,params:mf(JSON.stringify(n.params))}):s.includes(",")?s.split(",").map(l=>l.trim()).forEach(l=>{r.push({target:l})}):r.push({target:s})}else{let n=["init","dirty","offline","target","loading","poll","ignore","key","id"];e.all().filter(s=>!n.includes(s.value)).map(s=>s.expression.split("(")[0]).forEach(s=>r.push({target:s}))}return{targets:r,inverted:i}}function mf(t){return btoa(encodeURIComponent(t))}gr("stream",({el:t,directive:e,cleanup:r})=>{let{expression:i,modifiers:n}=e,s=lt("stream",({name:l,content:a,replace:u})=>{l===i&&(n.includes("replace")||u?t.innerHTML=a:t.innerHTML=t.innerHTML+a)});r(s)});lt("request",({respond:t})=>{t(e=>{let r=e.response;!r.headers.has("X-Livewire-Stream")||(e.response={ok:!0,redirected:!1,status:200,async text(){let i=await Sm(r,n=>{St("stream",n)});return Hc(i)&&(this.ok=!1),i}})})});async function Sm(t,e){let r=t.body.getReader(),i="";for(;;){let{done:n,value:s}=await r.read(),a=new TextDecoder().decode(s),[u,f]=Im(i+a);if(u.forEach(d=>{e(d)}),i=f,n)return i}}function Im(t){let e=/({"stream":true.*?"endStream":true})/g,r=t.match(e),i=[];if(r)for(let s=0;s<r.length;s++)i.push(JSON.parse(r[s]).body);let n=t.replace(e,"");return[i,n]}gr("replace",({el:t,directive:e})=>{e.modifiers.includes("self")?t.__livewire_replace_self=!0:t.__livewire_replace=!0});gr("ignore",({el:t,directive:e})=>{e.modifiers.includes("self")?t.__livewire_ignore_self=!0:t.__livewire_ignore=!0});var vf=new Gc;lt("commit",({component:t,respond:e})=>{e(()=>{setTimeout(()=>{vf.each(t,r=>r(!1))})})});gr("dirty",({el:t,directive:e,component:r})=>{let i=Tm(t);Alpine.reactive({state:!1});let n=!1,s=t.style.display,l=a=>{Pi(t,e,a,s),n=a};vf.add(r,l),Alpine.effect(()=>{let a=!1;if(i.length===0)a=JSON.stringify(r.canonical)!==JSON.stringify(r.reactive);else for(let u=0;u<i.length&&!a;u++){let f=i[u];a=JSON.stringify(Qr(r.canonical,f))!==JSON.stringify(Qr(r.reactive,f))}n!==a&&l(a),n=a})});function Tm(t){let e=ml(t),r=[];return e.has("model")&&r.push(e.get("model").expression),e.has("target")&&(r=r.concat(e.get("target").expression.split(",").map(i=>i.trim()))),r}var Om=vt(Yt());gr("model",({el:t,directive:e,component:r,cleanup:i})=>{let{expression:n,modifiers:s}=e;if(!n)return console.warn("Livewire: [wire:model] is missing a value.",t);if(yf(r,n))return console.warn('Livewire: [wire:model="'+n+'"] property does not exist on component: ['+r.name+"]",t);if(t.type&&t.type.toLowerCase()==="file")return Dp(t,n,r,i);let l=s.includes("live"),a=s.includes("lazy")||s.includes("change"),u=s.includes("blur"),f=s.includes("debounce"),d=n.startsWith("$parent")?()=>r.$wire.$parent.$commit():()=>r.$wire.$commit(),h=Fm(t)&&!f&&l?Rm(d,150):d;Om.default.bind(t,{["@change"](){a&&d()},["@blur"](){u&&d()},["x-model"+Pm(s)](){return{get(){return Qr(r.$wire,n)},set(p){go(r.$wire,n,p),l&&!a&&!u&&h()}}}})});function Pm(t){return t=t.filter(e=>!["lazy","defer"].includes(e)),t.length===0?"":"."+t.join(".")}function Fm(t){return["INPUT","TEXTAREA"].includes(t.tagName.toUpperCase())&&!["checkbox","radio"].includes(t.type)}function yf(t,e){if(e.startsWith("$parent")){let i=si(t.el.parentElement,!1);return i?yf(i,e.split("$parent.")[1]):!0}let r=e.split(".")[0];return!Object.keys(t.canonical).includes(r)}function Rm(t,e){var r;return function(){var i=this,n=arguments,s=function(){r=null,t.apply(i,n)};clearTimeout(r),r=setTimeout(s,e)}}var Mm=vt(Yt());gr("init",({el:t,directive:e})=>{var i;let r=(i=e.expression)!=null?i:"$refresh";Mm.default.evaluate(t,`$wire.${r}`)});var Lm=vt(Yt());gr("poll",({el:t,directive:e})=>{let r=Hm(e.modifiers,2e3),{start:i,pauseWhile:n,throttleWhile:s,stopWhen:l}=km(()=>{Dm(t,e)},r);i(),s(()=>jm()&&Qm(e)),n(()=>Gm(e)&&zm(t)),n(()=>Um(t)),n(()=>Nm()),l(()=>$m(t))});function Dm(t,e){Lm.default.evaluate(t,e.expression?"$wire."+e.expression:"$wire.$commit()")}function km(t,e=2e3){let r=[],i=[],n=[];return{start(){let s=Bm(e,()=>{if(n.some(l=>l()))return s();r.some(l=>l())||i.some(l=>l())&&Math.random()<.95||t()})},pauseWhile(s){r.push(s)},throttleWhile(s){i.push(s)},stopWhen(s){n.push(s)}}}var Ei=[];function Bm(t,e){if(!Ei[t]){let r={timer:setInterval(()=>r.callbacks.forEach(i=>i()),t),callbacks:new Set};Ei[t]=r}return Ei[t].callbacks.add(e),()=>{Ei[t].callbacks.delete(e),Ei[t].callbacks.size===0&&(clearInterval(Ei[t].timer),delete Ei[t])}}var Al=!1;window.addEventListener("offline",()=>Al=!0);window.addEventListener("online",()=>Al=!1);function Nm(){return Al}var _f=!1;document.addEventListener("visibilitychange",()=>{_f=document.hidden},!1);function jm(){return _f}function Um(t){return!ml(t).has("poll")}function Qm(t){return!t.modifiers.includes("keep-alive")}function Gm(t){return t.modifiers.includes("visible")}function zm(t){let e=t.getBoundingClientRect();return!(e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.bottom>0&&e.right>0)}function $m(t){return t.isConnected===!1}function Hm(t,e){let r,i=t.find(s=>s.match(/([0-9]+)ms/)),n=t.find(s=>s.match(/([0-9]+)s/));return i?r=Number(i.replace("ms","")):n&&(r=Number(n.replace("s",""))*1e3),r||e}var bl={directive:gr,dispatchTo:gl,start:Wg,first:og,find:sg,getByName:ng,all:ag,hook:lt,trigger:St,triggerAsync:qc,dispatch:lg,on:cg,get navigate(){return _l.default.navigate}},El=t=>console.warn(`Detected multiple instances of ${t} running`);window.Livewire&&El("Livewire");window.Alpine&&El("Alpine");window.Livewire=bl;window.Alpine=_l.default;window.livewireScriptConfig===void 0&&(window.Alpine.__fromLivewire=!0,document.addEventListener("DOMContentLoaded",()=>{window.Alpine.__fromLivewire===void 0&&El("Alpine"),bl.start()}));var xl=_l.default;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT *//*! Bundled license information:

tabbable/dist/index.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/let Wa=()=>{};const lc=(t,e=void 0)=>(typeof t=="function"&&(t=t()),typeof t=="object"&&(t=JSON.stringify(t)),e!==void 0?window.navigator.clipboard.write([new ClipboardItem({[e]:new Blob([t],{type:e})})]).then(Wa):window.navigator.clipboard.writeText(t).then(Wa));function qa(t){t.magic("clipboard",()=>lc),t.directive("clipboard",(e,{modifiers:r,expression:i},{evaluateLater:n,cleanup:s})=>{const l=r.includes("raw")?u=>u(i):n(i),a=()=>l(lc);e.addEventListener("click",a),s(()=>{e.removeEventListener("click",a)})})}qa.configure=t=>(t.hasOwnProperty("onCopy")&&typeof t.onCopy=="function"&&(Wa=t.onCopy),qa);/*! image-blob-reduce 4.1.0 https://github.com/nodeca/image-blob-reduce @license MIT */function Ps(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _o={};_o.assign=function(e){for(var r,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function wf(t,e){var r={};return e.forEach(function(i){Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}),r}function Wm(t){return wf(t,["alpha","unsharpAmount","unsharpRadius","unsharpThreshold","cancelToken"])}_o.pick=wf;_o.pick_pica_resize_options=Wm;var Af={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/(function(t,e){(function(r){t.exports=r()})(function(){return function(){function r(i,n,s){function l(f,d){if(!n[f]){if(!i[f]){var h=typeof Ps=="function"&&Ps;if(!d&&h)return h(f,!0);if(a)return a(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p}var _=n[f]={exports:{}};i[f][0].call(_.exports,function(m){var v=i[f][1][m];return l(v||m)},_,_.exports,r,i,n,s)}return n[f].exports}for(var a=typeof Ps=="function"&&Ps,u=0;u<s.length;u++)l(s[u]);return l}return r}()({1:[function(r,i,n){var s=r("multimath"),l=r("./mm_unsharp_mask"),a=r("./mm_resize");function u(f){var d=f||[],h={js:d.indexOf("js")>=0,wasm:d.indexOf("wasm")>=0};s.call(this,h),this.features={js:h.js,wasm:h.wasm&&this.has_wasm()},this.use(l),this.use(a)}u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.resizeAndUnsharp=function(d,h){var p=this.resize(d,h);return d.unsharpAmount&&this.unsharp_mask(p,d.toWidth,d.toHeight,d.unsharpAmount,d.unsharpRadius,d.unsharpThreshold),p},i.exports=u},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(r,i,n){function s(h){return h<0?0:h>255?255:h}function l(h){return h>=0?h:0}function a(h,p,_,m,v,y){var A,w,E,S,Q,M,F,O,k,W,z,$=0,J=0;for(k=0;k<m;k++){for(Q=0,W=0;W<v;W++){for(M=y[Q++],F=y[Q++],O=$+M*4|0,A=w=E=S=0;F>0;F--)z=y[Q++],S=S+z*h[O+3]|0,E=E+z*h[O+2]|0,w=w+z*h[O+1]|0,A=A+z*h[O]|0,O=O+4|0;p[J+3]=l(S>>7),p[J+2]=l(E>>7),p[J+1]=l(w>>7),p[J]=l(A>>7),J=J+m*4|0}J=(k+1)*4|0,$=(k+1)*_*4|0}}function u(h,p,_,m,v,y){var A,w,E,S,Q,M,F,O,k,W,z,$=0,J=0;for(k=0;k<m;k++){for(Q=0,W=0;W<v;W++){for(M=y[Q++],F=y[Q++],O=$+M*4|0,A=w=E=S=0;F>0;F--)z=y[Q++],S=S+z*h[O+3]|0,E=E+z*h[O+2]|0,w=w+z*h[O+1]|0,A=A+z*h[O]|0,O=O+4|0;A>>=7,w>>=7,E>>=7,S>>=7,p[J+3]=s(S+(1<<13)>>14),p[J+2]=s(E+(1<<13)>>14),p[J+1]=s(w+(1<<13)>>14),p[J]=s(A+(1<<13)>>14),J=J+m*4|0}J=(k+1)*4|0,$=(k+1)*_*4|0}}function f(h,p,_,m,v,y){var A,w,E,S,Q,M,F,O,k,W,z,$,J=0,Ee=0;for(W=0;W<m;W++){for(M=0,z=0;z<v;z++){for(F=y[M++],O=y[M++],k=J+F*4|0,A=w=E=S=0;O>0;O--)$=y[M++],Q=h[k+3],S=S+$*Q|0,E=E+$*h[k+2]*Q|0,w=w+$*h[k+1]*Q|0,A=A+$*h[k]*Q|0,k=k+4|0;E=E/255|0,w=w/255|0,A=A/255|0,p[Ee+3]=l(S>>7),p[Ee+2]=l(E>>7),p[Ee+1]=l(w>>7),p[Ee]=l(A>>7),Ee=Ee+m*4|0}Ee=(W+1)*4|0,J=(W+1)*_*4|0}}function d(h,p,_,m,v,y){var A,w,E,S,Q,M,F,O,k,W,z,$=0,J=0;for(k=0;k<m;k++){for(Q=0,W=0;W<v;W++){for(M=y[Q++],F=y[Q++],O=$+M*4|0,A=w=E=S=0;F>0;F--)z=y[Q++],S=S+z*h[O+3]|0,E=E+z*h[O+2]|0,w=w+z*h[O+1]|0,A=A+z*h[O]|0,O=O+4|0;A>>=7,w>>=7,E>>=7,S>>=7,S=s(S+(1<<13)>>14),S>0&&(A=A*255/S|0,w=w*255/S|0,E=E*255/S|0),p[J+3]=S,p[J+2]=s(E+(1<<13)>>14),p[J+1]=s(w+(1<<13)>>14),p[J]=s(A+(1<<13)>>14),J=J+m*4|0}J=(k+1)*4|0,$=(k+1)*_*4|0}}i.exports={convolveHor:a,convolveVert:u,convolveHorWithPre:f,convolveVertWithPre:d}},{}],3:[function(r,i,n){i.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(r,i,n){i.exports={name:"resize",fn:r("./resize"),wasm_fn:r("./resize_wasm"),wasm_src:r("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(r,i,n){var s=r("./resize_filter_gen"),l=r("./convolve"),a=l.convolveHor,u=l.convolveVert,f=l.convolveHorWithPre,d=l.convolveVertWithPre;function h(_,m,v){for(var y=3,A=m*v*4|0;y<A;){if(_[y]!==255)return!0;y=y+4|0}return!1}function p(_,m,v){for(var y=3,A=m*v*4|0;y<A;)_[y]=255,y=y+4|0}i.exports=function(m){var v=m.src,y=m.width,A=m.height,w=m.toWidth,E=m.toHeight,S=m.scaleX||m.toWidth/m.width,Q=m.scaleY||m.toHeight/m.height,M=m.offsetX||0,F=m.offsetY||0,O=m.dest||new Uint8Array(w*E*4),k=typeof m.filter=="undefined"?"mks2013":m.filter,W=s(k,y,w,S,M),z=s(k,A,E,Q,F),$=new Uint16Array(w*A*4);return h(v,y,A)?(f(v,$,y,A,w,W),d($,O,A,w,E,z)):(a(v,$,y,A,w,W),u($,O,A,w,E,z),p(O,w,E)),O}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(r,i,n){var s=r("./resize_filter_info"),l=14;function a(u){return Math.round(u*((1<<l)-1))}i.exports=function(f,d,h,p,_){var m=s.filter[f].fn,v=1/p,y=Math.min(1,p),A=s.filter[f].win/y,w,E,S,Q,M,F,O,k,W,z,$,J,Ee,pe,L,B,j,V=Math.floor((A+1)*2),q=new Int16Array((V+2)*h),ne=0,X=!q.subarray||!q.set;for(w=0;w<h;w++){for(E=(w+.5)*v+_,S=Math.max(0,Math.floor(E-A)),Q=Math.min(d-1,Math.ceil(E+A)),M=Q-S+1,F=new Float32Array(M),O=new Int16Array(M),k=0,W=S,z=0;W<=Q;W++,z++)$=m((W+.5-E)*y),k+=$,F[z]=$;for(J=0,z=0;z<F.length;z++)Ee=F[z]/k,J+=Ee,O[z]=a(Ee);for(O[h>>1]+=a(1-J),pe=0;pe<O.length&&O[pe]===0;)pe++;if(pe<O.length){for(L=O.length-1;L>0&&O[L]===0;)L--;if(B=S+pe,j=L-pe+1,q[ne++]=B,q[ne++]=j,!X)q.set(O.subarray(pe,L+1),ne),ne+=j;else for(z=pe;z<=L;z++)q[ne++]=O[z]}else q[ne++]=0,q[ne++]=0}return q}},{"./resize_filter_info":7}],7:[function(r,i,n){var s={box:{win:.5,fn:function(a){return a<0&&(a=-a),a<.5?1:0}},hamming:{win:1,fn:function(a){if(a<0&&(a=-a),a>=1)return 0;if(a<11920929e-14)return 1;var u=a*Math.PI;return Math.sin(u)/u*(.54+.46*Math.cos(u/1))}},lanczos2:{win:2,fn:function(a){if(a<0&&(a=-a),a>=2)return 0;if(a<11920929e-14)return 1;var u=a*Math.PI;return Math.sin(u)/u*Math.sin(u/2)/(u/2)}},lanczos3:{win:3,fn:function(a){if(a<0&&(a=-a),a>=3)return 0;if(a<11920929e-14)return 1;var u=a*Math.PI;return Math.sin(u)/u*Math.sin(u/3)/(u/3)}},mks2013:{win:2.5,fn:function(a){return a<0&&(a=-a),a>=2.5?0:a>=1.5?-.125*(a-2.5)*(a-2.5):a>=.5?.25*(4*a*a-11*a+7):1.0625-1.75*a*a}}};i.exports={filter:s,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(r,i,n){var s=r("./resize_filter_gen");function l(h,p,_){for(var m=3,v=p*_*4|0;m<v;){if(h[m]!==255)return!0;m=m+4|0}return!1}function a(h,p,_){for(var m=3,v=p*_*4|0;m<v;)h[m]=255,m=m+4|0}function u(h){return new Uint8Array(h.buffer,0,h.byteLength)}var f=!0;try{f=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function d(h,p,_){if(f){p.set(u(h),_);return}for(var m=_,v=0;v<h.length;v++){var y=h[v];p[m++]=y&255,p[m++]=y>>8&255}}i.exports=function(p){var _=p.src,m=p.width,v=p.height,y=p.toWidth,A=p.toHeight,w=p.scaleX||p.toWidth/p.width,E=p.scaleY||p.toHeight/p.height,S=p.offsetX||0,Q=p.offsetY||0,M=p.dest||new Uint8Array(y*A*4),F=typeof p.filter=="undefined"?"mks2013":p.filter,O=s(F,m,y,w,S),k=s(F,v,A,E,Q),W=0,z=Math.max(_.byteLength,M.byteLength),$=this.__align(W+z),J=v*y*4*2,Ee=this.__align($+J),pe=this.__align(Ee+O.byteLength),L=pe+k.byteLength,B=this.__instance("resize",L),j=new Uint8Array(this.__memory.buffer),V=new Uint32Array(this.__memory.buffer),q=new Uint32Array(_.buffer);V.set(q),d(O,j,Ee),d(k,j,pe);var ne=B.exports.convolveHV||B.exports._convolveHV;l(_,m,v)?ne(Ee,pe,$,m,v,y,A,1):(ne(Ee,pe,$,m,v,y,A,0),a(M,y,A));var X=new Uint32Array(M.buffer);return X.set(new Uint32Array(this.__memory.buffer,0,A*y)),M}},{"./resize_filter_gen":6}],9:[function(r,i,n){i.exports={name:"unsharp_mask",fn:r("./unsharp_mask"),wasm_fn:r("./unsharp_mask_wasm"),wasm_src:r("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(r,i,n){var s=r("glur/mono16");function l(a,u,f){for(var d=u*f,h=new Uint16Array(d),p,_,m,v,y=0;y<d;y++)p=a[4*y],_=a[4*y+1],m=a[4*y+2],v=p>=_&&p>=m?p:_>=m&&_>=p?_:m,h[y]=v<<8;return h}i.exports=function(u,f,d,h,p,_){var m,v,y,A,w;if(!(h===0||p<.5)){p>2&&(p=2);var E=l(u,f,d),S=new Uint16Array(E);s(S,f,d,p);for(var Q=h/100*4096+.5|0,M=_<<8,F=f*d,O=0;O<F;O++)m=E[O],A=m-S[O],Math.abs(A)>=M&&(v=m+(Q*A+2048>>12),v=v>65280?65280:v,v=v<0?0:v,m=m!==0?m:1,y=(v<<12)/m|0,w=O*4,u[w]=u[w]*y+2048>>12,u[w+1]=u[w+1]*y+2048>>12,u[w+2]=u[w+2]*y+2048>>12)}}},{"glur/mono16":18}],11:[function(r,i,n){i.exports=function(l,a,u,f,d,h){if(!(f===0||d<.5)){d>2&&(d=2);var p=a*u,_=p*4,m=p*2,v=p*2,y=Math.max(a,u)*4,A=8*4,w=0,E=_,S=E+m,Q=S+v,M=Q+v,F=M+y,O=this.__instance("unsharp_mask",_+m+v*2+y+A,{exp:Math.exp}),k=new Uint32Array(l.buffer),W=new Uint32Array(this.__memory.buffer);W.set(k);var z=O.exports.hsv_v16||O.exports._hsv_v16;z(w,E,a,u),z=O.exports.blurMono16||O.exports._blurMono16,z(E,S,Q,M,F,a,u,d),z=O.exports.unsharp||O.exports._unsharp,z(w,w,E,S,a,u,f,h),k.set(new Uint32Array(this.__memory.buffer,0,p))}}},{}],12:[function(r,i,n){i.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(r,i,n){var s=100;function l(a,u){this.create=a,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=u||2e3}l.prototype.acquire=function(){var a=this,u;return this.available.length!==0?u=this.available.pop():(u=this.create(),u.id=this.lastId++,u.release=function(){return a.release(u)}),this.acquired[u.id]=u,u},l.prototype.release=function(a){var u=this;delete this.acquired[a.id],a.lastUsed=Date.now(),this.available.push(a),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return u.gc()},s))},l.prototype.gc=function(){var a=this,u=Date.now();this.available=this.available.filter(function(f){return u-f.lastUsed>a.idle?(f.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return a.gc()},s):this.timeoutId=0},i.exports=l},{}],14:[function(r,i,n){var s=2;i.exports=function(a,u,f,d,h,p){var _=f/a,m=d/u,v=(2*p+s+1)/h;if(v>.5)return[[f,d]];var y=Math.ceil(Math.log(Math.min(_,m))/Math.log(v));if(y<=1)return[[f,d]];for(var A=[],w=0;w<y;w++){var E=Math.round(Math.pow(Math.pow(a,y-w-1)*Math.pow(f,w+1),1/y)),S=Math.round(Math.pow(Math.pow(u,y-w-1)*Math.pow(d,w+1),1/y));A.push([E,S])}return A}},{}],15:[function(r,i,n){var s=1e-5;function l(u){var f=Math.round(u);return Math.abs(u-f)<s?f:Math.floor(u)}function a(u){var f=Math.round(u);return Math.abs(u-f)<s?f:Math.ceil(u)}i.exports=function(f){var d=f.toWidth/f.width,h=f.toHeight/f.height,p=l(f.srcTileSize*d)-2*f.destTileBorder,_=l(f.srcTileSize*h)-2*f.destTileBorder;if(p<1||_<1)throw new Error("Internal error in pica: target tile width/height is too small.");var m,v,y,A,w,E,S=[],Q;for(A=0;A<f.toHeight;A+=_)for(y=0;y<f.toWidth;y+=p)m=y-f.destTileBorder,m<0&&(m=0),w=y+p+f.destTileBorder-m,m+w>=f.toWidth&&(w=f.toWidth-m),v=A-f.destTileBorder,v<0&&(v=0),E=A+_+f.destTileBorder-v,v+E>=f.toHeight&&(E=f.toHeight-v),Q={toX:m,toY:v,toWidth:w,toHeight:E,toInnerX:y,toInnerY:A,toInnerWidth:p,toInnerHeight:_,offsetX:m/d-l(m/d),offsetY:v/h-l(v/h),scaleX:d,scaleY:h,x:l(m/d),y:l(v/h),width:a(w/d),height:a(E/h)},S.push(Q);return S}},{}],16:[function(r,i,n){function s(l){return Object.prototype.toString.call(l)}i.exports.isCanvas=function(a){var u=s(a);return u==="[object HTMLCanvasElement]"||u==="[object OffscreenCanvas]"||u==="[object Canvas]"},i.exports.isImage=function(a){return s(a)==="[object HTMLImageElement]"},i.exports.isImageBitmap=function(a){return s(a)==="[object ImageBitmap]"},i.exports.limiter=function(a){var u=0,f=[];function d(){u<a&&f.length&&(u++,f.shift()())}return function(p){return new Promise(function(_,m){f.push(function(){p().then(function(v){_(v),u--,d()},function(v){m(v),u--,d()})}),d()})}},i.exports.cib_quality_name=function(a){switch(a){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},i.exports.cib_support=function(a){return Promise.resolve().then(function(){if(typeof createImageBitmap=="undefined")return!1;var u=a(100,100);return createImageBitmap(u,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(f){var d=f.width===10;return f.close(),u=null,d})}).catch(function(){return!1})},i.exports.worker_offscreen_canvas_support=function(){return new Promise(function(a,u){if(typeof OffscreenCanvas=="undefined"){a(!1);return}function f(p){if(typeof createImageBitmap=="undefined"){p.postMessage(!1);return}Promise.resolve().then(function(){var _=new OffscreenCanvas(10,10),m=_.getContext("2d");return m.rect(0,0,1,1),createImageBitmap(_,0,0,1,1)}).then(function(){return p.postMessage(!0)},function(){return p.postMessage(!1)})}var d=btoa("(".concat(f.toString(),")(self);")),h=new Worker("data:text/javascript;base64,".concat(d));h.onmessage=function(p){return a(p.data)},h.onerror=u}).then(function(a){return a},function(){return!1})},i.exports.can_use_canvas=function(a){var u=!1;try{var f=a(2,1),d=f.getContext("2d"),h=d.createImageData(2,1);h.data[0]=12,h.data[1]=23,h.data[2]=34,h.data[3]=255,h.data[4]=45,h.data[5]=56,h.data[6]=67,h.data[7]=255,d.putImageData(h,0,0),h=null,h=d.getImageData(0,0,2,1),h.data[0]===12&&h.data[1]===23&&h.data[2]===34&&h.data[3]===255&&h.data[4]===45&&h.data[5]===56&&h.data[6]===67&&h.data[7]===255&&(u=!0)}catch{}return u},i.exports.cib_can_use_region=function(){return new Promise(function(a){if(typeof createImageBitmap=="undefined"){a(!1);return}var u=new Image;u.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",u.onload=function(){createImageBitmap(u,0,0,u.width,u.height).then(function(f){f.width===u.width&&f.height===u.height?a(!0):a(!1)},function(){return a(!1)})},u.onerror=function(){return a(!1)}})}},{}],17:[function(r,i,n){i.exports=function(){var s=r("./mathlib"),l;onmessage=function(u){var f=u.data.opts;if(!f.src&&f.srcBitmap){var d=new OffscreenCanvas(f.width,f.height),h=d.getContext("2d");h.drawImage(f.srcBitmap,0,0),f.src=h.getImageData(0,0,f.width,f.height).data,d.width=d.height=0,d=null,f.srcBitmap.close(),f.srcBitmap=null}l||(l=new s(u.data.features));var p=l.resizeAndUnsharp(f);postMessage({data:p},[p.buffer])}}},{"./mathlib":1}],18:[function(r,i,n){var s,l,a,u,f,d,h,p;function _(y){y<.5&&(y=.5);var A=Math.exp(.726*.726)/y,w=Math.exp(-A),E=Math.exp(-2*A),S=(1-w)*(1-w)/(1+2*A*w-E);return s=S,l=S*(A-1)*w,a=S*(A+1)*w,u=-S*E,f=2*w,d=-E,h=(s+l)/(1-f-d),p=(a+u)/(1-f-d),new Float32Array([s,l,a,u,f,d,h,p])}function m(y,A,w,E,S,Q){var M,F,O,k,W,z,$,J,Ee,pe,L,B,j,V;for(Ee=0;Ee<Q;Ee++){for(z=Ee*S,$=Ee,J=0,M=y[z],W=M*E[6],k=W,L=E[0],B=E[1],j=E[4],V=E[5],pe=0;pe<S;pe++)F=y[z],O=F*L+M*B+k*j+W*V,W=k,k=O,M=F,w[J]=k,J++,z++;for(z--,J--,$+=Q*(S-1),M=y[z],W=M*E[7],k=W,F=M,L=E[2],B=E[3],pe=S-1;pe>=0;pe--)O=F*L+M*B+k*j+W*V,W=k,k=O,M=F,F=y[z],A[$]=w[J]+k,z--,J--,$-=Q}}function v(y,A,w,E){if(!!E){var S=new Uint16Array(y.length),Q=new Float32Array(Math.max(A,w)),M=_(E);m(y,S,Q,M,A,w),m(S,y,Q,M,w,A)}}i.exports=v},{}],19:[function(r,i,n){var s=r("object-assign"),l=r("./lib/base64decode"),a=r("./lib/wa_detect"),u={js:!0,wasm:!0};function f(d){if(!(this instanceof f))return new f(d);var h=s({},u,d||{});if(this.options=h,this.__cache={},this.__init_promise=null,this.__modules=h.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}f.prototype.has_wasm=a,f.prototype.use=function(d){return this.__modules[d.name]=d,this.options.wasm&&this.has_wasm()&&d.wasm_fn?this[d.name]=d.wasm_fn:this[d.name]=d.fn,this},f.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var d=this;return this.__init_promise=Promise.all(Object.keys(d.__modules).map(function(h){var p=d.__modules[h];return!d.options.wasm||!d.has_wasm()||!p.wasm_fn||d.__wasm[h]?null:WebAssembly.compile(d.__base64decode(p.wasm_src)).then(function(_){d.__wasm[h]=_})})).then(function(){return d}),this.__init_promise},f.prototype.__base64decode=l,f.prototype.__reallocate=function(h){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(h/(64*1024))}),this.__memory;var p=this.__memory.buffer.byteLength;return p<h&&this.__memory.grow(Math.ceil((h-p)/(64*1024))),this.__memory},f.prototype.__instance=function(h,p,_){if(p&&this.__reallocate(p),!this.__wasm[h]){var m=this.__modules[h];this.__wasm[h]=new WebAssembly.Module(this.__base64decode(m.wasm_src))}if(!this.__cache[h]){var v={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[h]=new WebAssembly.Instance(this.__wasm[h],{env:s(v,_||{})})}return this.__cache[h]},f.prototype.__align=function(h,p){p=p||8;var _=h%p;return h+(_?p-_:0)},i.exports=f},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(r,i,n){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";i.exports=function(a){for(var u=a.replace(/[\r\n=]/g,""),f=u.length,d=new Uint8Array(f*3>>2),h=0,p=0,_=0;_<f;_++)_%4===0&&_&&(d[p++]=h>>16&255,d[p++]=h>>8&255,d[p++]=h&255),h=h<<6|s.indexOf(u.charAt(_));var m=f%4*6;return m===0?(d[p++]=h>>16&255,d[p++]=h>>8&255,d[p++]=h&255):m===18?(d[p++]=h>>10&255,d[p++]=h>>2&255):m===12&&(d[p++]=h>>4&255),d}},{}],21:[function(r,i,n){var s;i.exports=function(){if(typeof s!="undefined"||(s=!1,typeof WebAssembly=="undefined"))return s;try{var a=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),u=new WebAssembly.Module(a),f=new WebAssembly.Instance(u,{});return f.exports.test(4)!==0&&(s=!0),s}catch{}return s}},{}],22:[function(r,i,n){var s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function u(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function f(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var h={},p=0;p<10;p++)h["_"+String.fromCharCode(p)]=p;var _=Object.getOwnPropertyNames(h).map(function(v){return h[v]});if(_.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(v){m[v]=v}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=f()?Object.assign:function(d,h){for(var p,_=u(d),m,v=1;v<arguments.length;v++){p=Object(arguments[v]);for(var y in p)l.call(p,y)&&(_[y]=p[y]);if(s){m=s(p);for(var A=0;A<m.length;A++)a.call(p,m[A])&&(_[m[A]]=p[m[A]])}}return _}},{}],23:[function(r,i,n){var s=arguments[3],l=arguments[4],a=arguments[5],u=JSON.stringify;i.exports=function(f,d){for(var h,p=Object.keys(a),_=0,m=p.length;_<m;_++){var v=p[_],y=a[v].exports;if(y===f||y&&y.default===f){h=v;break}}if(!h){h=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var A={},_=0,m=p.length;_<m;_++){var v=p[_];A[v]=v}l[h]=["function(require,module,exports){"+f+"(self); }",A]}var w=Math.floor(Math.pow(16,8)*Math.random()).toString(16),E={};E[h]=h,l[w]=["function(require,module,exports){var f = require("+u(h)+");(f.default ? f.default : f)(self);}",E];var S={};Q(w);function Q(z){S[z]=!0;for(var $ in l[z][1]){var J=l[z][1][$];S[J]||Q(J)}}var M="("+s+")({"+Object.keys(S).map(function(z){return u(z)+":["+l[z][0]+","+u(l[z][1])+"]"}).join(",")+"},{},["+u(w)+"])",F=window.URL||window.webkitURL||window.mozURL||window.msURL,O=new Blob([M],{type:"text/javascript"});if(d&&d.bare)return O;var k=F.createObjectURL(O),W=new Worker(k);return W.objectURL=k,W}},{}],"/index.js":[function(r,i,n){function s(L,B){return d(L)||f(L,B)||a(L,B)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(L,B){if(!!L){if(typeof L=="string")return u(L,B);var j=Object.prototype.toString.call(L).slice(8,-1);if(j==="Object"&&L.constructor&&(j=L.constructor.name),j==="Map"||j==="Set")return Array.from(L);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return u(L,B)}}function u(L,B){(B==null||B>L.length)&&(B=L.length);for(var j=0,V=new Array(B);j<B;j++)V[j]=L[j];return V}function f(L,B){var j=L==null?null:typeof Symbol!="undefined"&&L[Symbol.iterator]||L["@@iterator"];if(j!=null){var V=[],q=!0,ne=!1,X,ie;try{for(j=j.call(L);!(q=(X=j.next()).done)&&(V.push(X.value),!(B&&V.length===B));q=!0);}catch(ae){ne=!0,ie=ae}finally{try{!q&&j.return!=null&&j.return()}finally{if(ne)throw ie}}return V}}function d(L){if(Array.isArray(L))return L}var h=r("object-assign"),p=r("webworkify"),_=r("./lib/mathlib"),m=r("./lib/pool"),v=r("./lib/utils"),y=r("./lib/worker"),A=r("./lib/stepper"),w=r("./lib/tiler"),E=r("./lib/mm_resize/resize_filter_info"),S={},Q=!1;try{typeof navigator!="undefined"&&navigator.userAgent&&(Q=navigator.userAgent.indexOf("Safari")>=0)}catch{}var M=1;typeof navigator!="undefined"&&(M=Math.min(navigator.hardwareConcurrency||1,4));var F={tile:1024,concurrency:M,features:["js","wasm","ww"],idle:2e3,createCanvas:function(B,j){var V=document.createElement("canvas");return V.width=B,V.height=j,V}},O={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},k=!1,W=!1,z=!1,$=!1,J=!1;function Ee(){return{value:p(y),destroy:function(){if(this.value.terminate(),typeof window!="undefined"){var B=window.URL||window.webkitURL||window.mozURL||window.msURL;B&&B.revokeObjectURL&&this.value.objectURL&&B.revokeObjectURL(this.value.objectURL)}}}}function pe(L){if(!(this instanceof pe))return new pe(L);this.options=h({},F,L||{});var B="lk_".concat(this.options.concurrency);this.__limit=S[B]||v.limiter(this.options.concurrency),S[B]||(S[B]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}pe.prototype.init=function(){var L=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData!="undefined"&&typeof Uint8ClampedArray!="undefined")try{new ImageData(new Uint8ClampedArray(400),10,10),k=!0}catch{}typeof ImageBitmap!="undefined"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?W=!0:this.debug("ImageBitmap does not support .close(), disabled"));var B=this.options.features.slice();if(B.indexOf("all")>=0&&(B=["cib","wasm","js","ww"]),this.__requested_features=B,this.__mathlib=new _(B),B.indexOf("ww")>=0&&typeof window!="undefined"&&"Worker"in window)try{var j=r("webworkify")(function(){});j.terminate(),this.features.ww=!0;var V="wp_".concat(JSON.stringify(this.options));S[V]?this.__workersPool=S[V]:(this.__workersPool=new m(Ee,this.options.idle),S[V]=this.__workersPool)}catch{}var q=this.__mathlib.init().then(function(ae){h(L.features,ae.features)}),ne;W?ne=v.cib_support(this.options.createCanvas).then(function(ae){if(L.features.cib&&B.indexOf("cib")<0){L.debug("createImageBitmap() resize supported, but disabled by config");return}B.indexOf("cib")>=0&&(L.features.cib=ae)}):ne=Promise.resolve(!1),z=v.can_use_canvas(this.options.createCanvas);var X;W&&k&&B.indexOf("ww")!==-1?X=v.worker_offscreen_canvas_support():X=Promise.resolve(!1),X=X.then(function(ae){$=ae});var ie=v.cib_can_use_region().then(function(ae){J=ae});return this.__initPromise=Promise.all([q,ne,X,ie]).then(function(){return L}),this.__initPromise},pe.prototype.__invokeResize=function(L,B){var j=this;return B.__mathCache=B.__mathCache||{},Promise.resolve().then(function(){return j.features.ww?new Promise(function(V,q){var ne=j.__workersPool.acquire();B.cancelToken&&B.cancelToken.catch(function(ie){return q(ie)}),ne.value.onmessage=function(ie){ne.release(),ie.data.err?q(ie.data.err):V(ie.data)};var X=[];L.src&&X.push(L.src.buffer),L.srcBitmap&&X.push(L.srcBitmap),ne.value.postMessage({opts:L,features:j.__requested_features,preload:{wasm_nodule:j.__mathlib.__}},X)}):{data:j.__mathlib.resizeAndUnsharp(L,B.__mathCache)}})},pe.prototype.__extractTileData=function(L,B,j,V,q){if(this.features.ww&&$&&(v.isCanvas(B)||J))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(V.srcImageBitmap||B,L.x,L.y,L.width,L.height).then(function(ie){return q.srcBitmap=ie,q});if(v.isCanvas(B))return V.srcCtx||(V.srcCtx=B.getContext("2d")),this.debug("Get tile pixel data"),q.src=V.srcCtx.getImageData(L.x,L.y,L.width,L.height).data,q;this.debug("Draw tile imageBitmap/image to temporary canvas");var ne=this.options.createCanvas(L.width,L.height),X=ne.getContext("2d");return X.globalCompositeOperation="copy",X.drawImage(V.srcImageBitmap||B,L.x,L.y,L.width,L.height,0,0,L.width,L.height),this.debug("Get tile pixel data"),q.src=X.getImageData(0,0,L.width,L.height).data,ne.width=ne.height=0,q},pe.prototype.__landTileData=function(L,B,j){var V;if(this.debug("Convert raw rgba tile result to ImageData"),B.bitmap)return j.toCtx.drawImage(B.bitmap,L.toX,L.toY),null;if(k)V=new ImageData(new Uint8ClampedArray(B.data),L.toWidth,L.toHeight);else if(V=j.toCtx.createImageData(L.toWidth,L.toHeight),V.data.set)V.data.set(B.data);else for(var q=V.data.length-1;q>=0;q--)V.data[q]=B.data[q];return this.debug("Draw tile"),Q?j.toCtx.putImageData(V,L.toX,L.toY,L.toInnerX-L.toX,L.toInnerY-L.toY,L.toInnerWidth+1e-5,L.toInnerHeight+1e-5):j.toCtx.putImageData(V,L.toX,L.toY,L.toInnerX-L.toX,L.toInnerY-L.toY,L.toInnerWidth,L.toInnerHeight),null},pe.prototype.__tileAndResize=function(L,B,j){var V=this,q={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},ne=function(ie){return V.__limit(function(){if(j.canceled)return j.cancelToken;var ae={width:ie.width,height:ie.height,toWidth:ie.toWidth,toHeight:ie.toHeight,scaleX:ie.scaleX,scaleY:ie.scaleY,offsetX:ie.offsetX,offsetY:ie.offsetY,filter:j.filter,unsharpAmount:j.unsharpAmount,unsharpRadius:j.unsharpRadius,unsharpThreshold:j.unsharpThreshold};return V.debug("Invoke resize math"),Promise.resolve(ae).then(function(se){return V.__extractTileData(ie,L,j,q,se)}).then(function(se){return V.debug("Invoke resize math"),V.__invokeResize(se,j)}).then(function(se){return j.canceled?j.cancelToken:(q.srcImageData=null,V.__landTileData(ie,se,q))})})};return Promise.resolve().then(function(){if(q.toCtx=B.getContext("2d"),v.isCanvas(L))return null;if(v.isImageBitmap(L))return q.srcImageBitmap=L,q.isImageBitmapReused=!0,null;if(v.isImage(L))return W?(V.debug("Decode image via createImageBitmap"),createImageBitmap(L).then(function(X){q.srcImageBitmap=X}).catch(function(X){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(j.canceled)return j.cancelToken;V.debug("Calculate tiles");var X=w({width:j.width,height:j.height,srcTileSize:V.options.tile,toWidth:j.toWidth,toHeight:j.toHeight,destTileBorder:j.__destTileBorder}),ie=X.map(function(se){return ne(se)});function ae(se){se.srcImageBitmap&&(se.isImageBitmapReused||se.srcImageBitmap.close(),se.srcImageBitmap=null)}return V.debug("Process tiles"),Promise.all(ie).then(function(){return V.debug("Finished!"),ae(q),B},function(se){throw ae(q),se})})},pe.prototype.__processStages=function(L,B,j,V){var q=this;if(V.canceled)return V.cancelToken;var ne=L.shift(),X=s(ne,2),ie=X[0],ae=X[1],se=L.length===0,he;se||E.q2f.indexOf(V.filter)<0?he=V.filter:V.filter==="box"?he="box":he="hamming",V=h({},V,{toWidth:ie,toHeight:ae,filter:he});var Ne;return se||(Ne=this.options.createCanvas(ie,ae)),this.__tileAndResize(B,se?j:Ne,V).then(function(){return se?j:(V.width=ie,V.height=ae,q.__processStages(L,Ne,j,V))}).then(function(oe){return Ne&&(Ne.width=Ne.height=0),oe})},pe.prototype.__resizeViaCreateImageBitmap=function(L,B,j){var V=this,q=B.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(L,{resizeWidth:j.toWidth,resizeHeight:j.toHeight,resizeQuality:v.cib_quality_name(E.f2q[j.filter])}).then(function(ne){if(j.canceled)return j.cancelToken;if(!j.unsharpAmount)return q.drawImage(ne,0,0),ne.close(),q=null,V.debug("Finished!"),B;V.debug("Unsharp result");var X=V.options.createCanvas(j.toWidth,j.toHeight),ie=X.getContext("2d");ie.drawImage(ne,0,0),ne.close();var ae=ie.getImageData(0,0,j.toWidth,j.toHeight);return V.__mathlib.unsharp_mask(ae.data,j.toWidth,j.toHeight,j.unsharpAmount,j.unsharpRadius,j.unsharpThreshold),q.putImageData(ae,0,0),X.width=X.height=0,ae=ie=X=q=null,V.debug("Finished!"),B})},pe.prototype.resize=function(L,B,j){var V=this;this.debug("Start resize...");var q=h({},O);if(isNaN(j)?j&&(q=h(q,j)):q=h(q,{quality:j}),q.toWidth=B.width,q.toHeight=B.height,q.width=L.naturalWidth||L.width,q.height=L.naturalHeight||L.height,Object.prototype.hasOwnProperty.call(q,"quality")){if(q.quality<0||q.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(q.quality));q.filter=E.q2f[q.quality]}if(B.width===0||B.height===0)return Promise.reject(new Error("Invalid output size: ".concat(B.width,"x").concat(B.height)));q.unsharpRadius>2&&(q.unsharpRadius=2),q.canceled=!1,q.cancelToken&&(q.cancelToken=q.cancelToken.then(function(X){throw q.canceled=!0,X},function(X){throw q.canceled=!0,X}));var ne=3;return q.__destTileBorder=Math.ceil(Math.max(ne,2.5*q.unsharpRadius|0)),this.init().then(function(){if(q.canceled)return q.cancelToken;if(V.features.cib){if(E.q2f.indexOf(q.filter)>=0)return V.__resizeViaCreateImageBitmap(L,B,q);V.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!z){var X=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw X.code="ERR_GET_IMAGE_DATA",X}var ie=A(q.width,q.height,q.toWidth,q.toHeight,V.options.tile,q.__destTileBorder);return V.__processStages(ie,L,B,q)})},pe.prototype.resizeBuffer=function(L){var B=this,j=h({},O,L);if(Object.prototype.hasOwnProperty.call(j,"quality")){if(j.quality<0||j.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(j.quality));j.filter=E.q2f[j.quality]}return this.init().then(function(){return B.__mathlib.resizeAndUnsharp(j)})},pe.prototype.toBlob=function(L,B,j){return B=B||"image/png",new Promise(function(V){if(L.toBlob){L.toBlob(function(ae){return V(ae)},B,j);return}if(L.convertToBlob){V(L.convertToBlob({type:B,quality:j}));return}for(var q=atob(L.toDataURL(B,j).split(",")[1]),ne=q.length,X=new Uint8Array(ne),ie=0;ie<ne;ie++)X[ie]=q.charCodeAt(ie);V(new Blob([X],{type:B}))})},pe.prototype.debug=function(){},i.exports=pe},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Af);var Kn={},bf={exports:{}};(function(t){function e(a,u){var f=new Error(a);return f.code=u,f}function r(a){for(var u=a.toString(16).toUpperCase(),f=2-u.length;f>0;f--)u="0"+u;return"0x"+u}function i(a){try{return unescape(encodeURIComponent(a))}catch{return a}}function n(a){try{return decodeURIComponent(escape(a))}catch{return a}}function s(a){return Object.prototype.toString.call(a)==="[object Uint8Array]"}function l(a,u,f){this.input=a.subarray(u,f),this.start=u;var d=String.fromCharCode.apply(null,this.input.subarray(0,4));if(d!=="II*\0"&&d!=="MM\0*")throw e("invalid TIFF signature","EBADDATA");this.big_endian=d[0]==="M"}l.prototype.each=function(a){this.aborted=!1;var u=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:u}];this.ifds_to_read.length>0&&!this.aborted;){var f=this.ifds_to_read.shift();!f.offset||this.scan_ifd(f.id,f.offset,a)}},l.prototype.filter=function(a){var u={};u.ifd0={id:0,entries:[]},this.each(function(p){a(p)===!1&&!p.is_subifd_link||p.is_subifd_link&&p.count!==1&&p.format!==4||(u["ifd"+p.ifd]||(u["ifd"+p.ifd]={id:p.ifd,entries:[]}),u["ifd"+p.ifd].entries.push(p))}),delete u.ifd1;var f=8;Object.keys(u).forEach(function(p){f+=2,u[p].entries.forEach(function(_){f+=12+(_.data_length>4?Math.ceil(_.data_length/2)*2:0)}),f+=4}),this.output=new Uint8Array(f),this.output[0]=this.output[1]=(this.big_endian?"M":"I").charCodeAt(0),this.write_uint16(2,42);var d=8,h=this;if(this.write_uint32(4,d),Object.keys(u).forEach(function(p){u[p].written_offset=d;var _=d,m=_+2+u[p].entries.length*12+4;d=m,h.write_uint16(_,u[p].entries.length),u[p].entries.sort(function(y,A){return y.tag-A.tag}).forEach(function(y,A){var w=_+2+A*12;h.write_uint16(w,y.tag),h.write_uint16(w+2,y.format),h.write_uint32(w+4,y.count),y.is_subifd_link?u["ifd"+y.tag]&&(u["ifd"+y.tag].link_offset=w+8):y.data_length<=4?h.output.set(h.input.subarray(y.data_offset-h.start,y.data_offset-h.start+4),w+8):(h.write_uint32(w+8,d),h.output.set(h.input.subarray(y.data_offset-h.start,y.data_offset-h.start+y.data_length),d),d+=Math.ceil(y.data_length/2)*2)});var v=u["ifd"+(u[p].id+1)];v&&(v.link_offset=m-4)}),Object.keys(u).forEach(function(p){u[p].written_offset&&u[p].link_offset&&h.write_uint32(u[p].link_offset,u[p].written_offset)}),this.output.length!==d)throw e("internal error: incorrect buffer size allocated");return this.output},l.prototype.read_uint16=function(a){var u=this.input;if(a+2>u.length)throw e("unexpected EOF","EBADDATA");return this.big_endian?u[a]*256+u[a+1]:u[a]+u[a+1]*256},l.prototype.read_uint32=function(a){var u=this.input;if(a+4>u.length)throw e("unexpected EOF","EBADDATA");return this.big_endian?u[a]*16777216+u[a+1]*65536+u[a+2]*256+u[a+3]:u[a]+u[a+1]*256+u[a+2]*65536+u[a+3]*16777216},l.prototype.write_uint16=function(a,u){var f=this.output;this.big_endian?(f[a]=u>>>8&255,f[a+1]=u&255):(f[a]=u&255,f[a+1]=u>>>8&255)},l.prototype.write_uint32=function(a,u){var f=this.output;this.big_endian?(f[a]=u>>>24&255,f[a+1]=u>>>16&255,f[a+2]=u>>>8&255,f[a+3]=u&255):(f[a]=u&255,f[a+1]=u>>>8&255,f[a+2]=u>>>16&255,f[a+3]=u>>>24&255)},l.prototype.is_subifd_link=function(a,u){return a===0&&u===34665||a===0&&u===34853||a===34665&&u===40965},l.prototype.exif_format_length=function(a){switch(a){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},l.prototype.exif_format_read=function(a,u){var f;switch(a){case 1:case 2:return f=this.input[u],f;case 6:return f=this.input[u],f|(f&128)*33554430;case 3:return f=this.read_uint16(u),f;case 8:return f=this.read_uint16(u),f|(f&32768)*131070;case 4:return f=this.read_uint32(u),f;case 9:return f=this.read_uint32(u),f|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},l.prototype.scan_ifd=function(a,u,f){var d=this.read_uint16(u);u+=2;for(var h=0;h<d;h++){var p=this.read_uint16(u),_=this.read_uint16(u+2),m=this.read_uint32(u+4),v=this.exif_format_length(_),y=m*v,A=y<=4?u+8:this.read_uint32(u+8),w=!1;if(A+y>this.input.length)throw e("unexpected EOF","EBADDATA");for(var E=[],S=A,Q=0;Q<m;Q++,S+=v){var M=this.exif_format_read(_,S);if(M===null){E=null;break}E.push(M)}if(Array.isArray(E)&&_===2){try{E=n(String.fromCharCode.apply(null,E))}catch{E=null}E&&E[E.length-1]==="\0"&&(E=E.slice(0,-1))}this.is_subifd_link(a,p)&&Array.isArray(E)&&Number.isInteger(E[0])&&E[0]>0&&(this.ifds_to_read.push({id:p,offset:E[0]}),w=!0);var F={is_big_endian:this.big_endian,ifd:a,tag:p,format:_,count:m,entry_offset:u+this.start,data_length:y,data_offset:A+this.start,value:E,is_subifd_link:w};if(f(F)===!1){this.aborted=!0;return}u+=12}a===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(u)})},t.exports.is_jpeg=function(a){return a.length>=4&&a[0]===255&&a[1]===216&&a[2]===255},t.exports.jpeg_segments_each=function(a,u){if(!s(a))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_segment), Function expected","EINVAL");if(!t.exports.is_jpeg(a))throw e("Unknown file format","ENOTJPEG");for(var f=0,d=a.length,h=!1;;){var p,_;if(f+1>=d)throw e("Unexpected EOF","EBADDATA");var m=a[f],v=a[f+1];if(m===255&&v===255)p=255,_=1;else if(m===255&&v!==0){if(p=v,_=2,!(208<=p&&p<=217||p===1)){if(f+3>=d)throw e("Unexpected EOF","EBADDATA");if(_+=a[f+2]*256+a[f+3],_<2)throw e("Invalid segment length","EBADDATA");if(f+_-1>=d)throw e("Unexpected EOF","EBADDATA")}h&&(p>=208&&p<=215||(h=!1)),p===218&&(h=!0)}else if(h)for(var y=f+1;;y++){if(y>=d)throw e("Unexpected EOF","EBADDATA");if(a[y]===255){if(y+1>=d)throw e("Unexpected EOF","EBADDATA");if(a[y+1]!==0){p=0,_=y-f;break}}}else throw e("Unexpected byte at segment start: "+r(m)+" (offset "+r(f)+")","EBADDATA");if(u({code:p,offset:f,length:_})===!1||p===217)break;f+=_}},t.exports.jpeg_segments_filter=function(a,u){if(!s(a))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_segment), Function expected","EINVAL");var f=[],d=0;t.exports.jpeg_segments_each(a,function(_){var m=u(_);if(s(m))f.push({data:m}),d+=m.length;else if(Array.isArray(m))m.filter(s).forEach(function(y){f.push({data:y}),d+=y.length});else if(m!==!1){var v={start:_.offset,end:_.offset+_.length};f.length>0&&f[f.length-1].end===v.start?f[f.length-1].end=v.end:f.push(v),d+=_.length}});var h=new Uint8Array(d),p=0;return f.forEach(function(_){var m=_.data||a.subarray(_.start,_.end);h.set(m,p),p+=m.length}),h},t.exports.jpeg_exif_tags_each=function(a,u){if(!s(a))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_exif_entry), Function expected","EINVAL");t.exports.jpeg_segments_each(a,function(f){if(f.code===218)return!1;if(f.code===225&&f.length>=10&&a[f.offset+4]===69&&a[f.offset+5]===120&&a[f.offset+6]===105&&a[f.offset+7]===102&&a[f.offset+8]===0&&a[f.offset+9]===0)return new l(a,f.offset+10,f.offset+f.length).each(u),!1})},t.exports.jpeg_exif_tags_filter=function(a,u){if(!s(a))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_exif_entry), Function expected","EINVAL");var f=!1;return t.exports.jpeg_segments_filter(a,function(d){if(!f&&(d.code===218&&(f=!0),d.code===225&&d.length>=10&&a[d.offset+4]===69&&a[d.offset+5]===120&&a[d.offset+6]===105&&a[d.offset+7]===102&&a[d.offset+8]===0&&a[d.offset+9]===0)){var h=new l(a,d.offset+10,d.offset+d.length).filter(u);if(!h)return!1;var p=new Uint8Array(10);return p.set(a.slice(d.offset,d.offset+10)),p[2]=h.length+8>>>8&255,p[3]=h.length+8&255,f=!0,[p,h]}})},t.exports.jpeg_add_comment=function(a,u){var f=!1,d=0;return t.exports.jpeg_segments_filter(a,function(h){if(d++,!(d===1&&h.code===216)&&!(d===2&&h.code===224)&&!f){u=i(u);var p=new Uint8Array(5+u.length),_=0;return p[_++]=255,p[_++]=254,p[_++]=u.length+3>>>8&255,p[_++]=u.length+3&255,u.split("").forEach(function(m){p[_++]=m.charCodeAt(0)&255}),p[_++]=0,f=!0,[p,a.subarray(h.offset,h.offset+h.length)]}})}})(bf);var eo=bf.exports;function Ef(t){return this._getUint8Array(t.blob).then(function(e){if(t.is_jpeg=eo.is_jpeg(e),!t.is_jpeg)return Promise.resolve(t);t.orig_blob=t.blob;try{var r,i;if(eo.jpeg_exif_tags_each(e,function(s){if(s.ifd===0&&s.tag===274&&Array.isArray(s.value))return t.orientation=s.value[0]||1,r=s.is_big_endian,i=s.data_offset,!1}),i){var n=r?new Uint8Array([0,1]):new Uint8Array([1,0]);t.blob=new Blob([e.slice(0,i),n,e.slice(i+2)],{type:"image/jpeg"})}}catch{}return t})}function xf(t){if(!t.is_jpeg)return Promise.resolve(t);var e=t.orientation-1;if(!e)return Promise.resolve(t);var r;e&4?r=this.pica.options.createCanvas(t.out_canvas.height,t.out_canvas.width):r=this.pica.options.createCanvas(t.out_canvas.width,t.out_canvas.height);var i=r.getContext("2d");return i.save(),e&1&&i.transform(-1,0,0,1,r.width,0),e&2&&i.transform(-1,0,0,-1,r.width,r.height),e&4&&i.transform(0,1,1,0,0,0),i.drawImage(t.out_canvas,0,0),i.restore(),t.out_canvas.width=t.out_canvas.height=0,t.out_canvas=r,Promise.resolve(t)}function Cf(t){return t.is_jpeg?Promise.all([this._getUint8Array(t.blob),this._getUint8Array(t.out_blob)]).then(function(e){var r=e[0],i=e[1];if(!eo.is_jpeg(r))return Promise.resolve(t);var n=[];return eo.jpeg_segments_each(r,function(s){if(s.code===218)return!1;n.push(s)}),n=n.filter(function(s){return s.code===226?!1:s.code>=224&&s.code<240||s.code===254}).map(function(s){return r.slice(s.offset,s.offset+s.length)}),t.out_blob=new Blob([i.slice(0,2)].concat(n).concat([i.slice(20)]),{type:"image/jpeg"}),t}):Promise.resolve(t)}function qm(t){t.before("_blob_to_image",Ef),t.after("_transform",xf),t.after("_create_blob",Cf)}Kn.jpeg_patch_exif=Ef;Kn.jpeg_rotate_canvas=xf;Kn.jpeg_attach_orig_segments=Cf;Kn.assign=qm;var Cl=_o,Sf=Af.exports;function Zt(t){if(!(this instanceof Zt))return new Zt(t);t=t||{},this.pica=t.pica||Sf({}),this.initialized=!1,this.utils=Cl}Zt.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Zt.prototype.init=function(){this.use(Kn.assign)};Zt.prototype.toBlob=function(t,e){var r=Cl.assign({max:1/0},e),i={blob:t,opts:r};return this.initialized||(this.init(),this.initialized=!0),Promise.resolve(i).then(this._blob_to_image).then(this._calculate_size).then(this._transform).then(this._cleanup).then(this._create_blob).then(function(n){return n.out_canvas.width=n.out_canvas.height=0,n.out_blob})};Zt.prototype.toCanvas=function(t,e){var r=Cl.assign({max:1/0},e),i={blob:t,opts:r};return this.initialized||(this.init(),this.initialized=!0),Promise.resolve(i).then(this._blob_to_image).then(this._calculate_size).then(this._transform).then(this._cleanup).then(function(n){return n.out_canvas})};Zt.prototype.before=function(t,e){if(!this[t])throw new Error('Method "'+t+'" does not exist');if(typeof e!="function")throw new Error('Invalid argument "fn", function expected');var r=this[t],i=this;return this[t]=function(n){return e.call(i,n).then(function(s){return r.call(i,s)})},this};Zt.prototype.after=function(t,e){if(!this[t])throw new Error('Method "'+t+'" does not exist');if(typeof e!="function")throw new Error('Invalid argument "fn", function expected');var r=this[t],i=this;return this[t]=function(n){return r.call(i,n).then(function(s){return e.call(i,s)})},this};Zt.prototype._blob_to_image=function(t){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;return t.image=document.createElement("img"),t.image_url=e.createObjectURL(t.blob),t.image.src=t.image_url,new Promise(function(r,i){t.image.onerror=function(){i(new Error("ImageBlobReduce: failed to create Image() from blob"))},t.image.onload=function(){r(t)}})};Zt.prototype._calculate_size=function(t){var e=t.opts.max/Math.max(t.image.width,t.image.height);return e>1&&(e=1),t.transform_width=Math.max(Math.round(t.image.width*e),1),t.transform_height=Math.max(Math.round(t.image.height*e),1),t.scale_factor=e,Promise.resolve(t)};Zt.prototype._transform=function(t){t.out_canvas=this.pica.options.createCanvas(t.transform_width,t.transform_height),t.transform_width=null,t.transform_height=null;var e={alpha:t.blob.type==="image/png"};return this.utils.assign(e,this.utils.pick_pica_resize_options(t.opts)),this.pica.resize(t.image,t.out_canvas,e).then(function(){return t})};Zt.prototype._cleanup=function(t){t.image.src="",t.image=null;var e=window.URL||window.webkitURL||window.mozURL||window.msURL;return e.revokeObjectURL&&e.revokeObjectURL(t.image_url),t.image_url=null,Promise.resolve(t)};Zt.prototype._create_blob=function(t){return this.pica.toBlob(t.out_canvas,t.blob.type).then(function(e){return t.out_blob=e,t})};Zt.prototype._getUint8Array=function(t){return t.arrayBuffer?t.arrayBuffer().then(function(e){return new Uint8Array(e)}):new Promise(function(e,r){var i=new FileReader;i.readAsArrayBuffer(t),i.onload=function(){e(new Uint8Array(i.result))},i.onerror=function(){r(new Error("ImageBlobReduce: failed to load data from input blob")),i.abort()},i.onabort=function(){r(new Error("ImageBlobReduce: failed to load data from input blob (aborted)"))}})};Zt.pica=Sf;var Xm=Zt,Fs,Ym=new Uint8Array(16);function Km(){if(!Fs&&(Fs=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(Ym)}var Zm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vm(t){return typeof t=="string"&&Zm.test(t)}var Wt=[];for(var la=0;la<256;++la)Wt.push((la+256).toString(16).substr(1));function Jm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Wt[t[e+0]]+Wt[t[e+1]]+Wt[t[e+2]]+Wt[t[e+3]]+"-"+Wt[t[e+4]]+Wt[t[e+5]]+"-"+Wt[t[e+6]]+Wt[t[e+7]]+"-"+Wt[t[e+8]]+Wt[t[e+9]]+"-"+Wt[t[e+10]]+Wt[t[e+11]]+Wt[t[e+12]]+Wt[t[e+13]]+Wt[t[e+14]]+Wt[t[e+15]]).toLowerCase();if(!Vm(r))throw TypeError("Stringified UUID is invalid");return r}var uc,ua,ca=0,fa=0;function ev(t,e,r){var i=e&&r||0,n=e||new Array(16);t=t||{};var s=t.node||uc,l=t.clockseq!==void 0?t.clockseq:ua;if(s==null||l==null){var a=t.random||(t.rng||Km)();s==null&&(s=uc=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),l==null&&(l=ua=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:fa+1,d=u-ca+(f-fa)/1e4;if(d<0&&t.clockseq===void 0&&(l=l+1&16383),(d<0||u>ca)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ca=u,fa=f,ua=l,u+=122192928e5;var h=((u&268435455)*1e4+f)%4294967296;n[i++]=h>>>24&255,n[i++]=h>>>16&255,n[i++]=h>>>8&255,n[i++]=h&255;var p=u/4294967296*1e4&268435455;n[i++]=p>>>8&255,n[i++]=p&255,n[i++]=p>>>24&15|16,n[i++]=p>>>16&255,n[i++]=l>>>8|128,n[i++]=l&255;for(var _=0;_<6;++_)n[i+_]=s[_];return e||Jm(n)}const tv=.5,rv=10,cc=.25;class iv{constructor(e,r,i,n,s,l){this.sourceProj_=e,this.targetProj_=r;let a={};const u=ph(this.targetProj_,this.sourceProj_);this.transformInv_=function(w){const E=w[0]+"/"+w[1];return a[E]||(a[E]=u(w)),a[E]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Er(n)>=Er(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Er(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Er(this.targetProj_.getExtent()):null;const f=fo(i),d=gh(i),h=mh(i),p=vh(i),_=this.transformInv_(f),m=this.transformInv_(d),v=this.transformInv_(h),y=this.transformInv_(p),A=rv+(l?Math.max(0,Math.ceil(Math.log2(Oa(i)/(l*l*256*256)))):0);if(this.addQuad_(f,d,h,p,_,m,v,y,A),this.wrapsXInSource_){let w=1/0;this.triangles_.forEach(function(E,S,Q){w=Math.min(w,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(E=>{if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-w>this.sourceWorldWidth_/2){const S=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];S[0][0]-w>this.sourceWorldWidth_/2&&(S[0][0]-=this.sourceWorldWidth_),S[1][0]-w>this.sourceWorldWidth_/2&&(S[1][0]-=this.sourceWorldWidth_),S[2][0]-w>this.sourceWorldWidth_/2&&(S[2][0]-=this.sourceWorldWidth_);const Q=Math.min(S[0][0],S[1][0],S[2][0]);Math.max(S[0][0],S[1][0],S[2][0])-Q<this.sourceWorldWidth_/2&&(E.source=S)}})}a={}}addTriangle_(e,r,i,n,s,l){this.triangles_.push({source:[n,s,l],target:[e,r,i]})}addQuad_(e,r,i,n,s,l,a,u,f){const d=Au([s,l,a,u]),h=this.sourceWorldWidth_?Er(d)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,_=this.sourceProj_.canWrapX()&&h>.5&&h<1;let m=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const y=Au([e,r,i,n]);m=Er(y)/this.targetWorldWidth_>cc||m}!_&&this.sourceProj_.isGlobal()&&h&&(m=h>cc||m)}if(!m&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!Pc(d,this.maxSourceExtent_))return;let v=0;if(!m&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(u[0])||!isFinite(u[1]))){if(f>0)m=!0;else if(v=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),v!=1&&v!=2&&v!=4&&v!=8)return}if(f>0){if(!m){const y=[(e[0]+i[0])/2,(e[1]+i[1])/2],A=this.transformInv_(y);let w;_?w=(zs(s[0],p)+zs(a[0],p))/2-zs(A[0],p):w=(s[0]+a[0])/2-A[0];const E=(s[1]+a[1])/2-A[1];m=w*w+E*E>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const y=[(r[0]+i[0])/2,(r[1]+i[1])/2],A=this.transformInv_(y),w=[(n[0]+e[0])/2,(n[1]+e[1])/2],E=this.transformInv_(w);this.addQuad_(e,r,y,w,s,l,A,E,f-1),this.addQuad_(w,y,i,n,E,A,a,u,f-1)}else{const y=[(e[0]+r[0])/2,(e[1]+r[1])/2],A=this.transformInv_(y),w=[(i[0]+n[0])/2,(i[1]+n[1])/2],E=this.transformInv_(w);this.addQuad_(e,y,w,n,s,A,E,u,f-1),this.addQuad_(y,r,i,w,A,l,a,E,f-1)}return}}if(_){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(v&11)==0&&this.addTriangle_(e,i,n,s,a,u),(v&14)==0&&this.addTriangle_(e,i,r,s,a,l),v&&((v&13)==0&&this.addTriangle_(r,n,e,l,u,s),(v&7)==0&&this.addTriangle_(r,n,i,l,u,a))}calculateSourceExtent(){const e=ho();return this.triangles_.forEach(function(r,i,n){const s=r.source;ea(e,s[0]),ea(e,s[1]),ea(e,s[2])}),e}getTriangles(){return this.triangles_}}var nv=iv;let da;const cn=[];function fc(t,e,r,i,n){t.beginPath(),t.moveTo(0,0),t.lineTo(e,r),t.lineTo(i,n),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(r,n)),t.restore()}function ha(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function sv(){if(da===void 0){const t=Pa(6,6,cn);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",fc(t,4,5,4,0),fc(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;da=ha(e,0)||ha(e,4)||ha(e,8),il(t),cn.push(t.canvas)}return da}function dc(t,e,r,i){const n=wh(r,e,t);let s=Zs(e,i,r);const l=e.getMetersPerUnit();l!==void 0&&(s*=l);const a=t.getMetersPerUnit();a!==void 0&&(s/=a);const u=t.getExtent();if(!u||nl(u,n)){const f=Zs(t,s,n)/s;isFinite(f)&&f>0&&(s/=f)}return s}function ov(t,e,r,i){const n=Rc(r);let s=dc(t,e,n,i);return(!isFinite(s)||s<=0)&&_h(r,function(l){return s=dc(t,e,l,i),isFinite(s)&&s>0}),s}function av(t,e,r,i,n,s,l,a,u,f,d,h){const p=Pa(Math.round(r*t),Math.round(r*e),cn);if(h||(p.imageSmoothingEnabled=!1),u.length===0)return p.canvas;p.scale(r,r);function _(S){return Math.round(S*r)/r}p.globalCompositeOperation="lighter";const m=ho();u.forEach(function(S,Q,M){Fc(m,S.extent)});const v=Er(m),y=Ks(m),A=Pa(Math.round(r*v/i),Math.round(r*y/i),cn);h||(A.imageSmoothingEnabled=!1);const w=r/i;u.forEach(function(S,Q,M){const F=S.extent[0]-m[0],O=-(S.extent[3]-m[3]),k=Er(S.extent),W=Ks(S.extent);S.image.width>0&&S.image.height>0&&A.drawImage(S.image,f,f,S.image.width-2*f,S.image.height-2*f,F*w,O*w,k*w,W*w)});const E=fo(l);return a.getTriangles().forEach(function(S,Q,M){const F=S.source,O=S.target;let k=F[0][0],W=F[0][1],z=F[1][0],$=F[1][1],J=F[2][0],Ee=F[2][1];const pe=_((O[0][0]-E[0])/s),L=_(-(O[0][1]-E[1])/s),B=_((O[1][0]-E[0])/s),j=_(-(O[1][1]-E[1])/s),V=_((O[2][0]-E[0])/s),q=_(-(O[2][1]-E[1])/s),ne=k,X=W;k=0,W=0,z-=ne,$-=X,J-=ne,Ee-=X;const ie=[[z,$,0,0,B-pe],[J,Ee,0,0,V-pe],[0,0,z,$,j-L],[0,0,J,Ee,q-L]],ae=yh(ie);if(!!ae){if(p.save(),p.beginPath(),sv()||!h){p.moveTo(B,j);const se=4,he=pe-B,Ne=L-j;for(let oe=0;oe<se;oe++)p.lineTo(B+_((oe+1)*he/se),j+_(oe*Ne/(se-1))),oe!=se-1&&p.lineTo(B+_((oe+1)*he/se),j+_((oe+1)*Ne/(se-1)));p.lineTo(V,q)}else p.moveTo(B,j),p.lineTo(pe,L),p.lineTo(V,q);p.clip(),p.transform(ae[0],ae[2],ae[1],ae[3],pe,L),p.translate(m[0]-ne,m[3]-X),p.scale(i/r,-i/r),p.drawImage(A.canvas,0,0),p.restore()}}),il(A),cn.push(A.canvas),d&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(S,Q,M){const F=S.target,O=(F[0][0]-E[0])/s,k=-(F[0][1]-E[1])/s,W=(F[1][0]-E[0])/s,z=-(F[1][1]-E[1])/s,$=(F[2][0]-E[0])/s,J=-(F[2][1]-E[1])/s;p.beginPath(),p.moveTo(W,z),p.lineTo(O,k),p.lineTo($,J),p.closePath(),p.stroke()}),p.restore()),p.canvas}class lv extends Ah{constructor(e,r,i,n,s,l,a,u,f,d,h,p){super(s,ot.IDLE,{interpolate:!!p}),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=r,this.targetTileGrid_=n,this.wrappedTileCoord_=l||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const _=n.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent();let v=this.sourceTileGrid_.getExtent();const y=m?$s(_,m):_;if(Oa(y)===0){this.state=ot.EMPTY;return}const A=e.getExtent();A&&(v?v=$s(v,A):v=A);const w=n.getResolution(this.wrappedTileCoord_[0]),E=ov(e,i,y,w);if(!isFinite(E)||E<=0){this.state=ot.EMPTY;return}const S=d!==void 0?d:tv;if(this.triangulation_=new nv(e,i,y,v,E*S,w),this.triangulation_.getTriangles().length===0){this.state=ot.EMPTY;return}this.sourceZ_=r.getZForResolution(E);let Q=this.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(Q[1]=Ra(Q[1],v[1],v[3]),Q[3]=Ra(Q[3],v[1],v[3])):Q=$s(Q,v)),!Oa(Q))this.state=ot.EMPTY;else{const M=r.getTileRangeForExtentAndZ(Q,this.sourceZ_);for(let F=M.minX;F<=M.maxX;F++)for(let O=M.minY;O<=M.maxY;O++){const k=f(this.sourceZ_,F,O,a);k&&this.sourceTiles_.push(k)}this.sourceTiles_.length===0&&(this.state=ot.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(r=>{r&&r.getState()==ot.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(r.tileCoord),image:r.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=ot.ERROR;else{const r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),n=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],l=this.targetTileGrid_.getResolution(r),a=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=av(n,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),l,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ot.LOADED}this.changed()}load(){if(this.state==ot.IDLE){this.state=ot.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(r=>{const i=r.getState();if(i==ot.IDLE||i==ot.LOADING){e++;const n=Mc(r,sl.CHANGE,function(s){const l=r.getState();(l==ot.LOADED||l==ot.ERROR||l==ot.EMPTY)&&(Fa(n),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(n)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,n){r.getState()==ot.IDLE&&r.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Fa),this.sourcesListenerKeys_=null}release(){this.canvas_&&(il(this.canvas_.getContext("2d")),cn.push(this.canvas_),this.canvas_=null),super.release()}}var Xa=lv,pa={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};const Ji=[0,0,0],Jr=5;class uv{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ur(bh(this.resolutions_,function(n,s){return s-n},!0),17);let r;if(!e.origins){for(let n=0,s=this.resolutions_.length-1;n<s;++n)if(!r)r=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==r){r=void 0;break}}this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ur(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=fo(i)),Ur(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ur(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Lc,Ur(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(n,s){const l=new Dc(Math.min(0,n[0]),Math.max(n[0]-1,-1),Math.min(0,n[1]),Math.max(n[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);l.minX=Math.max(a.minX,l.minX),l.maxX=Math.min(a.maxX,l.maxX),l.minY=Math.max(a.minY,l.minY),l.maxY=Math.min(a.maxY,l.maxY)}return l},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,r,i){const n=this.getTileRangeForExtentAndZ(e,r);for(let s=n.minX,l=n.maxX;s<=l;++s)for(let a=n.minY,u=n.maxY;a<=u;++a)i([r,s,a])}forEachTileCoordParentTileRange(e,r,i,n){let s,l,a,u=null,f=e[0]-1;for(this.zoomFactor_===2?(l=e[1],a=e[2]):u=this.getTileCoordExtent(e,n);f>=this.minZoom;){if(this.zoomFactor_===2?(l=Math.floor(l/2),a=Math.floor(a/2),s=Yi(l,l,a,a,i)):s=this.getTileRangeForExtentAndZ(u,f,i),r(f,s))return!0;--f}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,r,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,l=e[2]*2;return Yi(s,s+1,l,l+1,r)}const n=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,r)}return null}getTileRangeForTileCoordAndZ(e,r,i){if(r>this.maxZoom||r<this.minZoom)return null;const n=e[0],s=e[1],l=e[2];if(r===n)return Yi(s,l,s,l,i);if(this.zoomFactor_){const u=Math.pow(this.zoomFactor_,r-n),f=Math.floor(s*u),d=Math.floor(l*u);if(r<n)return Yi(f,f,d,d,i);const h=Math.floor(u*(s+1))-1,p=Math.floor(u*(l+1))-1;return Yi(f,h,d,p,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,r,i)}getTileRangeForExtentAndZ(e,r,i){this.getTileCoordForXYAndZ_(e[0],e[3],r,!1,Ji);const n=Ji[1],s=Ji[2];this.getTileCoordForXYAndZ_(e[2],e[1],r,!0,Ji);const l=Ji[1],a=Ji[2];return Yi(n,l,s,a,i)}getTileCoordCenter(e){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=ri(this.getTileSize(e[0]),this.tmpSize_);return[r[0]+(e[1]+.5)*n[0]*i,r[1]-(e[2]+.5)*n[1]*i]}getTileCoordExtent(e,r){const i=this.getOrigin(e[0]),n=this.getResolution(e[0]),s=ri(this.getTileSize(e[0]),this.tmpSize_),l=i[0]+e[1]*s[0]*n,a=i[1]-(e[2]+1)*s[1]*n,u=l+s[0]*n,f=a+s[1]*n;return kc(l,a,u,f,r)}getTileCoordForCoordAndResolution(e,r,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],r,!1,i)}getTileCoordForXYAndResolution_(e,r,i,n,s){const l=this.getZForResolution(i),a=i/this.getResolution(l),u=this.getOrigin(l),f=ri(this.getTileSize(l),this.tmpSize_);let d=a*(e-u[0])/i/f[0],h=a*(u[1]-r)/i/f[1];return n?(d=Is(d,Jr)-1,h=Is(h,Jr)-1):(d=Ts(d,Jr),h=Ts(h,Jr)),bu(l,d,h,s)}getTileCoordForXYAndZ_(e,r,i,n,s){const l=this.getOrigin(i),a=this.getResolution(i),u=ri(this.getTileSize(i),this.tmpSize_);let f=(e-l[0])/a/u[0],d=(l[1]-r)/a/u[1];return n?(f=Is(f,Jr)-1,d=Is(d,Jr)-1):(f=Ts(f,Jr),d=Ts(d,Jr)),bu(i,f,d,s)}getTileCoordForCoordAndZ(e,r,i){return this.getTileCoordForXYAndZ_(e[0],e[1],r,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,r){const i=Eh(this.resolutions_,e,r||0);return Ra(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,r){return xh(r,0,r.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const r=this.resolutions_.length,i=new Array(r);for(let n=this.minZoom;n<r;++n)i[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=i}}var If=uv;function Tf(t){let e=t.getDefaultTileGrid();return e||(e=dv(t),t.setDefaultTileGrid(e)),e}function cv(t,e,r){const i=e[0],n=t.getTileCoordCenter(e),s=Sl(r);if(!nl(s,n)){const l=Er(s),a=Math.ceil((s[0]-n[0])/l);return n[0]+=l*a,t.getTileCoordForCoordAndZ(n,i)}return e}function fv(t,e,r,i){i=i!==void 0?i:"top-left";const n=Of(t,e,r);return new If({extent:t,origin:Sh(t,i),resolutions:n,tileSize:r})}function wo(t){const e=t||{},r=e.extent||dr("EPSG:3857").getExtent(),i={extent:r,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Of(r,e.maxZoom,e.tileSize,e.maxResolution)};return new If(i)}function Of(t,e,r,i){e=e!==void 0?e:Ch,r=ri(r!==void 0?r:Lc);const n=Ks(t),s=Er(t);i=i>0?i:Math.max(s/r[0],n/r[1]);const l=e+1,a=new Array(l);for(let u=0;u<l;++u)a[u]=i/Math.pow(2,u);return a}function dv(t,e,r,i){const n=Sl(t);return fv(n,e,r,i)}function Sl(t){t=dr(t);let e=t.getExtent();if(!e){const r=180*Bc.degrees/t.getMetersPerUnit();e=kc(-r,-r,r,r)}return e}class hv extends Ih{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const r=[256,256];this.tileGrid&&ri(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),r),this.tileCache=new Nc(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,r){const i=this.getTileCacheForProjection(e);i&&i.expireCache(r)}forEachLoadedTile(e,r,i,n){const s=this.getTileCacheForProjection(e);if(!s)return!1;let l=!0,a,u,f;for(let d=i.minX;d<=i.maxX;++d)for(let h=i.minY;h<=i.maxY;++h)u=ol(r,d,h),f=!1,s.containsKey(u)&&(a=s.get(u),f=a.getState()===ot.LOADED,f&&(f=n(a)!==!1)),f||(l=!1);return l}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const r=e?this.getTileGridForProjection(e):this.tileGrid;return r?r.getResolutions():null}getTile(e,r,i,n,s){return Xt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Tf(e)}getTileCacheForProjection(e){const r=this.getProjection();return Ur(r===null||Ti(r,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,r,i){const n=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),l=ri(n.getTileSize(e),this.tmpSize);return s==1?l:Th(l,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,r){r=r!==void 0?r:this.getProjection();const i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=cv(i,e,r)),Oh(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,r){const i=this.getTileCacheForProjection(r);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,r,i,n){}}class pv extends Ph{constructor(e,r){super(e),this.tile=r}}var gv=hv;function mv(t,e){const r=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(l,a,u){if(!!l)return t.replace(r,l[0].toString()).replace(i,l[1].toString()).replace(n,l[2].toString()).replace(s,function(){const f=l[0],d=e.getFullTileRange(f);return Ur(d,55),(d.getHeight()-l[2]-1).toString()})}}function vv(t,e){const r=t.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=mv(t[n],e);return yv(i)}function yv(t){return t.length===1?t[0]:function(e,r,i){if(!e)return;const n=Fh(e),s=zs(n,t.length);return t[s](e,r,i)}}function _v(t){const e=[];let r=/\{([a-z])-([a-z])\}/.exec(t);if(r){const i=r[1].charCodeAt(0),n=r[2].charCodeAt(0);let s;for(s=i;s<=n;++s)e.push(t.replace(r[0],String.fromCharCode(s)));return e}if(r=/\{(\d+)-(\d+)\}/.exec(t),r){const i=parseInt(r[2],10);for(let n=parseInt(r[1],10);n<=i;n++)e.push(t.replace(r[0],n.toString()));return e}return e.push(t),e}class Il extends gv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Il.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const r=e.target,i=Pr(r),n=r.getState();let s;n==ot.LOADING?(this.tileLoadingKeys_[i]=!0,s=pa.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=n==ot.ERROR?pa.TILELOADERROR:n==ot.LOADED?pa.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new pv(s,r))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,r){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof r!="undefined"?this.setKey(r):this.changed()}setUrl(e){const r=_v(e);this.urls=r,this.setUrls(r)}setUrls(e){this.urls=e;const r=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(vv(e,this.tileGrid),r):this.setKey(r)}tileUrlFunction(e,r,i){}useTile(e,r,i){const n=ol(e,r,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}var wv=Il;class Av extends wv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:bv,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:jc,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,r){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?r:{});for(const n in this.tileCacheForProjection){const s=this.tileCacheForProjection[n];s.expireCache(s==i?r:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Ti(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Ti(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const r=this.getProjection();if(this.tileGrid&&(!r||Ti(r,e)))return this.tileGrid;const i=Pr(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Tf(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const r=this.getProjection();if(!r||Ti(r,e))return this.tileCache;const i=Pr(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Nc(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,r,i,n,s,l){const a=[e,r,i],u=this.getTileCoordForTileUrlFunction(a,s),f=u?this.tileUrlFunction(u,n,s):void 0,d=new this.tileClass(a,f!==void 0?ot.IDLE:ot.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=l,d.addEventListener(sl.CHANGE,this.handleTileChange.bind(this)),d}getTile(e,r,i,n,s){const l=this.getProjection();if(!l||!s||Ti(l,s))return this.getTileInternal(e,r,i,n,l||s);const a=this.getTileCacheForProjection(s),u=[e,r,i];let f;const d=Rh(u);a.containsKey(d)&&(f=a.get(d));const h=this.getKey();if(f&&f.key==h)return f;const p=this.getTileGridForProjection(l),_=this.getTileGridForProjection(s),m=this.getTileCoordForTileUrlFunction(u,s),v=new Xa(l,p,s,_,u,m,this.getTilePixelRatio(n),this.getGutter(),(y,A,w,E)=>this.getTileInternal(y,A,w,E,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return v.key=h,f?(v.interimTile=f,v.refreshInterimChain(),a.replace(d,v)):a.set(d,v),v}getTileInternal(e,r,i,n,s){let l=null;const a=ol(e,r,i),u=this.getKey();if(!this.tileCache.containsKey(a))l=this.createTile_(e,r,i,n,s,u),this.tileCache.set(a,l);else if(l=this.tileCache.get(a),l.key!=u){const f=l;l=this.createTile_(e,r,i,n,s,u),f.getState()==ot.IDLE?l.interimTile=f.interimTile:l.interimTile=f,l.refreshInterimChain(),this.tileCache.replace(a,l)}return l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}}setTileGridForProjection(e,r){const i=dr(e);if(i){const n=Pr(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=r)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function bv(t,e){t.getImage().src=e}var Ev=Av;class xv extends Ev{constructor(e){e=e||{};const r=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:wo({extent:Sl(r),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:r,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}var oi=xv;const Cv='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Sv extends oi{constructor(e){e=e||{};let r;e.attributions!==void 0?r=e.attributions:r=[Cv];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",n=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:r,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:n,wrapX:e.wrapX,zDirection:e.zDirection})}}var Iv=Sv,Rs={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Tv extends Mh{constructor(e){e=e||{};const r=Object.assign({},e);delete r.preload,delete r.useInterimTilesOnError,super(r),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Rs.PRELOAD)}setPreload(e){this.set(Rs.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Rs.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Rs.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}var Ov=Tv;class Pv extends Lh{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=ho(),this.tmpTileRange_=new Dc(0,0,0,0)}isDrawableTile(e){const r=this.getLayer(),i=e.getState(),n=r.getUseInterimTilesOnError();return i==ot.LOADED||i==ot.EMPTY||i==ot.ERROR&&!n}getTile(e,r,i,n){const s=n.pixelRatio,l=n.viewState.projection,a=this.getLayer();let f=a.getSource().getTile(e,r,i,s,l);return f.getState()==ot.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(f)||(f=f.getInterimTile()),f}getData(e){const r=this.frameState;if(!r)return null;const i=this.getLayer(),n=Eu(r.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!nl(s,n))return null;const l=r.pixelRatio,a=r.viewState.projection,u=r.viewState,f=i.getRenderSource(),d=f.getTileGridForProjection(u.projection),h=f.getTilePixelRatio(r.pixelRatio);for(let p=d.getZForResolution(u.resolution);p>=d.getMinZoom();--p){const _=d.getTileCoordForCoordAndZ(n,p),m=f.getTile(p,_[1],_[2],l,a);if(!(m instanceof jc||m instanceof Xa)||m instanceof Xa&&m.getState()===ot.EMPTY)return null;if(m.getState()!==ot.LOADED)continue;const v=d.getOrigin(p),y=ri(d.getTileSize(p)),A=d.getResolution(p),w=Math.floor(h*((n[0]-v[0])/A-_[1]*y[0])),E=Math.floor(h*((v[1]-n[1])/A-_[2]*y[1])),S=Math.round(h*f.getGutterForProjection(u.projection));return this.getImageData(m.getImage(),w+S,E+S)}return null}loadedTileCallback(e,r,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,r,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,r){const i=e.layerStatesArray[e.layerIndex],n=e.viewState,s=n.projection,l=n.resolution,a=n.center,u=n.rotation,f=e.pixelRatio,d=this.getLayer(),h=d.getSource(),p=h.getRevision(),_=h.getTileGridForProjection(s),m=_.getZForResolution(l,h.zDirection),v=_.getResolution(m);let y=e.extent;const A=e.viewState.resolution,w=h.getTilePixelRatio(f),E=Math.round(Er(y)/A*f),S=Math.round(Ks(y)/A*f),Q=i.extent&&xu(i.extent);Q&&(y=$s(y,xu(i.extent)));const M=v*E/2/w,F=v*S/2/w,O=[a[0]-M,a[1]-F,a[0]+M,a[1]+F],k=_.getTileRangeForExtentAndZ(y,m),W={};W[m]={};const z=this.createLoadedTileFinder(h,s,W),$=this.tmpExtent,J=this.tmpTileRange_;this.newTiles_=!1;const Ee=u?Cu(n.center,A,u,e.size):void 0;for(let ie=k.minX;ie<=k.maxX;++ie)for(let ae=k.minY;ae<=k.maxY;++ae){if(u&&!_.tileCoordIntersectsViewport([m,ie,ae],Ee))continue;const se=this.getTile(m,ie,ae,e);if(this.isDrawableTile(se)){const oe=Pr(this);if(se.getState()==ot.LOADED){W[m][se.tileCoord.toString()]=se;let _e=se.inTransition(oe);_e&&i.opacity!==1&&(se.endTransition(oe),_e=!1),!this.newTiles_&&(_e||!this.renderedTiles.includes(se))&&(this.newTiles_=!0)}if(se.getAlpha(oe,e.time)===1)continue}const he=_.getTileCoordChildTileRange(se.tileCoord,J,$);let Ne=!1;he&&(Ne=z(m+1,he)),Ne||_.forEachTileCoordParentTileRange(se.tileCoord,z,J,$)}const pe=v/l*f/w;Su(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,u,-E/2,-S/2);const L=Dh(this.pixelTransform);this.useContainer(r,L,this.getBackground(e));const B=this.context,j=B.canvas;kh(this.inversePixelTransform,this.pixelTransform),Su(this.tempTransform,E/2,S/2,pe,pe,0,-E/2,-S/2),j.width!=E||j.height!=S?(j.width=E,j.height=S):this.containerReused||B.clearRect(0,0,E,S),Q&&this.clipUnrotated(B,e,Q),h.getInterpolate()||(B.imageSmoothingEnabled=!1),this.preRender(B,e),this.renderedTiles.length=0;let V=Object.keys(W).map(Number);V.sort(Bh);let q,ne,X;i.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?V=V.reverse():(q=[],ne=[]);for(let ie=V.length-1;ie>=0;--ie){const ae=V[ie],se=h.getTilePixelSize(ae,f,s),Ne=_.getResolution(ae)/v,oe=se[0]*Ne*pe,_e=se[1]*Ne*pe,Re=_.getTileCoordForCoordAndZ(fo(O),ae),Xe=_.getTileCoordExtent(Re),Oe=Eu(this.tempTransform,[w*(Xe[0]-O[0])/v,w*(O[3]-Xe[3])/v]),Se=w*h.getGutterForProjection(s),yt=W[ae];for(const ft in yt){const ve=yt[ft],Y=ve.tileCoord,te=Re[1]-Y[1],Fe=Math.round(Oe[0]-(te-1)*oe),fe=Re[2]-Y[2],rt=Math.round(Oe[1]-(fe-1)*_e),be=Math.round(Oe[0]-te*oe),re=Math.round(Oe[1]-fe*_e),ce=Fe-be,xe=rt-re,Ye=m===ae,je=Ye&&ve.getAlpha(Pr(this),e.time)!==1;let ht=!1;if(!je)if(q){X=[be,re,be+ce,re,be+ce,re+xe,be,re+xe];for(let ct=0,er=q.length;ct<er;++ct)if(m!==ae&&ae<ne[ct]){const _t=q[ct];Pc([be,re,be+ce,re+xe],[_t[0],_t[3],_t[4],_t[7]])&&(ht||(B.save(),ht=!0),B.beginPath(),B.moveTo(X[0],X[1]),B.lineTo(X[2],X[3]),B.lineTo(X[4],X[5]),B.lineTo(X[6],X[7]),B.moveTo(_t[6],_t[7]),B.lineTo(_t[4],_t[5]),B.lineTo(_t[2],_t[3]),B.lineTo(_t[0],_t[1]),B.clip())}q.push(X),ne.push(ae)}else B.clearRect(be,re,ce,xe);this.drawTileImage(ve,e,be,re,ce,xe,Se,Ye),q&&!je?(ht&&B.restore(),this.renderedTiles.unshift(ve)):this.renderedTiles.push(ve),this.updateUsedTiles(e.usedTiles,h,ve)}}return this.renderedRevision=p,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Nh(this.renderedExtent_,O),this.renderedExtent_=O,this.renderedPixelRatio=f,this.renderedProjection=s,this.manageTilePyramid(e,h,_,f,s,y,m,d.getPreload()),this.scheduleExpireCache(e,h),this.postRender(B,e),i.extent&&B.restore(),B.imageSmoothingEnabled=!0,L!==j.style.transform&&(j.style.transform=L),this.container}drawTileImage(e,r,i,n,s,l,a,u){const f=this.getTileImage(e);if(!f)return;const d=Pr(this),h=r.layerStatesArray[r.layerIndex],p=h.opacity*(u?e.getAlpha(d,r.time):1),_=p!==this.context.globalAlpha;_&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(f,a,a,f.width-2*a,f.height-2*a,i,n,s,l),_&&this.context.restore(),p!==h.opacity?r.animate=!0:u&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,r){if(r.canExpireCache()){const i=function(n,s,l){const a=Pr(n);a in l.usedTiles&&n.expireCache(l.viewState.projection,l.usedTiles[a])}.bind(null,r);e.postRenderFunctions.push(i)}}updateUsedTiles(e,r,i){const n=Pr(r);n in e||(e[n]={}),e[n][i.getKey()]=!0}manageTilePyramid(e,r,i,n,s,l,a,u,f){const d=Pr(r);d in e.wantedTiles||(e.wantedTiles[d]={});const h=e.wantedTiles[d],p=e.tileQueue,_=i.getMinZoom(),m=e.viewState.rotation,v=m?Cu(e.viewState.center,e.viewState.resolution,m,e.size):void 0;let y=0,A,w,E,S,Q,M;for(M=_;M<=a;++M)for(w=i.getTileRangeForExtentAndZ(l,M,w),E=i.getResolution(M),S=w.minX;S<=w.maxX;++S)for(Q=w.minY;Q<=w.maxY;++Q)m&&!i.tileCoordIntersectsViewport([M,S,Q],v)||(a-M<=u?(++y,A=r.getTile(M,S,Q,n,s),A.getState()==ot.IDLE&&(h[A.getKey()]=!0,p.isKeyQueued(A.getKey())||p.enqueue([A,d,i.getTileCoordCenter(A.tileCoord),E])),f!==void 0&&f(A)):r.useTile(M,S,Q,s));r.updateCacheSize(y,s)}}var Fv=Pv;class Rv extends Ov{constructor(e){super(e)}createRenderer(){return new Fv(this)}}var ai=Rv;class Pf{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,r){if(r){let i=r.dataProjection?dr(r.dataProjection):this.readProjection(e);r.extent&&i&&i.getUnits()==="tile-pixels"&&(i=dr(i),i.setWorldExtent(r.extent)),r={dataProjection:i,featureProjection:r.featureProjection}}return this.adaptOptions(r)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Xt()}readFeature(e,r){return Xt()}readFeatures(e,r){return Xt()}readGeometry(e,r){return Xt()}readProjection(e){return Xt()}writeFeature(e,r){return Xt()}writeFeatures(e,r){return Xt()}writeGeometry(e,r){return Xt()}}function li(t,e,r){const i=r?dr(r.featureProjection):null,n=r?dr(r.dataProjection):null;let s;if(i&&n&&!Ti(i,n)?s=(e?t.clone():t).transform(e?i:n,e?n:i):s=t,e&&r&&r.decimals!==void 0){const l=Math.pow(10,r.decimals),a=function(u){for(let f=0,d=u.length;f<d;++f)u[f]=Math.round(u[f]*l)/l;return u};s===t&&(s=t.clone()),s.applyTransform(a)}return s}class to extends al{constructor(e,r,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,r);else if(r!==void 0&&i)this.setFlatCoordinates(r,e),this.ends_=i;else{let n=this.getLayout();const s=e,l=[],a=[];for(let u=0,f=s.length;u<f;++u){const d=s[u];u===0&&(n=d.getLayout()),Fi(l,d.getFlatCoordinates()),a.push(l.length)}this.setFlatCoordinates(n,l),this.ends_=a}}appendLineString(e){this.flatCoordinates?Fi(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new to(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,r,i,n){return n<po(this.getExtent(),e,r)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jh(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uh(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,r,i,n))}getCoordinateAtM(e,r,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(r=r!==void 0?r:!1,i=i!==void 0?i:!1,Qh(this.flatCoordinates,0,this.ends_,this.stride,e,r,i))}getCoordinates(){return Gh(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Vs(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,r=this.ends_,i=this.layout,n=[];let s=0;for(let l=0,a=r.length;l<a;++l){const u=r[l],f=new Vs(e.slice(s,u),i);n.push(f),s=u}return n}getFlatMidpoints(){const e=[],r=this.flatCoordinates;let i=0;const n=this.ends_,s=this.stride;for(let l=0,a=n.length;l<a;++l){const u=n[l],f=zh(r,i,u,s,.5);Fi(e,f),i=u}return e}getSimplifiedGeometryInternal(e){const r=[],i=[];return r.length=$h(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,i),new to(r,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return Hh(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,r){this.setLayout(r,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Wh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}var Ff=to;class Tl extends al{constructor(e,r){super(),r&&!Array.isArray(e[0])?this.setFlatCoordinates(r,e):this.setCoordinates(e,r)}appendPoint(e){this.flatCoordinates?Fi(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Tl(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,r,i,n){if(n<po(this.getExtent(),e,r))return n;const s=this.flatCoordinates,l=this.stride;for(let a=0,u=s.length;a<u;a+=l){const f=qh(e,r,s[a],s[a+1]);if(f<n){n=f;for(let d=0;d<l;++d)i[d]=s[a+d];i.length=l}}return n}getCoordinates(){return Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||r<=e?null:new ni(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,r=this.layout,i=this.stride,n=[];for(let s=0,l=e.length;s<l;s+=i){const a=new ni(e.slice(s,s+i),r);n.push(a)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const r=this.flatCoordinates,i=this.stride;for(let n=0,s=r.length;n<s;n+=i){const l=r[n],a=r[n+1];if(Yh(e,l,a))return!0}return!1}setCoordinates(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Kh(this.flatCoordinates,0,e,this.stride),this.changed()}}var Rf=Tl;function Mv(t,e,r,i){const n=[];let s=ho();for(let l=0,a=r.length;l<a;++l){const u=r[l];s=Zh(t,e,u[0],i),n.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=u[u.length-1]}return n}class ro extends al{constructor(e,r,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let n=this.getLayout();const s=e,l=[],a=[];for(let u=0,f=s.length;u<f;++u){const d=s[u];u===0&&(n=d.getLayout());const h=l.length,p=d.getEnds();for(let _=0,m=p.length;_<m;++_)p[_]+=h;Fi(l,d.getFlatCoordinates()),a.push(p)}r=n,e=l,i=a}r!==void 0&&i?(this.setFlatCoordinates(r,e),this.endss_=i):this.setCoordinates(e,r)}appendPolygon(e){let r;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),r=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Fi(this.flatCoordinates,e.getFlatCoordinates()),r=e.getEnds().slice();for(let n=0,s=r.length;n<s;++n)r[n]+=i}this.endss_.push(r),this.changed()}clone(){const e=this.endss_.length,r=new Array(e);for(let n=0;n<e;++n)r[n]=this.endss_[n].slice();const i=new ro(this.flatCoordinates.slice(),this.layout,r);return i.applyProperties(this),i}closestPointXY(e,r,i,n){return n<po(this.getExtent(),e,r)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vh(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jh(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,r,i,n))}containsXY(e,r){return ep(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,r)}getArea(){return tp(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let r;return e!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Iu(r,0,this.endss_,this.stride,e)):r=this.flatCoordinates,rp(r,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Mv(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ip(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Rf(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;np(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Iu(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const r=[],i=[];return r.length=sp(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,i),new ro(r,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let r;if(e===0)r=0;else{const s=this.endss_[e-1];r=s[s.length-1]}const i=this.endss_[e].slice(),n=i[i.length-1];if(r!==0)for(let s=0,l=i.length;s<l;++s)i[s]-=r;return new Ma(this.flatCoordinates.slice(r,n),this.layout,i)}getPolygons(){const e=this.layout,r=this.flatCoordinates,i=this.endss_,n=[];let s=0;for(let l=0,a=i.length;l<a;++l){const u=i[l].slice(),f=u[u.length-1];if(s!==0)for(let h=0,p=u.length;h<p;++h)u[h]-=s;const d=new Ma(r.slice(s,f),e,u);n.push(d),s=f}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return op(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,r){this.setLayout(r,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=ap(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const n=i[i.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}}var Lv=ro;class io extends lp{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Fa),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(!!this.geometries_)for(let e=0,r=this.geometries_.length;e<r;++e)this.changeEventsKeys_.push(Mc(this.geometries_[e],sl.CHANGE,this.changed,this))}clone(){const e=new io(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,r,i,n){if(n<po(this.getExtent(),e,r))return n;const s=this.geometries_;for(let l=0,a=s.length;l<a;++l)n=s[l].closestPointXY(e,r,i,n);return n}containsXY(e,r){const i=this.geometries_;for(let n=0,s=i.length;n<s;++n)if(i[n].containsXY(e,r))return!0;return!1}computeExtent(e){up(e);const r=this.geometries_;for(let i=0,n=r.length;i<n;++i)Fc(e,r[i].getExtent());return e}getGeometries(){return hc(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const r=this.geometries_;for(let i=0,n=r.length;i<n;++i)r[i].getType()===this.getType()?e=e.concat(r[i].getGeometriesArrayRecursive()):e.push(r[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const r=[],i=this.geometries_;let n=!1;for(let s=0,l=i.length;s<l;++s){const a=i[s],u=a.getSimplifiedGeometry(e);r.push(u),u!==a&&(n=!0)}if(n){const s=new io(null);return s.setGeometriesArray(r),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const r=this.geometries_;for(let i=0,n=r.length;i<n;++i)if(r[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,r){const i=this.geometries_;for(let n=0,s=i.length;n<s;++n)i[n].rotate(e,r);this.changed()}scale(e,r,i){i||(i=Rc(this.getExtent()));const n=this.geometries_;for(let s=0,l=n.length;s<l;++s)n[s].scale(e,r,i);this.changed()}setGeometries(e){this.setGeometriesArray(hc(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const r=this.geometries_;for(let i=0,n=r.length;i<n;++i)r[i].applyTransform(e);this.changed()}translate(e,r){const i=this.geometries_;for(let n=0,s=i.length;n<s;++n)i[n].translate(e,r);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function hc(t){const e=[];for(let r=0,i=t.length;r<i;++r)e.push(t[r].clone());return e}var Dv=io;class kv extends Pf{constructor(){super()}getType(){return"json"}readFeature(e,r){return this.readFeatureFromObject(Ms(e),this.getReadOptions(e,r))}readFeatures(e,r){return this.readFeaturesFromObject(Ms(e),this.getReadOptions(e,r))}readFeatureFromObject(e,r){return Xt()}readFeaturesFromObject(e,r){return Xt()}readGeometry(e,r){return this.readGeometryFromObject(Ms(e),this.getReadOptions(e,r))}readGeometryFromObject(e,r){return Xt()}readProjection(e){return this.readProjectionFromObject(Ms(e))}readProjectionFromObject(e){return Xt()}writeFeature(e,r){return JSON.stringify(this.writeFeatureObject(e,r))}writeFeatureObject(e,r){return Xt()}writeFeatures(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))}writeFeaturesObject(e,r){return Xt()}writeGeometry(e,r){return JSON.stringify(this.writeGeometryObject(e,r))}writeGeometryObject(e,r){return Xt()}}function Ms(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}var Bv=kv;class Nv extends Bv{constructor(e){e=e||{},super(),this.dataProjection=dr(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=dr(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,r){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const n=Ya(i.geometry,r),s=new $r;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(n),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(e,r){const i=e;let n=null;if(i.type==="FeatureCollection"){const s=e;n=[];const l=s.features;for(let a=0,u=l.length;a<u;++a)n.push(this.readFeatureFromObject(l[a],r))}else n=[this.readFeatureFromObject(e,r)];return n}readGeometryFromObject(e,r){return Ya(e,r)}readProjectionFromObject(e){const r=e.crs;let i;return r?r.type=="name"?i=dr(r.properties.name):r.type==="EPSG"?i=dr("EPSG:"+r.properties.code):Ur(!1,36):i=this.dataProjection,i}writeFeatureObject(e,r){r=this.adaptOptions(r);const i={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(i.id=n),!e.hasProperties())return i;const s=e.getProperties(),l=e.getGeometry();return l&&(i.geometry=Ka(l,r),delete s[e.getGeometryName()]),cp(s)||(i.properties=s),i}writeFeaturesObject(e,r){r=this.adaptOptions(r);const i=[];for(let n=0,s=e.length;n<s;++n)i.push(this.writeFeatureObject(e[n],r));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,r){return Ka(e,this.adaptOptions(r))}}function Ya(t,e){if(!t)return null;let r;switch(t.type){case"Point":{r=Uv(t);break}case"LineString":{r=Qv(t);break}case"Polygon":{r=Hv(t);break}case"MultiPoint":{r=zv(t);break}case"MultiLineString":{r=Gv(t);break}case"MultiPolygon":{r=$v(t);break}case"GeometryCollection":{r=jv(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return li(r,!1,e)}function jv(t,e){const r=t.geometries.map(function(i){return Ya(i,e)});return new Dv(r)}function Uv(t){return new ni(t.coordinates)}function Qv(t){return new Vs(t.coordinates)}function Gv(t){return new Ff(t.coordinates)}function zv(t){return new Rf(t.coordinates)}function $v(t){return new Lv(t.coordinates)}function Hv(t){return new Ma(t.coordinates)}function Ka(t,e){t=li(t,!0,e);const r=t.getType();let i;switch(r){case"Point":{i=Zv(t);break}case"LineString":{i=qv(t);break}case"Polygon":{i=Vv(t,e);break}case"MultiPoint":{i=Yv(t);break}case"MultiLineString":{i=Xv(t);break}case"MultiPolygon":{i=Kv(t,e);break}case"GeometryCollection":{i=Wv(t,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+r)}return i}function Wv(t,e){e=Object.assign({},e),delete e.featureProjection;const r=t.getGeometriesArray().map(function(i){return Ka(i,e)});return{type:"GeometryCollection",geometries:r}}function qv(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function Xv(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function Yv(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function Kv(t,e){let r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}function Zv(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function Vv(t,e){let r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}var xr=Nv;const ga="units",Jv=[1,2,5],Dn=25.4/.28;class ey extends fp{constructor(e){e=e||{};const r=document.createElement("div");r.style.pointerEvents="none",super({element:r,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+dp,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(ga,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(ga)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(ga,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const r=e.center,i=e.projection,n=this.getUnits(),s=n=="degrees"?"degrees":"m";let l=Zs(i,e.resolution,r,s);const a=this.minWidth_*(this.dpi_||Dn)/Dn,u=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Dn)/Dn:void 0;let f=a*l,d="";if(n=="degrees"){const E=Bc.degrees;f*=E,f<E/60?(d="\u2033",l*=3600):f<E?(d="\u2032",l*=60):d="\xB0"}else n=="imperial"?f<.9144?(d="in",l/=.0254):f<1609.344?(d="ft",l/=.3048):(d="mi",l/=1609.344):n=="nautical"?(l/=1852,d="NM"):n=="metric"?f<.001?(d="\u03BCm",l*=1e6):f<1?(d="mm",l*=1e3):f<1e3?d="m":(d="km",l/=1e3):n=="us"?f<.9144?(d="in",l*=39.37):f<1609.344?(d="ft",l/=.30480061):(d="mi",l/=1609.3472):Ur(!1,33);let h=3*Math.floor(Math.log(a*l)/Math.log(10)),p,_,m,v,y,A;for(;;){m=Math.floor(h/3);const E=Math.pow(10,m);if(p=Jv[(h%3+3)%3]*E,_=Math.round(p/l),isNaN(_)){this.element.style.display="none",this.renderedVisible_=!1;return}if(u!==void 0&&_>=u){p=v,_=y,m=A;break}else if(_>=a)break;v=p,y=_,A=m,++h}const w=this.scaleBar_?this.createScaleBar(_,p,d):p.toFixed(m<0?-m:0)+" "+d;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=_&&(this.innerElement_.style.width=_+"px",this.renderedWidth_=_),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,r,i){const n=this.getScaleForResolution(),s=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),l=this.scaleBarSteps_,a=e/l,u=[this.createMarker("absolute")];for(let d=0;d<l;++d){const h=d%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";u.push(`<div><div class="ol-scale-singlebar ${h}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(d%2===0||l===2?this.createStepText(d,e,!1,r,i):"")+"</div>")}return u.push(this.createStepText(l,e,!0,r,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+u.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,r,i,n,s){const a=(e===0?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+s),u=e===0?-3:r/this.scaleBarSteps_*-1,f=e===0?0:r/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${u}px;text-align: ${e===0?"left":"center"};min-width: ${f}px;left: ${i?r+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){const e=Zs(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),r=this.dpi_||Dn,i=1e3/25.4;return e*i*r}render(e){const r=e.frameState;r?this.viewState_=r.viewState:this.viewState_=null,this.updateElement_()}}var Ol=ey;const pc="http://www.w3.org/2001/XMLSchema-instance";function Pl(t,e){return Zn().createElementNS(t,e)}function Ao(t,e){return Mf(t,e,[]).join("")}function Mf(t,e,r){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{let i;for(i=t.firstChild;i;i=i.nextSibling)Mf(i,e,r)}return r}function Ls(t){return"documentElement"in t}function Ds(t){return new DOMParser().parseFromString(t,"application/xml")}function ma(t,e){return function(r,i){const n=t.call(e!==void 0?e:this,r,i);n!==void 0&&i[i.length-1].push(n)}}function Je(t,e,r){return function(i,n){const s=t.call(r!==void 0?r:this,i,n);if(s!==void 0){const l=n[n.length-1],a=e!==void 0?e:i.localName;l[a]=s}}}function He(t,e){return function(r,i,n){t.call(e!==void 0?e:this,r,i,n),n[n.length-1].node.appendChild(r)}}function Lf(t,e){let r,i;return function(n,s,l){if(r===void 0){r={};const a={};a[n.localName]=t,r[n.namespaceURI]=a,i=Fl(n.localName)}Df(r,i,s,l)}}function Fl(t,e){return function(r,i,n){const l=i[i.length-1].node;let a=t;a===void 0&&(a=n);const u=e!==void 0?e:l.namespaceURI;return Pl(u,a)}}const bo=Fl();function Rl(t,e){const r=e.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=t[e[n]];return i}function jt(t,e,r){r=r!==void 0?r:{};let i,n;for(i=0,n=t.length;i<n;++i)r[t[i]]=e;return r}function Ml(t,e,r,i){let n;for(n=e.firstElementChild;n;n=n.nextElementSibling){const s=t[n.namespaceURI];if(s!==void 0){const l=s[n.localName];l!==void 0&&l.call(i,n,r)}}}function hn(t,e,r,i,n){return i.push(t),Ml(e,r,i,n),i.pop()}function Df(t,e,r,i,n,s){const l=(n!==void 0?n:r).length;let a,u;for(let f=0;f<l;++f)a=r[f],a!==void 0&&(u=e.call(s!==void 0?s:this,a,i,n!==void 0?n[f]:void 0),u!==void 0&&t[u.namespaceURI][u.localName].call(s,u,a,i))}function pn(t,e,r,i,n,s,l){return n.push(t),Df(e,r,i,n,s,l),n.pop()}let va;function ty(){return va===void 0&&typeof XMLSerializer!="undefined"&&(va=new XMLSerializer),va}let ya;function Zn(){return ya===void 0&&typeof document!="undefined"&&(ya=document.implementation.createDocument("","",null)),ya}class ry extends Pf{constructor(){super(),this.xmlSerializer_=ty()}getType(){return"xml"}readFeature(e,r){if(!e)return null;if(typeof e=="string"){const i=Ds(e);return this.readFeatureFromDocument(i,r)}return Ls(e)?this.readFeatureFromDocument(e,r):this.readFeatureFromNode(e,r)}readFeatureFromDocument(e,r){const i=this.readFeaturesFromDocument(e,r);return i.length>0?i[0]:null}readFeatureFromNode(e,r){return null}readFeatures(e,r){if(!e)return[];if(typeof e=="string"){const i=Ds(e);return this.readFeaturesFromDocument(i,r)}return Ls(e)?this.readFeaturesFromDocument(e,r):this.readFeaturesFromNode(e,r)}readFeaturesFromDocument(e,r){const i=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Fi(i,this.readFeaturesFromNode(n,r));return i}readFeaturesFromNode(e,r){return Xt()}readGeometry(e,r){if(!e)return null;if(typeof e=="string"){const i=Ds(e);return this.readGeometryFromDocument(i,r)}return Ls(e)?this.readGeometryFromDocument(e,r):this.readGeometryFromNode(e,r)}readGeometryFromDocument(e,r){return null}readGeometryFromNode(e,r){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){const r=Ds(e);return this.readProjectionFromDocument(r)}return Ls(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,r){const i=this.writeFeatureNode(e,r);return this.xmlSerializer_.serializeToString(i)}writeFeatureNode(e,r){return null}writeFeatures(e,r){const i=this.writeFeaturesNode(e,r);return this.xmlSerializer_.serializeToString(i)}writeFeaturesNode(e,r){return null}writeGeometry(e,r){const i=this.writeGeometryNode(e,r);return this.xmlSerializer_.serializeToString(i)}writeGeometryNode(e,r){return null}}var iy=ry;function Ll(t){const e=Ao(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function jr(t){const e=Ao(t,!1);return ny(e)}function ny(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function no(t){const e=Ao(t,!1);return sy(e)}function sy(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function Lt(t){return Ao(t,!1).trim()}function oy(t,e){const r=new Date(e*1e3),i=r.getUTCFullYear()+"-"+Ln(r.getUTCMonth()+1,2)+"-"+Ln(r.getUTCDate(),2)+"T"+Ln(r.getUTCHours(),2)+":"+Ln(r.getUTCMinutes(),2)+":"+Ln(r.getUTCSeconds(),2)+"Z";t.appendChild(Zn().createTextNode(i))}function xi(t,e){const r=e.toPrecision();t.appendChild(Zn().createTextNode(r))}function so(t,e){const r=e.toString();t.appendChild(Zn().createTextNode(r))}function Dt(t,e){t.appendChild(Zn().createTextNode(e))}const Rt=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],ay="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",ly={rte:kf,trk:Bf,wpt:Nf},uy=jt(Rt,{rte:ma(kf),trk:ma(Bf),wpt:ma(Nf)}),cy=jt(Rt,{text:Je(Lt,"linkText"),type:Je(Lt,"linkType")}),fy=jt(Rt,{rte:He(Dy),trk:He(ky),wpt:He(Ny)});class dy extends iy{constructor(e){super(),e=e||{},this.dataProjection=dr("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let r=0,i=e.length;r<i;++r){const n=e[r];if(this.readExtensions_){const s=n.get("extensionsNode_")||null;this.readExtensions_(n,s)}n.set("extensionsNode_",void 0)}}readFeatureFromNode(e,r){if(!Rt.includes(e.namespaceURI))return null;const i=ly[e.localName];if(!i)return null;const n=i(e,[this.getReadOptions(e,r)]);return n?(this.handleReadExtensions_([n]),n):null}readFeaturesFromNode(e,r){if(!Rt.includes(e.namespaceURI))return[];if(e.localName=="gpx"){const i=hn([],uy,e,[this.getReadOptions(e,r)]);return i?(this.handleReadExtensions_(i),i):[]}return[]}writeFeaturesNode(e,r){r=this.adaptOptions(r);const i=Pl("http://www.topografix.com/GPX/1/1","gpx"),n="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(n,"xmlns:xsi",pc),i.setAttributeNS(pc,"xsi:schemaLocation",ay),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),pn({node:i},fy,Fy,e,[r]),i}}const hy=jt(Rt,{name:Je(Lt),cmt:Je(Lt),desc:Je(Lt),src:Je(Lt),link:Bl,number:Je(no),extensions:Nl,type:Je(Lt),rtept:Ry}),py=jt(Rt,{ele:Je(jr),time:Je(Ll)}),gy=jt(Rt,{name:Je(Lt),cmt:Je(Lt),desc:Je(Lt),src:Je(Lt),link:Bl,number:Je(no),type:Je(Lt),extensions:Nl,trkseg:Ly}),my=jt(Rt,{trkpt:My}),vy=jt(Rt,{ele:Je(jr),time:Je(Ll)}),yy=jt(Rt,{ele:Je(jr),time:Je(Ll),magvar:Je(jr),geoidheight:Je(jr),name:Je(Lt),cmt:Je(Lt),desc:Je(Lt),src:Je(Lt),link:Bl,sym:Je(Lt),type:Je(Lt),fix:Je(Lt),sat:Je(no),hdop:Je(jr),vdop:Je(jr),pdop:Je(jr),ageofdgpsdata:Je(jr),dgpsid:Je(no),extensions:Nl}),_y=["text","type"],wy=jt(Rt,{text:He(Dt),type:He(Dt)}),Ay=jt(Rt,["name","cmt","desc","src","link","number","type","rtept"]),by=jt(Rt,{name:He(Dt),cmt:He(Dt),desc:He(Dt),src:He(Dt),link:He(jl),number:He(so),type:He(Dt),rtept:Lf(He(Ul))}),Ey=jt(Rt,["ele","time"]),xy=jt(Rt,["name","cmt","desc","src","link","number","type","trkseg"]),Cy=jt(Rt,{name:He(Dt),cmt:He(Dt),desc:He(Dt),src:He(Dt),link:He(jl),number:He(so),type:He(Dt),trkseg:Lf(He(By))}),Sy=Fl("trkpt"),Iy=jt(Rt,{trkpt:He(Ul)}),Ty=jt(Rt,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),Oy=jt(Rt,{ele:He(xi),time:He(oy),magvar:He(xi),geoidheight:He(xi),name:He(Dt),cmt:He(Dt),desc:He(Dt),src:He(Dt),link:He(jl),sym:He(Dt),type:He(Dt),fix:He(Dt),sat:He(so),hdop:He(xi),vdop:He(xi),pdop:He(xi),ageofdgpsdata:He(xi),dgpsid:He(so)}),Py={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Fy(t,e,r){const i=t.getGeometry();if(i){const n=Py[i.getType()];if(n){const s=e[e.length-1].node;return Pl(s.namespaceURI,n)}}}function Dl(t,e,r,i){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function kl(t,e,r){let i="XY",n=2;if(t.hasZ&&t.hasM?(i="XYZM",n=4):t.hasZ?(i="XYZ",n=3):t.hasM&&(i="XYM",n=3),n!==4){for(let s=0,l=e.length/4;s<l;s++)e[s*n]=e[s*4],e[s*n+1]=e[s*4+1],t.hasZ&&(e[s*n+2]=e[s*4+2]),t.hasM&&(e[s*n+2]=e[s*4+3]);if(e.length=e.length/4*n,r)for(let s=0,l=r.length;s<l;s++)r[s]=r[s]/4*n}return i}function Bl(t,e){const r=e[e.length-1],i=t.getAttribute("href");i!==null&&(r.link=i),Ml(cy,t,e)}function Nl(t,e){const r=e[e.length-1];r.extensionsNode_=t}function Ry(t,e){const r=hn({},py,t,e);if(r){const i=e[e.length-1],n=i.flatCoordinates,s=i.layoutOptions;Dl(n,s,t,r)}}function My(t,e){const r=hn({},vy,t,e);if(r){const i=e[e.length-1],n=i.flatCoordinates,s=i.layoutOptions;Dl(n,s,t,r)}}function Ly(t,e){const r=e[e.length-1];Ml(my,t,e);const i=r.flatCoordinates;r.ends.push(i.length)}function kf(t,e){const r=e[0],i=hn({flatCoordinates:[],layoutOptions:{}},hy,t,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const s=i.layoutOptions;delete i.layoutOptions;const l=kl(s,n),a=new Vs(n,l);li(a,!1,r);const u=new $r(a);return u.setProperties(i,!0),u}function Bf(t,e){const r=e[0],i=hn({flatCoordinates:[],ends:[],layoutOptions:{}},gy,t,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const s=i.ends;delete i.ends;const l=i.layoutOptions;delete i.layoutOptions;const a=kl(l,n,s),u=new Ff(n,a,s);li(u,!1,r);const f=new $r(u);return f.setProperties(i,!0),f}function Nf(t,e){const r=e[0],i=hn({},yy,t,e);if(!i)return;const n={},s=Dl([],n,t,i),l=kl(n,s),a=new ni(s,l);li(a,!1,r);const u=new $r(a);return u.setProperties(i,!0),u}function jl(t,e,r){t.setAttribute("href",e);const n=r[r.length-1].properties,s=[n.linkText,n.linkType];pn({node:t},wy,bo,s,r,_y)}function Ul(t,e,r){const i=r[r.length-1],s=i.node.namespaceURI,l=i.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case"XYZM":e[3]!==0&&(l.time=e[3]);case"XYZ":e[2]!==0&&(l.ele=e[2]);break;case"XYM":e[2]!==0&&(l.time=e[2]);break}const u=t.nodeName=="rtept"?Ey[s]:Ty[s],f=Rl(l,u);pn({node:t,properties:l},Oy,bo,f,r,u)}function Dy(t,e,r){const i=r[0],n=e.getProperties(),s={node:t};s.properties=n;const l=e.getGeometry();if(l.getType()=="LineString"){const d=li(l,!0,i);s.geometryLayout=d.getLayout(),n.rtept=d.getCoordinates()}const a=r[r.length-1].node,u=Ay[a.namespaceURI],f=Rl(n,u);pn(s,by,bo,f,r,u)}function ky(t,e,r){const i=r[0],n=e.getProperties(),s={node:t};s.properties=n;const l=e.getGeometry();if(l.getType()=="MultiLineString"){const d=li(l,!0,i);n.trkseg=d.getLineStrings()}const a=r[r.length-1].node,u=xy[a.namespaceURI],f=Rl(n,u);pn(s,Cy,bo,f,r,u)}function By(t,e,r){const i={node:t};i.geometryLayout=e.getLayout(),i.properties={},pn(i,Iy,Sy,e.getCoordinates(),r)}function Ny(t,e,r){const i=r[0],n=r[r.length-1];n.properties=e.getProperties();const s=e.getGeometry();if(s.getType()=="Point"){const l=li(s,!0,i);n.geometryLayout=l.getLayout(),Ul(t,l.getCoordinates(),r)}}var Za=dy,jf=t=>{if(!window.rodnikMap.filters.spring&&t.get("type")=="Spring"||!window.rodnikMap.filters.water_well&&t.get("type")=="Water well"||!window.rodnikMap.filters.water_tap&&t.get("type")=="Water tap"||!window.rodnikMap.filters.drinking_water&&t.get("type")=="Drinking water source"||!window.rodnikMap.filters.fountain&&t.get("type")=="Fountain"||!window.rodnikMap.filters.other&&t.get("type")=="Water source"||window.rodnikMap.filters.confirmed&&!t.get("waterConfirmed")||window.rodnikMap.filters.along&&!window.rodnikMap.buffer.buffer)return!1;if(window.rodnikMap.filters.along&&window.rodnikMap.trackLayer.getSource().getFeatures().length&&window.rodnikMap.buffer.buffer){var e=t.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCoordinates(),r=pp(e);return gp(r,window.rodnikMap.buffer.buffer)}return!0};class jy{constructor(){this.clear()}clear(){this.track=Tu([]),this.trackSimplified=Tu([]),this.buffer=null}setTrack(e){this.clear(),this.track=new xr().writeFeaturesObject(window.rodnikMap.trackLayer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),this.makeSimplifiedTrack(),this.makeBuffer(),window.rodnikMap.debug&&(window.rodnikMap.trackSimplifiedLayer.getSource().setFromTurf(this.trackSimplified),window.rodnikMap.bufferLayer.getSource().setFromTurf(this.buffer))}makeSimplifiedTrack(){this.trackSimplified=Ou(this.track,{tolerance:.002,highQuality:!1,mutate:!0})}makeBuffer(){this.buffer=mp(this.trackSimplified,500,{units:"meters",steps:8}),this.buffer=Ou(this.buffer,{tolerance:5e-4,highQuality:!1,mutate:!0}),this.buffer=this.buffer.features.reduce((e,r)=>vp(e,r))}}class Ql extends ai{constructor(){super({source:new Iv,zIndex:1})}}class Uy extends ai{constructor(){super({source:new oi({url:"https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png"}),zIndex:1})}}class Qy extends ai{constructor(){super({source:new oi({url:"https://mapserver.mapy.cz/turist-m/retina/{z}-{x}-{y}",tilePixelRatio:2}),zIndex:1})}}class Gy extends ai{constructor(){super({source:new oi({url:"https://{a-c}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png"}),zIndex:1})}}class zy extends ai{constructor(){super({source:new oi({url:"https://mt0.google.com/vt/lyrs=p&hl=en&x={x}&y={y}&z={z}"}),zIndex:1})}}class $y extends ai{constructor(){super({source:new oi({url:"https://mt{0-3}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"}),zIndex:1})}}let Hy=12,Wy=1,qy=new Nt({image:new ir({radius:Hy,fill:new nr({color:[51,169,255,.125]}),stroke:new hr({color:"#33A9FF",width:Wy,lineDash:[6]})})}),Xy=new Nt({}),Yy=new Nt({image:new ir({radius:12,fill:new nr({color:[51,169,255,.1]}),stroke:new hr({color:"#33A9FF",width:1})}),zIndex:5});window.color=[255,102,51,1];let Ky=new Nt({image:new ir({radius:12,fill:new nr({color:[255,211,0,.25]}),stroke:new hr({color:window.color,width:1})}),zIndex:10});var zn=(t,e)=>jf(t)?t.get("hasReports")>0?Ky:t.get("intermittent")=="yes"?qy:Yy:Xy,Uf={exports:{}};(function(t,e){var r=function(){var i={},n=Math.PI/180,s=180/Math.PI,l=6378137,a=20037508342789244e-9;function u(d){return Number(d)===d&&d%1!==0}function f(d){if(d=d||{},this.size=d.size||256,this.expansion=d.antimeridian===!0?2:1,!i[this.size]){var h=this.size,p=i[this.size]={};p.Bc=[],p.Cc=[],p.zc=[],p.Ac=[];for(var _=0;_<30;_++)p.Bc.push(h/360),p.Cc.push(h/(2*Math.PI)),p.zc.push(h/2),p.Ac.push(h),h*=2}this.Bc=i[this.size].Bc,this.Cc=i[this.size].Cc,this.zc=i[this.size].zc,this.Ac=i[this.size].Ac}return f.prototype.px=function(d,h){if(u(h)){var p=this.size*Math.pow(2,h),_=p/2,m=p/360,v=p/(2*Math.PI),y=p,A=Math.min(Math.max(Math.sin(n*d[1]),-.9999),.9999),w=_+d[0]*m,E=_+.5*Math.log((1+A)/(1-A))*-v;return w>y*this.expansion&&(w=y*this.expansion),E>y&&(E=y),[w,E]}else{var _=this.zc[h],A=Math.min(Math.max(Math.sin(n*d[1]),-.9999),.9999),w=Math.round(_+d[0]*this.Bc[h]),E=Math.round(_+.5*Math.log((1+A)/(1-A))*-this.Cc[h]);return w>this.Ac[h]*this.expansion&&(w=this.Ac[h]*this.expansion),E>this.Ac[h]&&(E=this.Ac[h]),[w,E]}},f.prototype.ll=function(d,h){if(u(h)){var p=this.size*Math.pow(2,h),_=p/360,m=p/(2*Math.PI),v=p/2,y=(d[1]-v)/-m,A=(d[0]-v)/_,w=s*(2*Math.atan(Math.exp(y))-.5*Math.PI);return[A,w]}else{var y=(d[1]-this.zc[h])/-this.Cc[h],A=(d[0]-this.zc[h])/this.Bc[h],w=s*(2*Math.atan(Math.exp(y))-.5*Math.PI);return[A,w]}},f.prototype.bbox=function(d,h,p,_,m){_&&(h=Math.pow(2,p)-1-h);var v=[d*this.size,(+h+1)*this.size],y=[(+d+1)*this.size,h*this.size],A=this.ll(v,p).concat(this.ll(y,p));return m==="900913"?this.convert(A,"900913"):A},f.prototype.xyz=function(d,h,p,_){_==="900913"&&(d=this.convert(d,"WGS84"));var m=[d[0],d[1]],v=[d[2],d[3]],y=this.px(m,h),A=this.px(v,h),w=[Math.floor(y[0]/this.size),Math.floor((A[0]-1)/this.size)],E=[Math.floor(A[1]/this.size),Math.floor((y[1]-1)/this.size)],S={minX:Math.min.apply(Math,w)<0?0:Math.min.apply(Math,w),minY:Math.min.apply(Math,E)<0?0:Math.min.apply(Math,E),maxX:Math.max.apply(Math,w),maxY:Math.max.apply(Math,E)};if(p){var Q={minY:Math.pow(2,h)-1-S.maxY,maxY:Math.pow(2,h)-1-S.minY};S.minY=Q.minY,S.maxY=Q.maxY}return S},f.prototype.convert=function(d,h){return h==="900913"?this.forward(d.slice(0,2)).concat(this.forward(d.slice(2,4))):this.inverse(d.slice(0,2)).concat(this.inverse(d.slice(2,4)))},f.prototype.forward=function(d){var h=[l*d[0]*n,l*Math.log(Math.tan(Math.PI*.25+.5*d[1]*n))];return h[0]>a&&(h[0]=a),h[0]<-a&&(h[0]=-a),h[1]>a&&(h[1]=a),h[1]<-a&&(h[1]=-a),h},f.prototype.inverse=function(d){return[d[0]*s/l,(Math.PI*.5-2*Math.atan(Math.exp(-d[1]/l)))*s]},f}();t.exports=r})(Uf);var gn=Uf.exports;let Zy=new gn({antimeridian:!1}),gc=8;class mc extends pr{constructor(){super({format:new xr,strategy:ll(wo({maxZoom:8,minZoom:8})),url:(e,r,i)=>{let n=Ri([e[0],e[1]]),s=Ri([e[2],e[3]]),l=Zy.xyz([n[0],n[1],s[0],s[1]],gc);return"/tiles/"+gc+"/"+l.minX+"/"+l.minY+".json"}}),this.on("featuresloadend",e=>{window.rodnikMap.featuresLoadEnd()})}}new gn({antimeridian:!1});class vc extends Cr{constructor(){super({minZoom:9,style:zn,zIndex:500,opacity:.8})}updateStyle(){this.setStyle(zn)}}let Vy=new Nt({image:new ir({radius:30,fill:new nr({color:[51,169,255,.33]})})}),Jy=new Nt({image:new ir({radius:20,fill:new nr({color:[255,180,0,.5]})})});var Qf=(t,e)=>t.get("hasReports")>0?Jy:Vy,e_=new gn({antimeridian:!1}),ks=5;class t_ extends Cr{constructor(){super({minZoom:6,maxZoom:9,source:new pr({format:new xr,strategy:ll(wo({maxZoom:ks,minZoom:ks})),url:(e,r,i)=>{let n=Ri([e[0],e[1]]),s=Ri([e[2],e[3]]),l=e_.xyz([n[0],n[1],s[0],s[1]],ks);return"/tiles/"+ks+"/"+l.minX+"/"+l.minY+".json"}}),style:Qf,zIndex:300,opacity:.6})}}let r_=new Nt({image:new ir({radius:40,fill:new nr({color:[51,169,255,.33]})})}),i_=new Nt({image:new ir({radius:30,fill:new nr({color:[255,180,0,.5]})})});var Gf=(t,e)=>t.get("hasReports")>0?i_:r_;new gn({antimeridian:!1});class n_ extends Cr{constructor(){super({minZoom:0,maxZoom:6,source:new pr({format:new xr,url:"/tiles/0/0/0.json"}),style:Gf,zIndex:100,opacity:.6})}}var s_=new gn({antimeridian:!1}),Bs=5;class o_ extends Cr{constructor(){super({minZoom:6,maxZoom:9,source:new pr({format:new xr,strategy:ll(wo({maxZoom:Bs,minZoom:Bs})),url:(e,r,i)=>{let n=Ri([e[0],e[1]]),s=Ri([e[2],e[3]]),l=s_.xyz([n[0],n[1],s[0],s[1]],Bs);return"/watered-tiles/"+Bs+"/"+l.minX+"/"+l.minY+".json"}}),style:Qf,zIndex:400,opacity:.6})}}new gn({antimeridian:!1});class a_ extends Cr{constructor(){super({minZoom:0,maxZoom:6,source:new pr({format:new xr,url:"/watered-tiles/0/0/0.json"}),style:Gf,zIndex:200,opacity:.6})}}var l_=new Nt({stroke:new hr({color:"#ff0000",width:2}),image:new ir({radius:3,fill:new nr({color:"#ff0000"})})});class u_ extends pr{constructor(){super({format:new Za})}setFromGPXString(e){this.clear();const r=this.createFeatures(e);r.length?(this.addFeatures(r),window.rodnikMap.buffer.setTrack(r)):alert("Please upload a GPX file")}createFeatures(e){return new Za().readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}}class c_ extends Cr{constructor(){super({style:l_,source:new u_,zIndex:400})}}var f_=new Nt({fill:new nr({color:"rgba(0, 0, 255, 0.5)"})});class d_ extends pr{constructor(){super({format:new xr})}setFromTurf(e){this.clear();const r=this.createFeatures(e);r.length&&this.addFeatures(r)}createFeatures(e){return new xr().readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}}class h_ extends Cr{constructor(){super({style:f_,source:new d_,zIndex:300})}}var p_=new Nt({stroke:new hr({color:"#0000ff",width:2})});class g_ extends pr{constructor(){super({format:new xr})}setFromTurf(e){this.clear();const r=this.createFeatures(e);r.length&&this.addFeatures(r)}createFeatures(e){return new xr().readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}}class m_ extends Cr{constructor(){super({style:p_,source:new g_,zIndex:300})}}class v_ extends ai{constructor(){super({source:new oi({maxZoom:12,url:"https://heatmap-external-{a-c}.strava.com/tiles/all/hot/{z}/{x}/{y}.png?px=256"}),zIndex:10})}}class y_ extends ai{constructor(){super({source:new oi({url:"https://gps-{a-c}.tile.openstreetmap.org/lines/{z}/{x}/{y}.png"}),zIndex:10})}}let zf=12,__=1;new Nt({image:new ir({radius:zf,fill:new nr({color:[67,191,225,.125]}),stroke:new hr({color:"#67BFFF",width:__,lineDash:[6]})})});let w_=new Nt({image:new ir({radius:zf,fill:new nr({color:[255,255,255,0]}),stroke:new hr({color:"#cc0000",width:2})})});function A_(){let t=parseFloat(localStorage.getItem("centerLatitude")),e=parseFloat(localStorage.getItem("centerLongitude"));return isNaN(e)||isNaN(t)?Gr([19.748,49.213]):[e,t]}function b_(){let t=parseFloat(localStorage.getItem("zoom"));return isNaN(t)?3:t}function $f(){let t=localStorage.getItem("source");return t||"osm"}function yc(t){localStorage.setItem("centerLongitude",t[0]),localStorage.setItem("centerLatitude",t[1])}function _a(t){localStorage.setItem("zoom",t)}function E_(t){localStorage.setItem("source",t)}class x_ extends Cr{constructor(e,r){super({source:new pr({features:[e,r]}),zIndex:1e3})}}class C_ extends pr{constructor(){super({format:new xr}),this.userId=null,this.on("featuresloadend",e=>{window.rodnikMap.featuresLoadEnd()})}getUser(){return this.userId}setUser(e){this.userId=e;const r="/users/"+parseInt(e)+"/springs.json";this.getUrl()!==r&&(this.setUrl(r),this.refresh())}}class S_{constructor(e){this.debug=!1,this.finalZoom=9,this.approximatedZoom=6,this.elementId=e,this.filters=Alpine.reactive({all:!0,spring:!0,water_well:!0,water_tap:!0,drinking_water:!0,fountain:!0,other:!0,confirmed:!1,along:!1}),this.overlays={stravaPublic:!1,osmTraces:!1},this.currentOverlays={...this.overlays},this.osmLayer=new Ql,this.mapyLayer=new Qy,this.outdoorsLayer=new Gy,this.openTopoMapLayer=new Uy,this.googleTerrainLayer=new zy,this.googleSatelliteLayer=new $y,this.stravaPublicLayer=new v_,this.osmTracesLayer=new y_,this.currentLayer=this.osmLayer,this.springsFinalLayer=new vc,this.springsApproximatedLayer=new t_,this.springsDistantLayer=new n_,this.wateredSpringsApproximatedLayer=new o_,this.wateredSpringsDistantLayer=new a_,this.springsFinalSource=new mc,this.springsUserSource=new C_,this.trackLayer=new c_,this.bufferLayer=new h_,this.trackSimplifiedLayer=new m_,this.featureToBeSelected=null,this.selectedFeature=null,this.featureIdToBeSelected=null,this.buffer=new jy,this.locationMode=Alpine.reactive({value:!1}),this.view=new ul({center:A_(),zoom:b_(),enableRotation:!1}),this.geolocation=new hp({trackingOptions:{enableHighAccuracy:!0},projection:this.view.getProjection()}),this.scaleControl=new Ol({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new cl({controls:fl().extend([this.scaleControl]),target:this.elementId,layers:[this.wateredSpringsDistantLayer,this.wateredSpringsApproximatedLayer,this.springsDistantLayer,this.springsApproximatedLayer,this.springsFinalLayer,this.trackLayer,this.bufferLayer,this.trackSimplifiedLayer],view:this.view,moveTolerance:5}),this.source($f()),this.map.on("moveend",r=>{this.queryParameters.location&&this.mapMoved(this.getCoordinates()),yc(this.map.getView().getCenter()),_a(this.map.getView().getZoom())}),this.map.on("click",r=>{let i=this.map.getFeaturesAtPixel(r.pixel,{hitTolerance:2,layerFilter:function(n){return n instanceof vc}});i.length>0?this.selectFeature(i[0]):this.deselectFeature()}),this.map.on("pointerdrag",r=>{this.queryParameters.location&&this.mapMoved(this.getCoordinates())}),this.queryParameters=Alpine.reactive({springId:null,userId:null,location:!1,coordinates:null}),this.previousQueryParameters=JSON.parse(JSON.stringify(this.queryParameters)),Alpine.effect(()=>{this.queryParameters,this.springsSource(this.queryParameters.userId),this.queryParameters.springId>0&&!this.queryParameters.location?this.highlightFeatureById(this.queryParameters.springId):this.dehighlightFeature(),this.queryParameters.coordinates&&(this.locate(this.queryParameters.coordinates),this.queryParameters.coordinates=null)})}getCoordinates(){let e=Ri(this.view.getCenter());return e[0]=e[0].toFixed(6),e[1]=e[1].toFixed(6),e.reverse().join(", ")}enterLocationMode(){this.locationMode.value=!0,this.dehighlightFeature()}exitLocationMode(){this.locationMode.value=!1,window.dispatchEvent(new CustomEvent("location-mode-exited"))}featuresLoadEnd(){let e=this.featureIdToBeSelected;e&&(this.featureIdToBeSelected=null,this.highlightFeatureById(e)),this.queryParameters.userId&&this.queryParameters.userId!=this.previousQueryParameters.userId&&this.locateWorld()}locateMe(){this.geolocation.getPosition()?this.view.animate({center:this.geolocation.getPosition(),zoom:18,duration:250}):navigator.geolocation.getCurrentPosition(e=>{this.view.animate({center:Gr([e.coords.longitude,e.coords.latitude]),zoom:18,duration:250}),this.watchMe()},e=>{console.log(e)})}watchMe(){this.geolocation.setTracking(!0);const e=new $r;this.geolocation.on("change:accuracyGeometry",()=>{e.setGeometry(this.geolocation.getAccuracyGeometry())}),this.geolocation.on("error",function(i){console.log(i)});const r=new $r;r.setStyle(new Nt({image:new ir({radius:6,fill:new nr({color:"#000000"}),stroke:new hr({color:"#fff",width:2})})})),e.setStyle(new Nt({fill:new nr({color:[255,255,255,.5]}),stroke:new hr({color:"#00000",width:2})})),this.geolocation.on("change:position",()=>{const i=this.geolocation.getPosition();r.setGeometry(i?new ni(i):null)}),this.geolocationLayer=new x_(e,r),this.map.addLayer(this.geolocationLayer)}download(){if(this.view.getZoom()<9&&this.springsFinalLayer.getSource()instanceof mc)return alert("Please zoom in to export GPX"),!1;const e=this.map.getView().calculateExtent(this.map.getSize()),r=this.springsFinalLayer.getSource().getFeaturesInExtent(e);r.map(d=>(d.getProperties().name||d.setProperties({name:d.getProperties().type}),d));const i=r.filter(d=>jf(d)),s=new Za().writeFeatures(i,{dataProjection:"EPSG:4326",featureProjection:this.map.getView().getProjection()}),l=new Blob([`<?xml version="1.0" encoding="utf-8"?>
${s}`],{type:"application/gpx+xml;charset=utf-8;"}),a=URL.createObjectURL(l),u=new Date().toISOString().slice(0,19).replace("T","--").replaceAll(":","-"),f=document.createElement("a");f.href=a,f.download=`rodnik-${u}.gpx`,document.body.appendChild(f),f.click(),document.body.removeChild(f)}upload(e){if(e){const r=new FileReader;r.readAsText(e),r.onload=i=>{const n=i.target.result;this.trackLayer.getSource().setFromGPXString(n),this.trackLayer.getSource().getFeatures().length&&(this.view.fit(this.trackLayer.getSource().getExtent()),this.view.setZoom(this.view.getZoom()-.5),window.rodnikMap.filters.along=!0)}}}source(e){switch(e){case"osm":this.map.removeLayer(this.currentLayer),this.currentLayer=this.osmLayer,this.map.addLayer(this.currentLayer);break;case"mapy":this.map.removeLayer(this.currentLayer),this.currentLayer=this.mapyLayer,this.map.addLayer(this.currentLayer);break;case"outdoors":this.map.removeLayer(this.currentLayer),this.currentLayer=this.outdoorsLayer,this.map.addLayer(this.currentLayer);break;case"openTopoMap":this.map.removeLayer(this.currentLayer),this.currentLayer=this.openTopoMapLayer,this.map.addLayer(this.currentLayer);break;case"terrain":this.map.removeLayer(this.currentLayer),this.currentLayer=this.googleTerrainLayer,this.map.addLayer(this.currentLayer);break;case"satellite":this.map.removeLayer(this.currentLayer),this.currentLayer=this.googleSatelliteLayer,this.map.addLayer(this.currentLayer);break}E_(e)}updateOverlays(){this.overlays.stravaPublic?this.currentOverlays.stravaPublic||(this.map.addLayer(this.stravaPublicLayer),this.currentOverlays.stravaPublic=!0):this.currentOverlays.stravaPublic&&(this.map.removeLayer(this.stravaPublicLayer),this.currentOverlays.stravaPublic=!1),this.overlays.osmTraces?this.currentOverlays.osmTraces||(this.map.addLayer(this.osmTracesLayer),this.currentOverlays.osmTraces=!0):this.currentOverlays.osmTraces&&(this.map.removeLayer(this.osmTracesLayer),this.currentOverlays.osmTraces=!1)}highlightFeatureById(e){let r=window.rodnikMap.springsFinalLayer.getSource().getFeatureById(e);r?(this.locateFeature(r),this.highlightFeature(r)):this.featureIdToBeSelected=e}locateFeature(e){this.view.animate({center:e.getGeometry().flatCoordinates,duration:250})}locate(e){this.view.animate({center:Gr(e),zoom:14,duration:250})}locateWithZoom(e){let r=this.view.getZoom();yc(e),_a(r),this.view.animate({center:Gr(e),zoom:r,duration:100})}zoom(e){_a(e),this.view.animate({zoom:e,duration:100})}locateWorld(){this.view.fit(this.springsFinalLayer.getSource().getExtent()),this.view.setZoom(Math.floor(this.view.getZoom()-1))}highlightFeature(e){if(this.previouslyHighlightedFeature){if(e.get("id")==this.previouslyHighlightedFeature.get("id"))return!1;this.previouslyHighlightedFeature.setStyle(zn)}this.dehighlightPreviousFeature(),this.previouslyHighlightedFeature=e,e.setStyle(w_),this.fullscreen&&(this.setFullscreen(!1),this.locateFeature(e))}selectFeature(e){window.dispatchEvent(new CustomEvent("duo-visit",{detail:{springId:e.get("id"),userId:this.queryParameters.userId,location:!1}}))}dehighlightFeature(){this.previouslyHighlightedFeature&&(this.previouslyHighlightedFeature.setStyle(zn),this.previouslyHighlightedFeature=null)}deselectFeature(){window.dispatchEvent(new CustomEvent("duo-visit",{detail:{springId:0,userId:this.queryParameters.userId}}))}dehighlightPreviousFeature(){this.previouslyHighlightedFeature&&this.previouslyHighlightedFeature.setStyle(zn),this.previouslyHighlightedFeature=null}springsSource(e){e?(this.mode="user",this.springsFinalLayer.setMinZoom(0),this.springsApproximatedLayer.setVisible(!1),this.springsDistantLayer.setVisible(!1),this.wateredSpringsApproximatedLayer.setVisible(!1),this.wateredSpringsDistantLayer.setVisible(!1),this.springsUserSource.getUser()==e?(this.springsFinalLayer.setSource(this.springsUserSource),this.queryParameters.springId||this.locateWorld()):(this.springsUserSource.setUser(e),this.springsFinalLayer.setSource(this.springsUserSource))):(this.mode="global",this.springsFinalLayer.setMinZoom(9),this.springsApproximatedLayer.setVisible(!0),this.springsDistantLayer.setVisible(!0),this.wateredSpringsApproximatedLayer.setVisible(!0),this.wateredSpringsDistantLayer.setVisible(!0),this.springsFinalLayer.setSource(this.springsFinalSource))}setFullscreen(e){this.fullscreen=e}mapMoved(e){const r=new CustomEvent("map-moved",{detail:{coordinates:e}});window.dispatchEvent(r)}duoVisit(e){this.previousQueryParameters=JSON.parse(JSON.stringify(this.queryParameters)),Object.assign(this.queryParameters,e)}}class I_{constructor(e,r){this.osmLayer=new Ql,this.springLayer=new Cr({source:new pr({features:[new $r({geometry:new ni(Gr(r))})]}),style:new Nt({image:new ir({radius:12,fill:new nr({color:[0,0,0,.1]}),stroke:new hr({color:[0,0,0,1],width:.5})})}),zIndex:500}),this.view=new ul({center:Gr(r),zoom:18,enableRotation:!1}),this.scaleControl=new Ol({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new cl({controls:fl().extend([this.scaleControl]),target:e,layers:[this.osmLayer,this.springLayer],view:this.view})}}class T_{constructor(e,r,i){this.osmLayer=new Ql,this.springLayer=new Cr({source:new pr({features:[new $r({geometry:new ni(Gr(r)),type:"old"}),new $r({geometry:new ni(Gr(i)),type:"new"})]}),style:n=>{if(n.get("type")=="old")return new Nt({image:new ir({radius:12,stroke:new hr({color:[0,0,0,.33],width:2})})});if(n.get("type")=="new")return new Nt({image:new ir({radius:12,stroke:new hr({color:[0,0,0,1],width:2})})})},zIndex:500}),this.view=new ul({center:Gr(i),zoom:18,enableRotation:!1}),this.view.fit(this.springLayer.getSource().getExtent()),this.scaleControl=new Ol({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new cl({controls:fl().extend([this.scaleControl]),target:e,layers:[this.osmLayer,this.springLayer],view:this.view})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function Bn(t,e,r){const i=document.createElement(e);return t&&(i.className=t),r&&r.appendChild(i),i}function O_(t,e,r){let i=`translate3d(${t}px,${e||0}px,0)`;return r!==void 0&&(i+=` scale3d(${r},${r},1)`),i}function Va(t,e,r){t.style.width=typeof e=="number"?`${e}px`:e,t.style.height=typeof r=="number"?`${r}px`:r}const ur={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function P_(t){return"button"in t&&t.button===1||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function Nn(t,e,r=document){let i=[];if(t instanceof Element)i=[t];else if(t instanceof NodeList||Array.isArray(t))i=Array.from(t);else{const n=typeof t=="string"?t:e;n&&(i=Array.from(r.querySelectorAll(n)))}return i}function F_(t){return typeof t=="function"&&t.prototype&&t.prototype.goTo}function _c(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class R_{constructor(e,r){this.type=e,this.defaultPrevented=!1,r&&Object.assign(this,r)}preventDefault(){this.defaultPrevented=!0}}class M_{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,r,i=100){var n,s,l;this._filters[e]||(this._filters[e]=[]),(n=this._filters[e])===null||n===void 0||n.push({fn:r,priority:i}),(s=this._filters[e])===null||s===void 0||s.sort((a,u)=>a.priority-u.priority),(l=this.pswp)===null||l===void 0||l.addFilter(e,r,i)}removeFilter(e,r){this._filters[e]&&(this._filters[e]=this._filters[e].filter(i=>i.fn!==r)),this.pswp&&this.pswp.removeFilter(e,r)}applyFilters(e,...r){var i;return(i=this._filters[e])===null||i===void 0||i.forEach(n=>{r[0]=n.fn.apply(this,r)}),r[0]}on(e,r){var i,n;this._listeners[e]||(this._listeners[e]=[]),(i=this._listeners[e])===null||i===void 0||i.push(r),(n=this.pswp)===null||n===void 0||n.on(e,r)}off(e,r){var i;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(n=>r!==n)),(i=this.pswp)===null||i===void 0||i.off(e,r)}dispatch(e,r){var i;if(this.pswp)return this.pswp.dispatch(e,r);const n=new R_(e,r);return(i=this._listeners[e])===null||i===void 0||i.forEach(s=>{s.call(this,n)}),n}}class L_{constructor(e,r){if(this.element=Bn("pswp__img pswp__img--placeholder",e?"img":"div",r),e){const i=this.element;i.decoding="async",i.alt="",i.src=e,i.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,r){!this.element||(this.element.tagName==="IMG"?(Va(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=O_(0,0,e/250)):Va(this.element,e,r))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class D_{constructor(e,r,i){this.instance=r,this.data=e,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=ur.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,r){if(this.slide&&this.usePlaceholder())if(this.placeholder){const i=this.placeholder.element;i&&!i.parentElement&&this.slide.container.prepend(i)}else{const i=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new L_(i,this.slide.container)}this.element&&!r||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=Bn("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=Bn("pswp__content","div"),this.element.innerHTML=this.data.html||""),r&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var r,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=(r=this.data.src)!==null&&r!==void 0?r:"",n.alt=(i=this.data.alt)!==null&&i!==void 0?i:"",this.state=ur.LOADING,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=ur.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===ur.LOADED||this.state===ur.ERROR)&&this.removePlaceholder())}onError(){this.state=ur.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===ur.LOADING,this)}isError(){return this.state===ur.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,r){if(!!this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,r),!this.instance.dispatch("contentResize",{content:this,width:e,height:r}).defaultPrevented&&(Va(this.element,e,r),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=r,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:r,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==ur.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,r=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||r>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=r+"px",e.dataset.largestUsedSize=String(r))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,r;let i=Bn("pswp__error-msg","div");i.innerText=(e=(r=this.instance.options)===null||r===void 0?void 0:r.errorMsg)!==null&&e!==void 0?e:"",i=this.instance.applyFilters("contentErrorElement",i,this),this.element=Bn("pswp__content pswp__error-msg-container","div"),this.element.appendChild(i),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===ur.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||_c())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!_c()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){!this.isAttached||this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===ur.LOADED||this.state===ur.ERROR)&&this.removePlaceholder())}}function k_(t,e){if(t.getViewportSizeFn){const r=t.getViewportSizeFn(t,e);if(r)return r}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Ns(t,e,r,i,n){let s=0;if(e.paddingFn)s=e.paddingFn(r,i,n)[t];else if(e.padding)s=e.padding[t];else{const l="padding"+t[0].toUpperCase()+t.slice(1);e[l]&&(s=e[l])}return Number(s)||0}function B_(t,e,r,i){return{x:e.x-Ns("left",t,e,r,i)-Ns("right",t,e,r,i),y:e.y-Ns("top",t,e,r,i)-Ns("bottom",t,e,r,i)}}const wc=4e3;class N_{constructor(e,r,i,n){this.pswp=n,this.options=e,this.itemData=r,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,r,i){const n={x:e,y:r};this.elementSize=n,this.panAreaSize=i;const s=i.x/n.x,l=i.y/n.y;this.fit=Math.min(1,s<l?s:l),this.fill=Math.min(1,s>l?s:l),this.vFill=Math.min(1,l),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const r=e+"ZoomLevel",i=this.options[r];if(!!i)return typeof i=="function"?i(this):i==="fill"?this.fill:i==="fit"?this.fit:Number(i)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>wc&&(e=wc/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function Hf(t,e,r){const i=e.createContentFromData(t,r);let n;const{options:s}=e;if(s){n=new N_(s,t,-1);let l;e.pswp?l=e.pswp.viewportSize:l=k_(s,e);const a=B_(s,l,t,r);n.update(i.width,i.height,a)}return i.lazyLoad(),n&&i.setDisplayedSize(Math.ceil(i.width*n.initial),Math.ceil(i.height*n.initial)),i}function j_(t,e){const r=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:r}).defaultPrevented)return Hf(r,e,t)}class U_ extends M_{getNumItems(){var e;let r=0;const i=(e=this.options)===null||e===void 0?void 0:e.dataSource;i&&"length"in i?r=i.length:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),i.items&&(r=i.items.length));const n=this.dispatch("numItems",{dataSource:i,numItems:r});return this.applyFilters("numItems",n.numItems,i)}createContentFromData(e,r){return new D_(e,this,r)}getItemData(e){var r;const i=(r=this.options)===null||r===void 0?void 0:r.dataSource;let n={};Array.isArray(i)?n=i[e]:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),n=i.items[e]);let s=n;s instanceof Element&&(s=this._domElementToItemData(s));const l=this.dispatch("itemData",{itemData:s||{},index:e});return this.applyFilters("itemData",l.itemData,e)}_getGalleryDOMElements(e){var r,i;return(r=this.options)!==null&&r!==void 0&&r.children||(i=this.options)!==null&&i!==void 0&&i.childSelector?Nn(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const r={element:e},i=e.tagName==="A"?e:e.querySelector("a");if(i){r.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(r.srcset=i.dataset.pswpSrcset),r.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,r.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,r.w=r.width,r.h=r.height,i.dataset.pswpType&&(r.type=i.dataset.pswpType);const s=e.querySelector("img");if(s){var n;r.msrc=s.currentSrc||s.src,r.alt=(n=s.getAttribute("alt"))!==null&&n!==void 0?n:""}(i.dataset.pswpCropped||i.dataset.cropped)&&(r.thumbCropped=!0)}return this.applyFilters("domItemData",r,e,i)}lazyLoadData(e,r){return Hf(e,this,r)}}class Q_ extends U_{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Nn(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(P_(e)||window.pswp)return;let r={x:e.clientX,y:e.clientY};!r.x&&!r.y&&(r=null);let i=this.getClickedIndex(e);i=this.applyFilters("clickedIndex",i,e,this);const n={gallery:e.currentTarget};i>=0&&(e.preventDefault(),this.loadAndOpen(i,n,r))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const r=e.target,n=Nn(this.options.children,this.options.childSelector,e.currentTarget).findIndex(s=>s===r||s.contains(r));return n!==-1?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,r,i){if(window.pswp||!this.options)return!1;if(!r&&this.options.gallery&&this.options.children){const n=Nn(this.options.gallery);n[0]&&(r={gallery:n[0]})}return this.options.index=e,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(e,r),!0}preload(e,r){const{options:i}=this;r&&(i.dataSource=r);const n=[],s=typeof i.pswpModule;if(F_(i.pswpModule))n.push(Promise.resolve(i.pswpModule));else{if(s==="string")throw new Error("pswpModule as string is no longer supported");if(s==="function")n.push(i.pswpModule());else throw new Error("pswpModule is not valid")}typeof i.openPromise=="function"&&n.push(i.openPromise()),i.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=j_(e,this));const l=++this._uid;Promise.all(n).then(a=>{if(this.shouldOpen){const u=a[0];this._openPhotoswipe(u,l)}})}_openPhotoswipe(e,r){if(r!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const i=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=i,window.pswp=i,Object.keys(this._listeners).forEach(n=>{var s;(s=this._listeners[n])===null||s===void 0||s.forEach(l=>{i.on(n,l)})}),Object.keys(this._filters).forEach(n=>{var s;(s=this._filters[n])===null||s===void 0||s.forEach(l=>{i.addFilter(n,l.fn,l.priority)})}),this._preloadedContent&&(i.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),i.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),i.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},Nn(this.options.gallery,this.options.gallerySelector).forEach(r=>{r.removeEventListener("click",this.onThumbnailsClick,!1)})}}var Wf;Wf=class{isValid(e){var r;r=!0;try{return this.validate(e),r}catch{return r=!1,r}}validate(e){return this.checkContainsNoLetters(e),this.checkValidOrientation(e),this.checkNumbers(e)}checkContainsNoLetters(e){var r;if(r=/(?![neswd])[a-z]/i.test(e),r)throw new Error("Coordinate contains invalid alphanumeric characters.")}checkValidOrientation(e){var r;if(r=/^[^nsew]*[ns]?[^nsew]*[ew]?[^nsew]*$/i.test(e),!r)throw new Error("Invalid cardinal direction.")}checkNumbers(e){var r;return r=e.match(/-?\d+(\.\d+)?/g),this.checkAnyCoordinateNumbers(r),this.checkEvenCoordinateNumbers(r),this.checkMaximumCoordinateNumbers(r)}checkAnyCoordinateNumbers(e){if(e.length===0)throw new Error("Could not find any coordinate number")}checkEvenCoordinateNumbers(e){var r;if(r=e.length%2,r)throw new Error("Uneven count of latitude/longitude numbers")}checkMaximumCoordinateNumbers(e){if(e.length>6)throw new Error("Too many coordinate numbers")}};var G_=Wf,qf;qf=class{constructor(e){e=this.normalizeCoordinateNumbers(e),this.sign=this.normalizedSignOf(e[0]),[this.degrees,this.minutes,this.seconds,this.milliseconds]=e.map(Math.abs)}normalizeCoordinateNumbers(e){var r,i,n,s,l;for(l=[0,0,0,0],i=n=0,s=e.length;n<s;i=++n)r=e[i],l[i]=parseFloat(r);return l}normalizedSignOf(e){return e>=0?1:-1}detectSpecialFormats(){if(this.degreesCanBeSpecial()){if(this.degreesCanBeMilliseconds())return this.degreesAsMilliseconds();if(this.degreesCanBeDegreesMinutesAndSeconds())return this.degreesAsDegreesMinutesAndSeconds();if(this.degreesCanBeDegreesAndMinutes())return this.degreesAsDegreesAndMinutes()}}degreesCanBeSpecial(){var e;return e=!1,!this.minutes&&!this.seconds&&(e=!0),e}degreesCanBeMilliseconds(){var e;return this.degrees>909090?e=!0:e=!1,e}degreesAsMilliseconds(){return this.milliseconds=this.degrees,this.degrees=0}degreesCanBeDegreesMinutesAndSeconds(){var e;return this.degrees>9090?e=!0:e=!1,e}degreesAsDegreesMinutesAndSeconds(){var e;return e=Math.floor(this.degrees/1e4),this.minutes=Math.floor((this.degrees-e*1e4)/100),this.seconds=Math.floor(this.degrees-e*1e4-this.minutes*100),this.degrees=e}degreesCanBeDegreesAndMinutes(){var e;return this.degrees>360?e=!0:e=!1,e}degreesAsDegreesAndMinutes(){var e;return e=Math.floor(this.degrees/100),this.minutes=this.degrees-e*100,this.degrees=e}toDecimal(){var e;return e=this.sign*(this.degrees+this.minutes/60+this.seconds/3600+this.milliseconds/36e5),e}};var z_=qf,Xf,Yf,Kf;Kf=G_;Xf=z_;Yf=class{constructor(e){this.coordinates=e,this.latitudeNumbers=null,this.longitudeNumbers=null,this.validate(),this.parse()}validate(){var e;return e=new Kf,e.validate(this.coordinates)}parse(){return this.groupCoordinateNumbers(),this.latitude=this.extractLatitude(),this.longitude=this.extractLongitude()}groupCoordinateNumbers(){var e,r;return e=this.extractCoordinateNumbers(this.coordinates),r=e.length/2,this.latitudeNumbers=e.slice(0,r),this.longitudeNumbers=e.slice(0-r)}extractCoordinateNumbers(e){return e.match(/-?\d+(\.\d+)?/g)}extractLatitude(){var e;return e=this.coordinateNumbersToDecimal(this.latitudeNumbers),this.latitudeIsNegative()&&(e=e*-1),e}extractLongitude(){var e;return e=this.coordinateNumbersToDecimal(this.longitudeNumbers),this.longitudeIsNegative()&&(e=e*-1),e}coordinateNumbersToDecimal(e){var r,i;return r=new Xf(e),r.detectSpecialFormats(),i=r.toDecimal(),i}latitudeIsNegative(){var e;return e=this.coordinates.match(/s/i),e}longitudeIsNegative(){var e;return e=this.coordinates.match(/w/i),e}getLatitude(){return this.latitude}getLongitude(){return this.longitude}};var $_=Yf;function Ac(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ac(Object(r),!0).forEach(function(i){H_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Hs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hs=function(e){return typeof e}:Hs=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function H_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wr(){return Wr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Wr.apply(this,arguments)}function W_(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,s;for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function q_(t,e){if(t==null)return{};var r=W_(t,e),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(r[i]=t[i]))}return r}var X_="1.15.2";function zr(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var Xr=zr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Vn=zr(/Edge/i),bc=zr(/firefox/i),$n=zr(/safari/i)&&!zr(/chrome/i)&&!zr(/android/i),Zf=zr(/iP(ad|od|hone)/i),Vf=zr(/chrome/i)&&zr(/android/i),Jf={capture:!1,passive:!1};function at(t,e,r){t.addEventListener(e,r,!Xr&&Jf)}function tt(t,e,r){t.removeEventListener(e,r,!Xr&&Jf)}function oo(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Y_(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function br(t,e,r,i){if(t){r=r||document;do{if(e!=null&&(e[0]===">"?t.parentNode===r&&oo(t,e):oo(t,e))||i&&t===r)return t;if(t===r)break}while(t=Y_(t))}return null}var Ec=/\s+/g;function sr(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Ec," ").replace(" "+e+" "," ");t.className=(i+(r?" "+e:"")).replace(Ec," ")}}function ke(t,e,r){var i=t&&t.style;if(i){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),e===void 0?r:r[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=r+(typeof r=="string"?"":"px")}}function fn(t,e){var r="";if(typeof t=="string")r=t;else do{var i=ke(t,"transform");i&&i!=="none"&&(r=i+" "+r)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(r)}function ed(t,e,r){if(t){var i=t.getElementsByTagName(e),n=0,s=i.length;if(r)for(;n<s;n++)r(i[n],n);return i}return[]}function Rr(){var t=document.scrollingElement;return t||document.documentElement}function Ft(t,e,r,i,n){if(!(!t.getBoundingClientRect&&t!==window)){var s,l,a,u,f,d,h;if(t!==window&&t.parentNode&&t!==Rr()?(s=t.getBoundingClientRect(),l=s.top,a=s.left,u=s.bottom,f=s.right,d=s.height,h=s.width):(l=0,a=0,u=window.innerHeight,f=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||r)&&t!==window&&(n=n||t.parentNode,!Xr))do if(n&&n.getBoundingClientRect&&(ke(n,"transform")!=="none"||r&&ke(n,"position")!=="static")){var p=n.getBoundingClientRect();l-=p.top+parseInt(ke(n,"border-top-width")),a-=p.left+parseInt(ke(n,"border-left-width")),u=l+s.height,f=a+s.width;break}while(n=n.parentNode);if(i&&t!==window){var _=fn(n||t),m=_&&_.a,v=_&&_.d;_&&(l/=v,a/=m,h/=m,d/=v,u=l+d,f=a+h)}return{top:l,left:a,bottom:u,right:f,width:h,height:d}}}function xc(t,e,r){for(var i=ii(t,!0),n=Ft(t)[e];i;){var s=Ft(i)[r],l=void 0;if(r==="top"||r==="left"?l=n>=s:l=n<=s,!l)return i;if(i===Rr())break;i=ii(i,!1)}return!1}function dn(t,e,r,i){for(var n=0,s=0,l=t.children;s<l.length;){if(l[s].style.display!=="none"&&l[s]!==Be.ghost&&(i||l[s]!==Be.dragged)&&br(l[s],r.draggable,t,!1)){if(n===e)return l[s];n++}s++}return null}function Gl(t,e){for(var r=t.lastElementChild;r&&(r===Be.ghost||ke(r,"display")==="none"||e&&!oo(r,e));)r=r.previousElementSibling;return r||null}function fr(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Be.clone&&(!e||oo(t,e))&&r++;return r}function Cc(t){var e=0,r=0,i=Rr();if(t)do{var n=fn(t),s=n.a,l=n.d;e+=t.scrollLeft*s,r+=t.scrollTop*l}while(t!==i&&(t=t.parentNode));return[e,r]}function K_(t,e){for(var r in t)if(!!t.hasOwnProperty(r)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[r][i])return Number(r)}return-1}function ii(t,e){if(!t||!t.getBoundingClientRect)return Rr();var r=t,i=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var n=ke(r);if(r.clientWidth<r.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Rr();if(i||e)return r;i=!0}}while(r=r.parentNode);return Rr()}function Z_(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function wa(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Hn;function td(t,e){return function(){if(!Hn){var r=arguments,i=this;r.length===1?t.call(i,r[0]):t.apply(i,r),Hn=setTimeout(function(){Hn=void 0},e)}}}function V_(){clearTimeout(Hn),Hn=void 0}function rd(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function id(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function nd(t,e,r){var i={};return Array.from(t.children).forEach(function(n){var s,l,a,u;if(!(!br(n,e.draggable,t,!1)||n.animated||n===r)){var f=Ft(n);i.left=Math.min((s=i.left)!==null&&s!==void 0?s:1/0,f.left),i.top=Math.min((l=i.top)!==null&&l!==void 0?l:1/0,f.top),i.right=Math.max((a=i.right)!==null&&a!==void 0?a:-1/0,f.right),i.bottom=Math.max((u=i.bottom)!==null&&u!==void 0?u:-1/0,f.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var ar="Sortable"+new Date().getTime();function J_(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(n){if(!(ke(n,"display")==="none"||n===Be.ghost)){t.push({target:n,rect:Ft(n)});var s=Mr({},t[t.length-1].rect);if(n.thisAnimationDuration){var l=fn(n,!0);l&&(s.top-=l.f,s.left-=l.e)}n.fromRect=s}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(K_(t,{target:i}),1)},animateAll:function(i){var n=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var s=!1,l=0;t.forEach(function(a){var u=0,f=a.target,d=f.fromRect,h=Ft(f),p=f.prevFromRect,_=f.prevToRect,m=a.rect,v=fn(f,!0);v&&(h.top-=v.f,h.left-=v.e),f.toRect=h,f.thisAnimationDuration&&wa(p,h)&&!wa(d,h)&&(m.top-h.top)/(m.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(u=tw(m,p,_,n.options)),wa(h,d)||(f.prevFromRect=d,f.prevToRect=h,u||(u=n.options.animation),n.animate(f,m,h,u)),u&&(s=!0,l=Math.max(l,u),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},u),f.thisAnimationDuration=u)}),clearTimeout(e),s?e=setTimeout(function(){typeof i=="function"&&i()},l):typeof i=="function"&&i(),t=[]},animate:function(i,n,s,l){if(l){ke(i,"transition",""),ke(i,"transform","");var a=fn(this.el),u=a&&a.a,f=a&&a.d,d=(n.left-s.left)/(u||1),h=(n.top-s.top)/(f||1);i.animatingX=!!d,i.animatingY=!!h,ke(i,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=ew(i),ke(i,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),ke(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){ke(i,"transition",""),ke(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},l)}}}}function ew(t){return t.offsetWidth}function tw(t,e,r,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*i.animation}var en=[],Aa={initializeByDefault:!0},Jn={mount:function(e){for(var r in Aa)Aa.hasOwnProperty(r)&&!(r in e)&&(e[r]=Aa[r]);en.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),en.push(e)},pluginEvent:function(e,r,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";en.forEach(function(l){!r[l.pluginName]||(r[l.pluginName][s]&&r[l.pluginName][s](Mr({sortable:r},i)),r.options[l.pluginName]&&r[l.pluginName][e]&&r[l.pluginName][e](Mr({sortable:r},i)))})},initializePlugins:function(e,r,i,n){en.forEach(function(a){var u=a.pluginName;if(!(!e.options[u]&&!a.initializeByDefault)){var f=new a(e,r,e.options);f.sortable=e,f.options=e.options,e[u]=f,Wr(i,f.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var l=this.modifyOption(e,s,e.options[s]);typeof l!="undefined"&&(e.options[s]=l)}},getEventProperties:function(e,r){var i={};return en.forEach(function(n){typeof n.eventProperties=="function"&&Wr(i,n.eventProperties.call(r[n.pluginName],e))}),i},modifyOption:function(e,r,i){var n;return en.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[r]=="function"&&(n=s.optionListeners[r].call(e[s.pluginName],i))}),n}};function rw(t){var e=t.sortable,r=t.rootEl,i=t.name,n=t.targetEl,s=t.cloneEl,l=t.toEl,a=t.fromEl,u=t.oldIndex,f=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,p=t.originalEvent,_=t.putSortable,m=t.extraEventProperties;if(e=e||r&&r[ar],!!e){var v,y=e.options,A="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Xr&&!Vn?v=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(i,!0,!0)),v.to=l||r,v.from=a||r,v.item=n||r,v.clone=s,v.oldIndex=u,v.newIndex=f,v.oldDraggableIndex=d,v.newDraggableIndex=h,v.originalEvent=p,v.pullMode=_?_.lastPutMode:void 0;var w=Mr(Mr({},m),Jn.getEventProperties(i,e));for(var E in w)v[E]=w[E];r&&r.dispatchEvent(v),y[A]&&y[A].call(e,v)}}var iw=["evt"],rr=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.evt,s=q_(i,iw);Jn.pluginEvent.bind(Be)(e,r,Mr({dragEl:de,parentEl:Ct,ghostEl:Ue,rootEl:bt,nextEl:Ii,lastDownEl:Ws,cloneEl:Et,cloneHidden:ti,dragStarted:jn,putSortable:qt,activeSortable:Be.active,originalEvent:n,oldIndex:ln,oldDraggableIndex:Wn,newIndex:or,newDraggableIndex:ei,hideGhostForTarget:ld,unhideGhostForTarget:ud,cloneNowHidden:function(){ti=!0},cloneNowShown:function(){ti=!1},dispatchSortableEvent:function(a){Jt({sortable:r,name:a,originalEvent:n})}},s))};function Jt(t){rw(Mr({putSortable:qt,cloneEl:Et,targetEl:de,rootEl:bt,oldIndex:ln,oldDraggableIndex:Wn,newIndex:or,newDraggableIndex:ei},t))}var de,Ct,Ue,bt,Ii,Ws,Et,ti,ln,or,Wn,ei,js,qt,nn=!1,ao=!1,lo=[],Ci,Ar,ba,Ea,Sc,Ic,jn,tn,qn,Xn=!1,Us=!1,qs,Kt,xa=[],Ja=!1,uo=[],Eo=typeof document!="undefined",Qs=Zf,Tc=Vn||Xr?"cssFloat":"float",nw=Eo&&!Vf&&!Zf&&"draggable"in document.createElement("div"),sd=function(){if(!!Eo){if(Xr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),od=function(e,r){var i=ke(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=dn(e,0,r),l=dn(e,1,r),a=s&&ke(s),u=l&&ke(l),f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ft(s).width,d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Ft(l).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return l&&(u.clear==="both"||u.clear===h)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||f>=n&&i[Tc]==="none"||l&&i[Tc]==="none"&&f+d>n)?"vertical":"horizontal"},sw=function(e,r,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,l=i?e.width:e.height,a=i?r.left:r.top,u=i?r.right:r.bottom,f=i?r.width:r.height;return n===a||s===u||n+l/2===a+f/2},ow=function(e,r){var i;return lo.some(function(n){var s=n[ar].options.emptyInsertThreshold;if(!(!s||Gl(n))){var l=Ft(n),a=e>=l.left-s&&e<=l.right+s,u=r>=l.top-s&&r<=l.bottom+s;if(a&&u)return i=n}}),i},ad=function(e){function r(s,l){return function(a,u,f,d){var h=a.options.group.name&&u.options.group.name&&a.options.group.name===u.options.group.name;if(s==null&&(l||h))return!0;if(s==null||s===!1)return!1;if(l&&s==="clone")return s;if(typeof s=="function")return r(s(a,u,f,d),l)(a,u,f,d);var p=(l?a:u).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var i={},n=e.group;(!n||Hs(n)!="object")&&(n={name:n}),i.name=n.name,i.checkPull=r(n.pull,!0),i.checkPut=r(n.put),i.revertClone=n.revertClone,e.group=i},ld=function(){!sd&&Ue&&ke(Ue,"display","none")},ud=function(){!sd&&Ue&&ke(Ue,"display","")};Eo&&!Vf&&document.addEventListener("click",function(t){if(ao)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ao=!1,!1},!0);var Si=function(e){if(de){e=e.touches?e.touches[0]:e;var r=ow(e.clientX,e.clientY);if(r){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=r,i.preventDefault=void 0,i.stopPropagation=void 0,r[ar]._onDragOver(i)}}},aw=function(e){de&&de.parentNode[ar]._isOutsideThisEl(e.target)};function Be(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Wr({},e),t[ar]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return od(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Be.supportPointer!==!1&&"PointerEvent"in window&&!$n,emptyInsertThreshold:5};Jn.initializePlugins(this,t,r);for(var i in r)!(i in e)&&(e[i]=r[i]);ad(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:nw,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?at(t,"pointerdown",this._onTapStart):(at(t,"mousedown",this._onTapStart),at(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(at(t,"dragover",this),at(t,"dragenter",this)),lo.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Wr(this,J_())}Be.prototype={constructor:Be,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(tn=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,de):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var r=this,i=this.el,n=this.options,s=n.preventOnFilter,l=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(a||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,d=n.filter;if(gw(i),!de&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||n.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&$n&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=br(u,n.draggable,i,!1),!(u&&u.animated)&&Ws!==u)){if(ln=fr(u),Wn=fr(u,n.draggable),typeof d=="function"){if(d.call(this,e,u,this)){Jt({sortable:r,rootEl:f,name:"filter",targetEl:u,toEl:i,fromEl:i}),rr("filter",r,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=br(f,h.trim(),i,!1),h)return Jt({sortable:r,rootEl:h,name:"filter",targetEl:u,fromEl:i,toEl:i}),rr("filter",r,{evt:e}),!0}),d)){s&&e.cancelable&&e.preventDefault();return}n.handle&&!br(f,n.handle,i,!1)||this._prepareDragStart(e,a,u)}}},_prepareDragStart:function(e,r,i){var n=this,s=n.el,l=n.options,a=s.ownerDocument,u;if(i&&!de&&i.parentNode===s){var f=Ft(i);if(bt=s,de=i,Ct=de.parentNode,Ii=de.nextSibling,Ws=i,js=l.group,Be.dragged=de,Ci={target:de,clientX:(r||e).clientX,clientY:(r||e).clientY},Sc=Ci.clientX-f.left,Ic=Ci.clientY-f.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,de.style["will-change"]="all",u=function(){if(rr("delayEnded",n,{evt:e}),Be.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!bc&&n.nativeDraggable&&(de.draggable=!0),n._triggerDragStart(e,r),Jt({sortable:n,name:"choose",originalEvent:e}),sr(de,l.chosenClass,!0)},l.ignore.split(",").forEach(function(d){ed(de,d.trim(),Ca)}),at(a,"dragover",Si),at(a,"mousemove",Si),at(a,"touchmove",Si),at(a,"mouseup",n._onDrop),at(a,"touchend",n._onDrop),at(a,"touchcancel",n._onDrop),bc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,de.draggable=!0),rr("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Vn||Xr))){if(Be.eventCanceled){this._onDrop();return}at(a,"mouseup",n._disableDelayedDrag),at(a,"touchend",n._disableDelayedDrag),at(a,"touchcancel",n._disableDelayedDrag),at(a,"mousemove",n._delayedDragTouchMoveHandler),at(a,"touchmove",n._delayedDragTouchMoveHandler),l.supportPointer&&at(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(u,l.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){de&&Ca(de),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;tt(e,"mouseup",this._disableDelayedDrag),tt(e,"touchend",this._disableDelayedDrag),tt(e,"touchcancel",this._disableDelayedDrag),tt(e,"mousemove",this._delayedDragTouchMoveHandler),tt(e,"touchmove",this._delayedDragTouchMoveHandler),tt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?at(document,"pointermove",this._onTouchMove):r?at(document,"touchmove",this._onTouchMove):at(document,"mousemove",this._onTouchMove):(at(de,"dragend",this),at(bt,"dragstart",this._onDragStart));try{document.selection?Xs(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if(nn=!1,bt&&de){rr("dragStarted",this,{evt:r}),this.nativeDraggable&&at(document,"dragover",aw);var i=this.options;!e&&sr(de,i.dragClass,!1),sr(de,i.ghostClass,!0),Be.active=this,e&&this._appendGhost(),Jt({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Ar){this._lastX=Ar.clientX,this._lastY=Ar.clientY,ld();for(var e=document.elementFromPoint(Ar.clientX,Ar.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ar.clientX,Ar.clientY),e!==r);)r=e;if(de.parentNode[ar]._isOutsideThisEl(e),r)do{if(r[ar]){var i=void 0;if(i=r[ar]._onDragOver({clientX:Ar.clientX,clientY:Ar.clientY,target:e,rootEl:r}),i&&!this.options.dragoverBubble)break}e=r}while(r=r.parentNode);ud()}},_onTouchMove:function(e){if(Ci){var r=this.options,i=r.fallbackTolerance,n=r.fallbackOffset,s=e.touches?e.touches[0]:e,l=Ue&&fn(Ue,!0),a=Ue&&l&&l.a,u=Ue&&l&&l.d,f=Qs&&Kt&&Cc(Kt),d=(s.clientX-Ci.clientX+n.x)/(a||1)+(f?f[0]-xa[0]:0)/(a||1),h=(s.clientY-Ci.clientY+n.y)/(u||1)+(f?f[1]-xa[1]:0)/(u||1);if(!Be.active&&!nn){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Ue){l?(l.e+=d-(ba||0),l.f+=h-(Ea||0)):l={a:1,b:0,c:0,d:1,e:d,f:h};var p="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");ke(Ue,"webkitTransform",p),ke(Ue,"mozTransform",p),ke(Ue,"msTransform",p),ke(Ue,"transform",p),ba=d,Ea=h,Ar=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Ue){var e=this.options.fallbackOnBody?document.body:bt,r=Ft(de,!0,Qs,!0,e),i=this.options;if(Qs){for(Kt=e;ke(Kt,"position")==="static"&&ke(Kt,"transform")==="none"&&Kt!==document;)Kt=Kt.parentNode;Kt!==document.body&&Kt!==document.documentElement?(Kt===document&&(Kt=Rr()),r.top+=Kt.scrollTop,r.left+=Kt.scrollLeft):Kt=Rr(),xa=Cc(Kt)}Ue=de.cloneNode(!0),sr(Ue,i.ghostClass,!1),sr(Ue,i.fallbackClass,!0),sr(Ue,i.dragClass,!0),ke(Ue,"transition",""),ke(Ue,"transform",""),ke(Ue,"box-sizing","border-box"),ke(Ue,"margin",0),ke(Ue,"top",r.top),ke(Ue,"left",r.left),ke(Ue,"width",r.width),ke(Ue,"height",r.height),ke(Ue,"opacity","0.8"),ke(Ue,"position",Qs?"absolute":"fixed"),ke(Ue,"zIndex","100000"),ke(Ue,"pointerEvents","none"),Be.ghost=Ue,e.appendChild(Ue),ke(Ue,"transform-origin",Sc/parseInt(Ue.style.width)*100+"% "+Ic/parseInt(Ue.style.height)*100+"%")}},_onDragStart:function(e,r){var i=this,n=e.dataTransfer,s=i.options;if(rr("dragStart",this,{evt:e}),Be.eventCanceled){this._onDrop();return}rr("setupClone",this),Be.eventCanceled||(Et=id(de),Et.removeAttribute("id"),Et.draggable=!1,Et.style["will-change"]="",this._hideClone(),sr(Et,this.options.chosenClass,!1),Be.clone=Et),i.cloneId=Xs(function(){rr("clone",i),!Be.eventCanceled&&(i.options.removeCloneOnHide||bt.insertBefore(Et,de),i._hideClone(),Jt({sortable:i,name:"clone"}))}),!r&&sr(de,s.dragClass,!0),r?(ao=!0,i._loopId=setInterval(i._emulateDragOver,50)):(tt(document,"mouseup",i._onDrop),tt(document,"touchend",i._onDrop),tt(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,de)),at(document,"drop",i),ke(de,"transform","translateZ(0)")),nn=!0,i._dragStartId=Xs(i._dragStarted.bind(i,r,e)),at(document,"selectstart",i),jn=!0,$n&&ke(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,i=e.target,n,s,l,a=this.options,u=a.group,f=Be.active,d=js===u,h=a.sort,p=qt||f,_,m=this,v=!1;if(Ja)return;function y(j,V){rr(j,m,Mr({evt:e,isOwner:d,axis:_?"vertical":"horizontal",revert:l,dragRect:n,targetRect:s,canSort:h,fromSortable:p,target:i,completed:w,onMove:function(ne,X){return Gs(bt,r,de,n,ne,Ft(ne),e,X)},changed:E},V))}function A(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function w(j){return y("dragOverCompleted",{insertion:j}),j&&(d?f._hideClone():f._showClone(m),m!==p&&(sr(de,qt?qt.options.ghostClass:f.options.ghostClass,!1),sr(de,a.ghostClass,!0)),qt!==m&&m!==Be.active?qt=m:m===Be.active&&qt&&(qt=null),p===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===de&&!de.animated||i===r&&!i.animated)&&(tn=null),!a.dragoverBubble&&!e.rootEl&&i!==document&&(de.parentNode[ar]._isOutsideThisEl(e.target),!j&&Si(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function E(){or=fr(de),ei=fr(de,a.draggable),Jt({sortable:m,name:"change",toEl:r,newIndex:or,newDraggableIndex:ei,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=br(i,a.draggable,r,!0),y("dragOver"),Be.eventCanceled)return v;if(de.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return w(!1);if(ao=!1,f&&!a.disabled&&(d?h||(l=Ct!==bt):qt===this||(this.lastPutMode=js.checkPull(this,f,de,e))&&u.checkPut(this,f,de,e))){if(_=this._getDirection(e,i)==="vertical",n=Ft(de),y("dragOverValid"),Be.eventCanceled)return v;if(l)return Ct=bt,A(),this._hideClone(),y("revert"),Be.eventCanceled||(Ii?bt.insertBefore(de,Ii):bt.appendChild(de)),w(!0);var S=Gl(r,a.draggable);if(!S||fw(e,_,this)&&!S.animated){if(S===de)return w(!1);if(S&&r===e.target&&(i=S),i&&(s=Ft(i)),Gs(bt,r,de,n,i,s,e,!!i)!==!1)return A(),S&&S.nextSibling?r.insertBefore(de,S.nextSibling):r.appendChild(de),Ct=r,E(),w(!0)}else if(S&&cw(e,_,this)){var Q=dn(r,0,a,!0);if(Q===de)return w(!1);if(i=Q,s=Ft(i),Gs(bt,r,de,n,i,s,e,!1)!==!1)return A(),r.insertBefore(de,Q),Ct=r,E(),w(!0)}else if(i.parentNode===r){s=Ft(i);var M=0,F,O=de.parentNode!==r,k=!sw(de.animated&&de.toRect||n,i.animated&&i.toRect||s,_),W=_?"top":"left",z=xc(i,"top","top")||xc(de,"top","top"),$=z?z.scrollTop:void 0;tn!==i&&(F=s[W],Xn=!1,Us=!k&&a.invertSwap||O),M=dw(e,i,s,_,k?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Us,tn===i);var J;if(M!==0){var Ee=fr(de);do Ee-=M,J=Ct.children[Ee];while(J&&(ke(J,"display")==="none"||J===Ue))}if(M===0||J===i)return w(!1);tn=i,qn=M;var pe=i.nextElementSibling,L=!1;L=M===1;var B=Gs(bt,r,de,n,i,s,e,L);if(B!==!1)return(B===1||B===-1)&&(L=B===1),Ja=!0,setTimeout(uw,30),A(),L&&!pe?r.appendChild(de):i.parentNode.insertBefore(de,L?pe:i),z&&rd(z,0,$-z.scrollTop),Ct=de.parentNode,F!==void 0&&!Us&&(qs=Math.abs(F-Ft(i)[W])),E(),w(!0)}if(r.contains(de))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){tt(document,"mousemove",this._onTouchMove),tt(document,"touchmove",this._onTouchMove),tt(document,"pointermove",this._onTouchMove),tt(document,"dragover",Si),tt(document,"mousemove",Si),tt(document,"touchmove",Si)},_offUpEvents:function(){var e=this.el.ownerDocument;tt(e,"mouseup",this._onDrop),tt(e,"touchend",this._onDrop),tt(e,"pointerup",this._onDrop),tt(e,"touchcancel",this._onDrop),tt(document,"selectstart",this)},_onDrop:function(e){var r=this.el,i=this.options;if(or=fr(de),ei=fr(de,i.draggable),rr("drop",this,{evt:e}),Ct=de&&de.parentNode,or=fr(de),ei=fr(de,i.draggable),Be.eventCanceled){this._nulling();return}nn=!1,Us=!1,Xn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),el(this.cloneId),el(this._dragStartId),this.nativeDraggable&&(tt(document,"drop",this),tt(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$n&&ke(document.body,"user-select",""),ke(de,"transform",""),e&&(jn&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Ue&&Ue.parentNode&&Ue.parentNode.removeChild(Ue),(bt===Ct||qt&&qt.lastPutMode!=="clone")&&Et&&Et.parentNode&&Et.parentNode.removeChild(Et),de&&(this.nativeDraggable&&tt(de,"dragend",this),Ca(de),de.style["will-change"]="",jn&&!nn&&sr(de,qt?qt.options.ghostClass:this.options.ghostClass,!1),sr(de,this.options.chosenClass,!1),Jt({sortable:this,name:"unchoose",toEl:Ct,newIndex:null,newDraggableIndex:null,originalEvent:e}),bt!==Ct?(or>=0&&(Jt({rootEl:Ct,name:"add",toEl:Ct,fromEl:bt,originalEvent:e}),Jt({sortable:this,name:"remove",toEl:Ct,originalEvent:e}),Jt({rootEl:Ct,name:"sort",toEl:Ct,fromEl:bt,originalEvent:e}),Jt({sortable:this,name:"sort",toEl:Ct,originalEvent:e})),qt&&qt.save()):or!==ln&&or>=0&&(Jt({sortable:this,name:"update",toEl:Ct,originalEvent:e}),Jt({sortable:this,name:"sort",toEl:Ct,originalEvent:e})),Be.active&&((or==null||or===-1)&&(or=ln,ei=Wn),Jt({sortable:this,name:"end",toEl:Ct,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){rr("nulling",this),bt=de=Ct=Ue=Ii=Et=Ws=ti=Ci=Ar=jn=or=ei=ln=Wn=tn=qn=qt=js=Be.dragged=Be.ghost=Be.clone=Be.active=null,uo.forEach(function(e){e.checked=!0}),uo.length=ba=Ea=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":de&&(this._onDragOver(e),lw(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,i=this.el.children,n=0,s=i.length,l=this.options;n<s;n++)r=i[n],br(r,l.draggable,this.el,!1)&&e.push(r.getAttribute(l.dataIdAttr)||pw(r));return e},sort:function(e,r){var i={},n=this.el;this.toArray().forEach(function(s,l){var a=n.children[l];br(a,this.options.draggable,n,!1)&&(i[s]=a)},this),r&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(n.removeChild(i[s]),n.appendChild(i[s]))}),r&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return br(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var i=this.options;if(r===void 0)return i[e];var n=Jn.modifyOption(this,e,r);typeof n!="undefined"?i[e]=n:i[e]=r,e==="group"&&ad(i)},destroy:function(){rr("destroy",this);var e=this.el;e[ar]=null,tt(e,"mousedown",this._onTapStart),tt(e,"touchstart",this._onTapStart),tt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(tt(e,"dragover",this),tt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),lo.splice(lo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ti){if(rr("hideClone",this),Be.eventCanceled)return;ke(Et,"display","none"),this.options.removeCloneOnHide&&Et.parentNode&&Et.parentNode.removeChild(Et),ti=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ti){if(rr("showClone",this),Be.eventCanceled)return;de.parentNode==bt&&!this.options.group.revertClone?bt.insertBefore(Et,de):Ii?bt.insertBefore(Et,Ii):bt.appendChild(Et),this.options.group.revertClone&&this.animate(de,Et),ke(Et,"display",""),ti=!1}}};function lw(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Gs(t,e,r,i,n,s,l,a){var u,f=t[ar],d=f.options.onMove,h;return window.CustomEvent&&!Xr&&!Vn?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=r,u.draggedRect=i,u.related=n||e,u.relatedRect=s||Ft(e),u.willInsertAfter=a,u.originalEvent=l,t.dispatchEvent(u),d&&(h=d.call(f,u,l)),h}function Ca(t){t.draggable=!1}function uw(){Ja=!1}function cw(t,e,r){var i=Ft(dn(r.el,0,r.options,!0)),n=nd(r.el,r.options,Ue),s=10;return e?t.clientX<n.left-s||t.clientY<i.top&&t.clientX<i.right:t.clientY<n.top-s||t.clientY<i.bottom&&t.clientX<i.left}function fw(t,e,r){var i=Ft(Gl(r.el,r.options.draggable)),n=nd(r.el,r.options,Ue),s=10;return e?t.clientX>n.right+s||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>n.bottom+s||t.clientX>i.right&&t.clientY>i.top}function dw(t,e,r,i,n,s,l,a){var u=i?t.clientY:t.clientX,f=i?r.height:r.width,d=i?r.top:r.left,h=i?r.bottom:r.right,p=!1;if(!l){if(a&&qs<f*n){if(!Xn&&(qn===1?u>d+f*s/2:u<h-f*s/2)&&(Xn=!0),Xn)p=!0;else if(qn===1?u<d+qs:u>h-qs)return-qn}else if(u>d+f*(1-n)/2&&u<h-f*(1-n)/2)return hw(e)}return p=p||l,p&&(u<d+f*s/2||u>h-f*s/2)?u>d+f/2?1:-1:0}function hw(t){return fr(de)<fr(t)?1:-1}function pw(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,i=0;r--;)i+=e.charCodeAt(r);return i.toString(36)}function gw(t){uo.length=0;for(var e=t.getElementsByTagName("input"),r=e.length;r--;){var i=e[r];i.checked&&uo.push(i)}}function Xs(t){return setTimeout(t,0)}function el(t){return clearTimeout(t)}Eo&&at(document,"touchmove",function(t){(Be.active||nn)&&t.cancelable&&t.preventDefault()});Be.utils={on:at,off:tt,css:ke,find:ed,is:function(e,r){return!!br(e,r,e,!1)},extend:Z_,throttle:td,closest:br,toggleClass:sr,clone:id,index:fr,nextTick:Xs,cancelNextTick:el,detectDirection:od,getChild:dn};Be.get=function(t){return t[ar]};Be.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Be.utils=Mr(Mr({},Be.utils),i.utils)),Jn.mount(i)})};Be.create=function(t,e){return new Be(t,e)};Be.version=X_;var Pt=[],Un,tl,rl=!1,Sa,Ia,co,Qn;function mw(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(r){var i=r.originalEvent;this.sortable.nativeDraggable?at(document,"dragover",this._handleAutoScroll):this.options.supportPointer?at(document,"pointermove",this._handleFallbackAutoScroll):i.touches?at(document,"touchmove",this._handleFallbackAutoScroll):at(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var i=r.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):(tt(document,"pointermove",this._handleFallbackAutoScroll),tt(document,"touchmove",this._handleFallbackAutoScroll),tt(document,"mousemove",this._handleFallbackAutoScroll)),Oc(),Ys(),V_()},nulling:function(){co=tl=Un=rl=Qn=Sa=Ia=null,Pt.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,i){var n=this,s=(r.touches?r.touches[0]:r).clientX,l=(r.touches?r.touches[0]:r).clientY,a=document.elementFromPoint(s,l);if(co=r,i||this.options.forceAutoScrollFallback||Vn||Xr||$n){Ta(r,this.options,a,i);var u=ii(a,!0);rl&&(!Qn||s!==Sa||l!==Ia)&&(Qn&&Oc(),Qn=setInterval(function(){var f=ii(document.elementFromPoint(s,l),!0);f!==u&&(u=f,Ys()),Ta(r,n.options,f,i)},10),Sa=s,Ia=l)}else{if(!this.options.bubbleScroll||ii(a,!0)===Rr()){Ys();return}Ta(r,this.options,ii(a,!1),!1)}}},Wr(t,{pluginName:"scroll",initializeByDefault:!0})}function Ys(){Pt.forEach(function(t){clearInterval(t.pid)}),Pt=[]}function Oc(){clearInterval(Qn)}var Ta=td(function(t,e,r,i){if(!!e.scroll){var n=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,a=e.scrollSpeed,u=Rr(),f=!1,d;tl!==r&&(tl=r,Ys(),Un=e.scroll,d=e.scrollFn,Un===!0&&(Un=ii(r,!0)));var h=0,p=Un;do{var _=p,m=Ft(_),v=m.top,y=m.bottom,A=m.left,w=m.right,E=m.width,S=m.height,Q=void 0,M=void 0,F=_.scrollWidth,O=_.scrollHeight,k=ke(_),W=_.scrollLeft,z=_.scrollTop;_===u?(Q=E<F&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),M=S<O&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(Q=E<F&&(k.overflowX==="auto"||k.overflowX==="scroll"),M=S<O&&(k.overflowY==="auto"||k.overflowY==="scroll"));var $=Q&&(Math.abs(w-n)<=l&&W+E<F)-(Math.abs(A-n)<=l&&!!W),J=M&&(Math.abs(y-s)<=l&&z+S<O)-(Math.abs(v-s)<=l&&!!z);if(!Pt[h])for(var Ee=0;Ee<=h;Ee++)Pt[Ee]||(Pt[Ee]={});(Pt[h].vx!=$||Pt[h].vy!=J||Pt[h].el!==_)&&(Pt[h].el=_,Pt[h].vx=$,Pt[h].vy=J,clearInterval(Pt[h].pid),($!=0||J!=0)&&(f=!0,Pt[h].pid=setInterval(function(){i&&this.layer===0&&Be.active._onTouchMove(co);var pe=Pt[this.layer].vy?Pt[this.layer].vy*a:0,L=Pt[this.layer].vx?Pt[this.layer].vx*a:0;typeof d=="function"&&d.call(Be.dragged.parentNode[ar],L,pe,t,co,Pt[this.layer].el)!=="continue"||rd(Pt[this.layer].el,L,pe)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==u&&(p=ii(p,!1)));rl=f}},30),cd=function(e){var r=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,l=e.dispatchSortableEvent,a=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(!!r){var f=i||s;a();var d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,h=document.elementFromPoint(d.clientX,d.clientY);u(),f&&!f.el.contains(h)&&(l("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function zl(){}zl.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=dn(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(r,n):this.sortable.el.appendChild(r),this.sortable.animateAll(),i&&i.animateAll()},drop:cd};Wr(zl,{pluginName:"revertOnSpill"});function $l(){}$l.prototype={onSpill:function(e){var r=e.dragEl,i=e.putSortable,n=i||this.sortable;n.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),n.animateAll()},drop:cd};Wr($l,{pluginName:"removeOnSpill"});Be.mount(new mw);Be.mount($l,zl);var vw=Be;function yw(t){t.directive("sort",(e,{value:r,modifiers:i,expression:n},{effect:s,evaluate:l,evaluateLater:a,cleanup:u})=>{if(r==="config"||r==="handle"||r==="group")return;if(r==="key"||r==="item"){if([void 0,null,""].includes(n))return;e._x_sort_key=l(n);return}let f={hideGhost:!i.includes("ghost"),useHandles:!!e.querySelector("[x-sort\\:handle]"),group:Ew(e,i)},d=_w(n,a),h=ww(e,i,l),p=Aw(e,h,f,(_,m)=>{d(_,m)});u(()=>p.destroy())})}function _w(t,e){if([void 0,null,""].includes(t))return()=>{};let r=e(t);return(i,n)=>{Alpine.dontAutoEvaluateFunctions(()=>{r(s=>{typeof s=="function"&&s(i,n)},{scope:{$key:i,$item:i,$position:n}})})}}function ww(t,e,r){return t.hasAttribute("x-sort:config")?r(t.getAttribute("x-sort:config")):{}}function Aw(t,e,r,i){let n,s={animation:150,handle:r.useHandles?"[x-sort\\:handle]":null,group:r.group,filter(l){return t.querySelector("[x-sort\\:item]")?!l.target.closest("[x-sort\\:item]"):!1},onSort(l){if(l.from!==l.to&&l.to!==l.target)return;let a=l.item._x_sort_key,u=l.newIndex;(a!==void 0||a!==null)&&i(a,u)},onStart(){document.body.classList.add("sorting"),n=document.querySelector(".sortable-ghost"),r.hideGhost&&n&&(n.style.opacity="0")},onEnd(){document.body.classList.remove("sorting"),r.hideGhost&&n&&(n.style.opacity="1"),n=void 0,bw(t)}};return new vw(t,{...s,...e})}function bw(t){let e=t.firstChild;for(;e.nextSibling;){if(e.textContent.trim()==="[if ENDBLOCK]><![endif]"){t.append(e);break}e=e.nextSibling}}function Ew(t,e){return t.hasAttribute("x-sort:group")?t.getAttribute("x-sort:group"):e.indexOf("group")!==-1?e[e.indexOf("group")+1]:null}var xw=yw;/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.2
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/xl.plugin(qa);xl.plugin(xw);window.Alpine=xl;window.ImageBlobReduce=new Xm;window.exifrGPS=dh;window.uuidv1=ev;window.getInitialSourceName=$f;window.rodnikConfig={zoomLevels:{approximated:6,final:9}};window.initOpenLayers=function(t){window.rodnikMap=new S_(t)};window.initOpenHelper=function(t,e){window.rodnikHelper=new I_(t,e)};window.parseCoordinates=function(t){return new $_(t)};window.initOpenDiffer=function(t,e,r){window.rodnikDiffer=new T_(t,e,r)};window.openedPhotoswipe=null;window.initPhotoSwipe=function(t){const e=new Q_({gallery:t,children:".photoswipeImage",pswpModule:()=>hh(()=>import("./photoswipe.esm.c9e243b3.js"),[]),loop:!1});e.init(),e.on("beforeOpen",()=>{window.openedPhotoswipe=e.pswp}),e.on("destroy",()=>{window.openedPhotoswipe=null})};bl.start();window.ymCode=90143259;

import{g as ff,a as er,b as Xn,c as df,d as hf,e as pf,f as aa,h as Lo,i as Ml,m as Bn,j as Gs,k as Yn,l as oa,n as kl,o as jn,s as gf,r as Pa,p as Bl,q as mf,t as vf,u as Un,v as La,T as yf,w as et,x as Dn,y as Dl,z as la,E as Ra,A as ca,B as gr,C as Af,D as Nl,F as jl,G as ci,H as mr,I as ua,J as Ro,K as wf,L as _f,M as xn,N as En,O as $t,P as bf,Q as Ul,R as xf,S as Ef,U as Ql,V as Rt,W as $r,X as Cf,Y as Sf,Z as If,_ as Ma,$ as Tf,a0 as ur,a1 as Gl,a2 as Ff,a3 as Of,a4 as Pf,a5 as Mo,a6 as ko,a7 as Bo,a8 as Do,a9 as Lf,aa as Rf,ab as Mf,ac as kf,ad as ka,ae as qr,af as Kn,ag as Bf,ah as Df,ai as Nf,aj as jf,ak as Qn,al as Uf,am as Qf,an as Gf,ao as zf,ap as Hf,aq as $f,ar as fr,as as Wf,at as qf,au as Xf,av as Yf,aw as Kf,ax as Zf,ay as Vf,az as No,aA as Jf,aB as ed,aC as td,aD as rd,aE as fa,aF as id,aG as nd,aH as sd,aI as ad,aJ as qt,aK as od,aL as ld,aM as cd,aN as ji,aO as vt,aP as Dt,aQ as Mt,aR as Ut,aS as zt,aT as Ba,aU as yr,aV as Xt,aW as Wt,aX as Zn,aY as zl,aZ as Vn,a_ as Jn}from"./ol.9f758eff.js";import{p as ud,b as fd,f as jo,s as Uo,a as dd,u as hd}from"./turf.54dd2dce.js";const pd="modulepreload",Qo={},gd="/build/",md=function(e,t){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=`${gd}${i}`,i in Qo)return;Qo[i]=!0;const n=i.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":pd,n||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),n)return new Promise((o,u)=>{c.addEventListener("load",o),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var vd=Object.create,Hl=Object.defineProperty,yd=Object.getOwnPropertyDescriptor,$l=Object.getOwnPropertyNames,Ad=Object.getPrototypeOf,wd=Object.prototype.hasOwnProperty,wr=(r,e)=>function(){return e||(0,r[$l(r)[0]])((e={exports:{}}).exports,e),e.exports},_d=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $l(e))!wd.call(r,n)&&n!==t&&Hl(r,n,{get:()=>e[n],enumerable:!(i=yd(e,n))||i.enumerable});return r},lt=(r,e,t)=>(t=r!=null?vd(Ad(r)):{},_d(e||!r||!r.__esModule?Hl(t,"default",{value:r,enumerable:!0}):t,r)),xt=wr({"../alpine/packages/alpinejs/dist/module.cjs.js"(r,e){var t=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(s,l)=>function(){return l||(0,s[a(s)[0]])((l={exports:{}}).exports,l),l.exports},f=(s,l)=>{for(var g in l)i(s,g,{get:l[g],enumerable:!0})},h=(s,l,g,E)=>{if(l&&typeof l=="object"||typeof l=="function")for(let T of a(l))!o.call(s,T)&&T!==g&&i(s,T,{get:()=>l[T],enumerable:!(E=n(l,T))||E.enumerable});return s},d=(s,l,g)=>(g=s!=null?t(c(s)):{},h(l||!s||!s.__esModule?i(g,"default",{value:s,enumerable:!0}):g,s)),p=s=>h(i({},"__esModule",{value:!0}),s),b=u({"node_modules/@vue/shared/dist/shared.cjs.js"(s){Object.defineProperty(s,"__esModule",{value:!0});function l(M,he){const ye=Object.create(null),Fe=M.split(",");for(let Je=0;Je<Fe.length;Je++)ye[Fe[Je]]=!0;return he?Je=>!!ye[Je.toLowerCase()]:Je=>!!ye[Je]}var g={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},E={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},T="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",I=l(T),L=2;function B(M,he=0,ye=M.length){let Fe=M.split(/(\r?\n)/);const Je=Fe.filter((Ft,At)=>At%2===1);Fe=Fe.filter((Ft,At)=>At%2===0);let ht=0;const Tt=[];for(let Ft=0;Ft<Fe.length;Ft++)if(ht+=Fe[Ft].length+(Je[Ft]&&Je[Ft].length||0),ht>=he){for(let At=Ft-L;At<=Ft+L||ye>ht;At++){if(At<0||At>=Fe.length)continue;const Di=At+1;Tt.push(`${Di}${" ".repeat(Math.max(3-String(Di).length,0))}|  ${Fe[At]}`);const oi=Fe[At].length,bn=Je[At]&&Je[At].length||0;if(At===Ft){const li=he-(ht-(oi+bn)),Us=Math.max(1,ye>ht?oi-li:ye-he);Tt.push("   |  "+" ".repeat(li)+"^".repeat(Us))}else if(At>Ft){if(ye>ht){const li=Math.max(Math.min(ye-ht,oi),1);Tt.push("   |  "+"^".repeat(li))}ht+=oi+bn}}break}return Tt.join(`
`)}var re="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ve=l(re),qe=l(re+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),ut=/[>/="'\u0009\u000a\u000c\u0020]/,Xe={};function ot(M){if(Xe.hasOwnProperty(M))return Xe[M];const he=ut.test(M);return he&&console.error(`unsafe attribute name: ${M}`),Xe[M]=!he}var Qt={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},ar=l("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Me=l("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function Ve(M){if(Zt(M)){const he={};for(let ye=0;ye<M.length;ye++){const Fe=M[ye],Je=Ve(Nr(Fe)?It(Fe):Fe);if(Je)for(const ht in Je)he[ht]=Je[ht]}return he}else if(lr(M))return M}var $e=/;(?![^(]*\))/g,tt=/:(.+)/;function It(M){const he={};return M.split($e).forEach(ye=>{if(ye){const Fe=ye.split(tt);Fe.length>1&&(he[Fe[0].trim()]=Fe[1].trim())}}),he}function Kt(M){let he="";if(!M)return he;for(const ye in M){const Fe=M[ye],Je=ye.startsWith("--")?ye:wn(ye);(Nr(Fe)||typeof Fe=="number"&&ar(Je))&&(he+=`${Je}:${Fe};`)}return he}function or(M){let he="";if(Nr(M))he=M;else if(Zt(M))for(let ye=0;ye<M.length;ye++){const Fe=or(M[ye]);Fe&&(he+=Fe+" ")}else if(lr(M))for(const ye in M)M[ye]&&(he+=ye+" ");return he.trim()}var Yr="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Fi="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Oi="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Kr=l(Yr),Ts=l(Fi),Zr=l(Oi),Fs=/["'&<>]/;function Os(M){const he=""+M,ye=Fs.exec(he);if(!ye)return he;let Fe="",Je,ht,Tt=0;for(ht=ye.index;ht<he.length;ht++){switch(he.charCodeAt(ht)){case 34:Je="&quot;";break;case 38:Je="&amp;";break;case 39:Je="&#39;";break;case 60:Je="&lt;";break;case 62:Je="&gt;";break;default:continue}Tt!==ht&&(Fe+=he.substring(Tt,ht)),Tt=ht+1,Fe+=Je}return Tt!==ht?Fe+he.substring(Tt,ht):Fe}var on=/^-?>|<!--|-->|--!>|<!-$/g;function Ps(M){return M.replace(on,"")}function Ls(M,he){if(M.length!==he.length)return!1;let ye=!0;for(let Fe=0;ye&&Fe<M.length;Fe++)ye=Vr(M[Fe],he[Fe]);return ye}function Vr(M,he){if(M===he)return!0;let ye=Mi(M),Fe=Mi(he);if(ye||Fe)return ye&&Fe?M.getTime()===he.getTime():!1;if(ye=Zt(M),Fe=Zt(he),ye||Fe)return ye&&Fe?Ls(M,he):!1;if(ye=lr(M),Fe=lr(he),ye||Fe){if(!ye||!Fe)return!1;const Je=Object.keys(M).length,ht=Object.keys(he).length;if(Je!==ht)return!1;for(const Tt in M){const Ft=M.hasOwnProperty(Tt),At=he.hasOwnProperty(Tt);if(Ft&&!At||!Ft&&At||!Vr(M[Tt],he[Tt]))return!1}}return String(M)===String(he)}function ln(M,he){return M.findIndex(ye=>Vr(ye,he))}var cn=M=>M==null?"":lr(M)?JSON.stringify(M,Rs,2):String(M),Rs=(M,he)=>Dr(he)?{[`Map(${he.size})`]:[...he.entries()].reduce((ye,[Fe,Je])=>(ye[`${Fe} =>`]=Je,ye),{})}:Vt(he)?{[`Set(${he.size})`]:[...he.values()]}:lr(he)&&!Zt(he)&&!gn(he)?String(he):he,Ms=["bigInt","optionalChaining","nullishCoalescingOperator"],Pi=Object.freeze({}),Li=Object.freeze([]),Ri=()=>{},Jr=()=>!1,ei=/^on[^a-z]/,ti=M=>ei.test(M),ri=M=>M.startsWith("onUpdate:"),un=Object.assign,fn=(M,he)=>{const ye=M.indexOf(he);ye>-1&&M.splice(ye,1)},dn=Object.prototype.hasOwnProperty,hn=(M,he)=>dn.call(M,he),Zt=Array.isArray,Dr=M=>jr(M)==="[object Map]",Vt=M=>jr(M)==="[object Set]",Mi=M=>M instanceof Date,ki=M=>typeof M=="function",Nr=M=>typeof M=="string",ks=M=>typeof M=="symbol",lr=M=>M!==null&&typeof M=="object",ii=M=>lr(M)&&ki(M.then)&&ki(M.catch),pn=Object.prototype.toString,jr=M=>pn.call(M),Bs=M=>jr(M).slice(8,-1),gn=M=>jr(M)==="[object Object]",mn=M=>Nr(M)&&M!=="NaN"&&M[0]!=="-"&&""+parseInt(M,10)===M,vn=l(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ur=M=>{const he=Object.create(null);return ye=>he[ye]||(he[ye]=M(ye))},yn=/-(\w)/g,An=Ur(M=>M.replace(yn,(he,ye)=>ye?ye.toUpperCase():"")),Ds=/\B([A-Z])/g,wn=Ur(M=>M.replace(Ds,"-$1").toLowerCase()),Qr=Ur(M=>M.charAt(0).toUpperCase()+M.slice(1)),Ns=Ur(M=>M?`on${Qr(M)}`:""),Bi=(M,he)=>M!==he&&(M===M||he===he),js=(M,he)=>{for(let ye=0;ye<M.length;ye++)M[ye](he)},ni=(M,he,ye)=>{Object.defineProperty(M,he,{configurable:!0,enumerable:!1,value:ye})},si=M=>{const he=parseFloat(M);return isNaN(he)?M:he},ai,_n=()=>ai||(ai=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});s.EMPTY_ARR=Li,s.EMPTY_OBJ=Pi,s.NO=Jr,s.NOOP=Ri,s.PatchFlagNames=g,s.babelParserDefaultPlugins=Ms,s.camelize=An,s.capitalize=Qr,s.def=ni,s.escapeHtml=Os,s.escapeHtmlComment=Ps,s.extend=un,s.generateCodeFrame=B,s.getGlobalThis=_n,s.hasChanged=Bi,s.hasOwn=hn,s.hyphenate=wn,s.invokeArrayFns=js,s.isArray=Zt,s.isBooleanAttr=qe,s.isDate=Mi,s.isFunction=ki,s.isGloballyWhitelisted=I,s.isHTMLTag=Kr,s.isIntegerKey=mn,s.isKnownAttr=Me,s.isMap=Dr,s.isModelListener=ri,s.isNoUnitNumericStyleProp=ar,s.isObject=lr,s.isOn=ti,s.isPlainObject=gn,s.isPromise=ii,s.isReservedProp=vn,s.isSSRSafeAttrName=ot,s.isSVGTag=Ts,s.isSet=Vt,s.isSpecialBooleanAttr=ve,s.isString=Nr,s.isSymbol=ks,s.isVoidTag=Zr,s.looseEqual=Vr,s.looseIndexOf=ln,s.makeMap=l,s.normalizeClass=or,s.normalizeStyle=Ve,s.objectToString=pn,s.parseStringStyle=It,s.propsToAttrMap=Qt,s.remove=fn,s.slotFlagsText=E,s.stringifyStyle=Kt,s.toDisplayString=cn,s.toHandlerKey=Ns,s.toNumber=si,s.toRawType=Bs,s.toTypeString=jr}}),v=u({"node_modules/@vue/shared/index.js"(s,l){l.exports=b()}}),m=u({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"(s){Object.defineProperty(s,"__esModule",{value:!0});var l=v(),g=new WeakMap,E=[],T,I=Symbol("iterate"),L=Symbol("Map key iterate");function B(A){return A&&A._isEffect===!0}function re(A,H=l.EMPTY_OBJ){B(A)&&(A=A.raw);const K=ut(A,H);return H.lazy||K(),K}function ve(A){A.active&&(Xe(A),A.options.onStop&&A.options.onStop(),A.active=!1)}var qe=0;function ut(A,H){const K=function(){if(!K.active)return A();if(!E.includes(K)){Xe(K);try{return Me(),E.push(K),T=K,A()}finally{E.pop(),Ve(),T=E[E.length-1]}}};return K.id=qe++,K.allowRecurse=!!H.allowRecurse,K._isEffect=!0,K.active=!0,K.raw=A,K.deps=[],K.options=H,K}function Xe(A){const{deps:H}=A;if(H.length){for(let K=0;K<H.length;K++)H[K].delete(A);H.length=0}}var ot=!0,Qt=[];function ar(){Qt.push(ot),ot=!1}function Me(){Qt.push(ot),ot=!0}function Ve(){const A=Qt.pop();ot=A===void 0?!0:A}function $e(A,H,K){if(!ot||T===void 0)return;let be=g.get(A);be||g.set(A,be=new Map);let pe=be.get(K);pe||be.set(K,pe=new Set),pe.has(T)||(pe.add(T),T.deps.push(pe),T.options.onTrack&&T.options.onTrack({effect:T,target:A,type:H,key:K}))}function tt(A,H,K,be,pe,Pe){const Ge=g.get(A);if(!Ge)return;const pt=new Set,Ot=Et=>{Et&&Et.forEach(Jt=>{(Jt!==T||Jt.allowRecurse)&&pt.add(Jt)})};if(H==="clear")Ge.forEach(Ot);else if(K==="length"&&l.isArray(A))Ge.forEach((Et,Jt)=>{(Jt==="length"||Jt>=be)&&Ot(Et)});else switch(K!==void 0&&Ot(Ge.get(K)),H){case"add":l.isArray(A)?l.isIntegerKey(K)&&Ot(Ge.get("length")):(Ot(Ge.get(I)),l.isMap(A)&&Ot(Ge.get(L)));break;case"delete":l.isArray(A)||(Ot(Ge.get(I)),l.isMap(A)&&Ot(Ge.get(L)));break;case"set":l.isMap(A)&&Ot(Ge.get(I));break}const Ni=Et=>{Et.options.onTrigger&&Et.options.onTrigger({effect:Et,target:A,key:K,type:H,newValue:be,oldValue:pe,oldTarget:Pe}),Et.options.scheduler?Et.options.scheduler(Et):Et()};pt.forEach(Ni)}var It=l.makeMap("__proto__,__v_isRef,__isVue"),Kt=new Set(Object.getOwnPropertyNames(Symbol).map(A=>Symbol[A]).filter(l.isSymbol)),or=Zr(),Yr=Zr(!1,!0),Fi=Zr(!0),Oi=Zr(!0,!0),Kr=Ts();function Ts(){const A={};return["includes","indexOf","lastIndexOf"].forEach(H=>{A[H]=function(...K){const be=M(this);for(let Pe=0,Ge=this.length;Pe<Ge;Pe++)$e(be,"get",Pe+"");const pe=be[H](...K);return pe===-1||pe===!1?be[H](...K.map(M)):pe}}),["push","pop","shift","unshift","splice"].forEach(H=>{A[H]=function(...K){ar();const be=M(this)[H].apply(this,K);return Ve(),be}}),A}function Zr(A=!1,H=!1){return function(be,pe,Pe){if(pe==="__v_isReactive")return!A;if(pe==="__v_isReadonly")return A;if(pe==="__v_raw"&&Pe===(A?H?An:yn:H?Ur:vn).get(be))return be;const Ge=l.isArray(be);if(!A&&Ge&&l.hasOwn(Kr,pe))return Reflect.get(Kr,pe,Pe);const pt=Reflect.get(be,pe,Pe);return(l.isSymbol(pe)?Kt.has(pe):It(pe))||(A||$e(be,"get",pe),H)?pt:Fe(pt)?!Ge||!l.isIntegerKey(pe)?pt.value:pt:l.isObject(pt)?A?Bi(pt):Qr(pt):pt}}var Fs=on(),Os=on(!0);function on(A=!1){return function(K,be,pe,Pe){let Ge=K[be];if(!A&&(pe=M(pe),Ge=M(Ge),!l.isArray(K)&&Fe(Ge)&&!Fe(pe)))return Ge.value=pe,!0;const pt=l.isArray(K)&&l.isIntegerKey(be)?Number(be)<K.length:l.hasOwn(K,be),Ot=Reflect.set(K,be,pe,Pe);return K===M(Pe)&&(pt?l.hasChanged(pe,Ge)&&tt(K,"set",be,pe,Ge):tt(K,"add",be,pe)),Ot}}function Ps(A,H){const K=l.hasOwn(A,H),be=A[H],pe=Reflect.deleteProperty(A,H);return pe&&K&&tt(A,"delete",H,void 0,be),pe}function Ls(A,H){const K=Reflect.has(A,H);return(!l.isSymbol(H)||!Kt.has(H))&&$e(A,"has",H),K}function Vr(A){return $e(A,"iterate",l.isArray(A)?"length":I),Reflect.ownKeys(A)}var ln={get:or,set:Fs,deleteProperty:Ps,has:Ls,ownKeys:Vr},cn={get:Fi,set(A,H){return console.warn(`Set operation on key "${String(H)}" failed: target is readonly.`,A),!0},deleteProperty(A,H){return console.warn(`Delete operation on key "${String(H)}" failed: target is readonly.`,A),!0}},Rs=l.extend({},ln,{get:Yr,set:Os}),Ms=l.extend({},cn,{get:Oi}),Pi=A=>l.isObject(A)?Qr(A):A,Li=A=>l.isObject(A)?Bi(A):A,Ri=A=>A,Jr=A=>Reflect.getPrototypeOf(A);function ei(A,H,K=!1,be=!1){A=A.__v_raw;const pe=M(A),Pe=M(H);H!==Pe&&!K&&$e(pe,"get",H),!K&&$e(pe,"get",Pe);const{has:Ge}=Jr(pe),pt=be?Ri:K?Li:Pi;if(Ge.call(pe,H))return pt(A.get(H));if(Ge.call(pe,Pe))return pt(A.get(Pe));A!==pe&&A.get(H)}function ti(A,H=!1){const K=this.__v_raw,be=M(K),pe=M(A);return A!==pe&&!H&&$e(be,"has",A),!H&&$e(be,"has",pe),A===pe?K.has(A):K.has(A)||K.has(pe)}function ri(A,H=!1){return A=A.__v_raw,!H&&$e(M(A),"iterate",I),Reflect.get(A,"size",A)}function un(A){A=M(A);const H=M(this);return Jr(H).has.call(H,A)||(H.add(A),tt(H,"add",A,A)),this}function fn(A,H){H=M(H);const K=M(this),{has:be,get:pe}=Jr(K);let Pe=be.call(K,A);Pe?mn(K,be,A):(A=M(A),Pe=be.call(K,A));const Ge=pe.call(K,A);return K.set(A,H),Pe?l.hasChanged(H,Ge)&&tt(K,"set",A,H,Ge):tt(K,"add",A,H),this}function dn(A){const H=M(this),{has:K,get:be}=Jr(H);let pe=K.call(H,A);pe?mn(H,K,A):(A=M(A),pe=K.call(H,A));const Pe=be?be.call(H,A):void 0,Ge=H.delete(A);return pe&&tt(H,"delete",A,void 0,Pe),Ge}function hn(){const A=M(this),H=A.size!==0,K=l.isMap(A)?new Map(A):new Set(A),be=A.clear();return H&&tt(A,"clear",void 0,void 0,K),be}function Zt(A,H){return function(be,pe){const Pe=this,Ge=Pe.__v_raw,pt=M(Ge),Ot=H?Ri:A?Li:Pi;return!A&&$e(pt,"iterate",I),Ge.forEach((Ni,Et)=>be.call(pe,Ot(Ni),Ot(Et),Pe))}}function Dr(A,H,K){return function(...be){const pe=this.__v_raw,Pe=M(pe),Ge=l.isMap(Pe),pt=A==="entries"||A===Symbol.iterator&&Ge,Ot=A==="keys"&&Ge,Ni=pe[A](...be),Et=K?Ri:H?Li:Pi;return!H&&$e(Pe,"iterate",Ot?L:I),{next(){const{value:Jt,done:Qs}=Ni.next();return Qs?{value:Jt,done:Qs}:{value:pt?[Et(Jt[0]),Et(Jt[1])]:Et(Jt),done:Qs}},[Symbol.iterator](){return this}}}}function Vt(A){return function(...H){{const K=H[0]?`on key "${H[0]}" `:"";console.warn(`${l.capitalize(A)} operation ${K}failed: target is readonly.`,M(this))}return A==="delete"?!1:this}}function Mi(){const A={get(Pe){return ei(this,Pe)},get size(){return ri(this)},has:ti,add:un,set:fn,delete:dn,clear:hn,forEach:Zt(!1,!1)},H={get(Pe){return ei(this,Pe,!1,!0)},get size(){return ri(this)},has:ti,add:un,set:fn,delete:dn,clear:hn,forEach:Zt(!1,!0)},K={get(Pe){return ei(this,Pe,!0)},get size(){return ri(this,!0)},has(Pe){return ti.call(this,Pe,!0)},add:Vt("add"),set:Vt("set"),delete:Vt("delete"),clear:Vt("clear"),forEach:Zt(!0,!1)},be={get(Pe){return ei(this,Pe,!0,!0)},get size(){return ri(this,!0)},has(Pe){return ti.call(this,Pe,!0)},add:Vt("add"),set:Vt("set"),delete:Vt("delete"),clear:Vt("clear"),forEach:Zt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Pe=>{A[Pe]=Dr(Pe,!1,!1),K[Pe]=Dr(Pe,!0,!1),H[Pe]=Dr(Pe,!1,!0),be[Pe]=Dr(Pe,!0,!0)}),[A,K,H,be]}var[ki,Nr,ks,lr]=Mi();function ii(A,H){const K=H?A?lr:ks:A?Nr:ki;return(be,pe,Pe)=>pe==="__v_isReactive"?!A:pe==="__v_isReadonly"?A:pe==="__v_raw"?be:Reflect.get(l.hasOwn(K,pe)&&pe in be?K:be,pe,Pe)}var pn={get:ii(!1,!1)},jr={get:ii(!1,!0)},Bs={get:ii(!0,!1)},gn={get:ii(!0,!0)};function mn(A,H,K){const be=M(K);if(be!==K&&H.call(A,be)){const pe=l.toRawType(A);console.warn(`Reactive ${pe} contains both the raw and reactive versions of the same object${pe==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var vn=new WeakMap,Ur=new WeakMap,yn=new WeakMap,An=new WeakMap;function Ds(A){switch(A){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wn(A){return A.__v_skip||!Object.isExtensible(A)?0:Ds(l.toRawType(A))}function Qr(A){return A&&A.__v_isReadonly?A:ni(A,!1,ln,pn,vn)}function Ns(A){return ni(A,!1,Rs,jr,Ur)}function Bi(A){return ni(A,!0,cn,Bs,yn)}function js(A){return ni(A,!0,Ms,gn,An)}function ni(A,H,K,be,pe){if(!l.isObject(A))return console.warn(`value cannot be made reactive: ${String(A)}`),A;if(A.__v_raw&&!(H&&A.__v_isReactive))return A;const Pe=pe.get(A);if(Pe)return Pe;const Ge=wn(A);if(Ge===0)return A;const pt=new Proxy(A,Ge===2?be:K);return pe.set(A,pt),pt}function si(A){return ai(A)?si(A.__v_raw):!!(A&&A.__v_isReactive)}function ai(A){return!!(A&&A.__v_isReadonly)}function _n(A){return si(A)||ai(A)}function M(A){return A&&M(A.__v_raw)||A}function he(A){return l.def(A,"__v_skip",!0),A}var ye=A=>l.isObject(A)?Qr(A):A;function Fe(A){return Boolean(A&&A.__v_isRef===!0)}function Je(A){return Ft(A)}function ht(A){return Ft(A,!0)}var Tt=class{constructor(A,H=!1){this._shallow=H,this.__v_isRef=!0,this._rawValue=H?A:M(A),this._value=H?A:ye(A)}get value(){return $e(M(this),"get","value"),this._value}set value(A){A=this._shallow?A:M(A),l.hasChanged(A,this._rawValue)&&(this._rawValue=A,this._value=this._shallow?A:ye(A),tt(M(this),"set","value",A))}};function Ft(A,H=!1){return Fe(A)?A:new Tt(A,H)}function At(A){tt(M(A),"set","value",A.value)}function Di(A){return Fe(A)?A.value:A}var oi={get:(A,H,K)=>Di(Reflect.get(A,H,K)),set:(A,H,K,be)=>{const pe=A[H];return Fe(pe)&&!Fe(K)?(pe.value=K,!0):Reflect.set(A,H,K,be)}};function bn(A){return si(A)?A:new Proxy(A,oi)}var li=class{constructor(A){this.__v_isRef=!0;const{get:H,set:K}=A(()=>$e(this,"get","value"),()=>tt(this,"set","value"));this._get=H,this._set=K}get value(){return this._get()}set value(A){this._set(A)}};function Us(A){return new li(A)}function of(A){_n(A)||console.warn("toRefs() expects a reactive object but received a plain one.");const H=l.isArray(A)?new Array(A.length):{};for(const K in A)H[K]=Po(A,K);return H}var lf=class{constructor(A,H){this._object=A,this._key=H,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(A){this._object[this._key]=A}};function Po(A,H){return Fe(A[H])?A[H]:new lf(A,H)}var cf=class{constructor(A,H,K){this._setter=H,this._dirty=!0,this.__v_isRef=!0,this.effect=re(A,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,tt(M(this),"set","value"))}}),this.__v_isReadonly=K}get value(){const A=M(this);return A._dirty&&(A._value=this.effect(),A._dirty=!1),$e(A,"get","value"),A._value}set value(A){this._setter(A)}};function uf(A){let H,K;return l.isFunction(A)?(H=A,K=()=>{console.warn("Write operation failed: computed value is readonly")}):(H=A.get,K=A.set),new cf(H,K,l.isFunction(A)||!A.set)}s.ITERATE_KEY=I,s.computed=uf,s.customRef=Us,s.effect=re,s.enableTracking=Me,s.isProxy=_n,s.isReactive=si,s.isReadonly=ai,s.isRef=Fe,s.markRaw=he,s.pauseTracking=ar,s.proxyRefs=bn,s.reactive=Qr,s.readonly=Bi,s.ref=Je,s.resetTracking=Ve,s.shallowReactive=Ns,s.shallowReadonly=js,s.shallowRef=ht,s.stop=ve,s.toRaw=M,s.toRef=Po,s.toRefs=of,s.track=$e,s.trigger=tt,s.triggerRef=At,s.unref=Di}}),y=u({"node_modules/@vue/reactivity/index.js"(s,l){l.exports=m()}}),w={};f(w,{default:()=>af}),e.exports=p(w);var x=!1,_=!1,S=[],z=-1;function R(s){O(s)}function O(s){S.includes(s)||S.push(s),j()}function F(s){let l=S.indexOf(s);l!==-1&&l>z&&S.splice(l,1)}function j(){!_&&!x&&(x=!0,queueMicrotask(W))}function W(){x=!1,_=!0;for(let s=0;s<S.length;s++)S[s](),z=s;S.length=0,z=-1,_=!1}var G,Y,se,Re,we=!0;function k(s){we=!1,s(),we=!0}function D(s){G=s.reactive,se=s.release,Y=l=>s.effect(l,{scheduler:g=>{we?R(g):g()}}),Re=s.raw}function U(s){Y=s}function Z(s){let l=()=>{};return[E=>{let T=Y(E);return s._x_effects||(s._x_effects=new Set,s._x_runEffects=()=>{s._x_effects.forEach(I=>I())}),s._x_effects.add(T),l=()=>{T!==void 0&&(s._x_effects.delete(T),se(T))},T},()=>{l()}]}function q(s,l,g={}){s.dispatchEvent(new CustomEvent(l,{detail:g,bubbles:!0,composed:!0,cancelable:!0}))}function ee(s,l){if(typeof ShadowRoot=="function"&&s instanceof ShadowRoot){Array.from(s.children).forEach(T=>ee(T,l));return}let g=!1;if(l(s,()=>g=!0),g)return;let E=s.firstElementChild;for(;E;)ee(E,l),E=E.nextElementSibling}function $(s,...l){console.warn(`Alpine Warning: ${s}`,...l)}var le=!1;function ie(){le&&$("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),le=!0,document.body||$("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),q(document,"alpine:init"),q(document,"alpine:initializing"),it(),rt(l=>_e(l,ee)),Ae(l=>X(l)),ne((l,g)=>{Bt(l,g).forEach(E=>E())});let s=l=>!ze(l.parentElement,!0);Array.from(document.querySelectorAll(oe())).filter(s).forEach(l=>{_e(l)}),q(document,"alpine:initialized")}var ae=[],de=[];function Be(){return ae.map(s=>s())}function oe(){return ae.concat(de).map(s=>s())}function me(s){ae.push(s)}function Oe(s){de.push(s)}function ze(s,l=!1){return Ce(s,g=>{if((l?oe():Be()).some(T=>g.matches(T)))return!0})}function Ce(s,l){if(!!s){if(l(s))return s;if(s._x_teleportBack&&(s=s._x_teleportBack),!!s.parentElement)return Ce(s.parentElement,l)}}function xe(s){return Be().some(l=>s.matches(l))}var mt=[];function st(s){mt.push(s)}function _e(s,l=ee,g=()=>{}){Vi(()=>{l(s,(E,T)=>{g(E,T),mt.forEach(I=>I(E,T)),Bt(E,E.attributes).forEach(I=>I()),E._x_ignore&&T()})})}function X(s){ee(s,l=>{Ee(l),We(l)})}var te=[],Te=[],ue=[];function rt(s){ue.push(s)}function Ae(s,l){typeof l=="function"?(s._x_cleanups||(s._x_cleanups=[]),s._x_cleanups.push(l)):(l=s,Te.push(l))}function ne(s){te.push(s)}function fe(s,l,g){s._x_attributeCleanups||(s._x_attributeCleanups={}),s._x_attributeCleanups[l]||(s._x_attributeCleanups[l]=[]),s._x_attributeCleanups[l].push(g)}function Ee(s,l){!s._x_attributeCleanups||Object.entries(s._x_attributeCleanups).forEach(([g,E])=>{(l===void 0||l.includes(g))&&(E.forEach(T=>T()),delete s._x_attributeCleanups[g])})}function We(s){if(s._x_cleanups)for(;s._x_cleanups.length;)s._x_cleanups.pop()()}var ke=new MutationObserver(xi),at=!1;function it(){ke.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),at=!0}function jt(){bi(),ke.disconnect(),at=!1}var ct=[],_r=!1;function bi(){ct=ct.concat(ke.takeRecords()),ct.length&&!_r&&(_r=!0,queueMicrotask(()=>{Lr(),_r=!1}))}function Lr(){xi(ct),ct.length=0}function ft(s){if(!at)return s();jt();let l=s();return it(),l}var Xr=!1,Rr=[];function us(){Xr=!0}function fs(){Xr=!1,xi(Rr),Rr=[]}function xi(s){if(Xr){Rr=Rr.concat(s);return}let l=[],g=[],E=new Map,T=new Map;for(let I=0;I<s.length;I++)if(!s[I].target._x_ignoreMutationObserver&&(s[I].type==="childList"&&(s[I].addedNodes.forEach(L=>L.nodeType===1&&l.push(L)),s[I].removedNodes.forEach(L=>L.nodeType===1&&g.push(L))),s[I].type==="attributes")){let L=s[I].target,B=s[I].attributeName,re=s[I].oldValue,ve=()=>{E.has(L)||E.set(L,[]),E.get(L).push({name:B,value:L.getAttribute(B)})},qe=()=>{T.has(L)||T.set(L,[]),T.get(L).push(B)};L.hasAttribute(B)&&re===null?ve():L.hasAttribute(B)?(qe(),ve()):qe()}T.forEach((I,L)=>{Ee(L,I)}),E.forEach((I,L)=>{te.forEach(B=>B(L,I))});for(let I of g)l.includes(I)||(Te.forEach(L=>L(I)),X(I));l.forEach(I=>{I._x_ignoreSelf=!0,I._x_ignore=!0});for(let I of l)g.includes(I)||!I.isConnected||(delete I._x_ignoreSelf,delete I._x_ignore,ue.forEach(L=>L(I)),I._x_ignore=!0,I._x_ignoreSelf=!0);l.forEach(I=>{delete I._x_ignoreSelf,delete I._x_ignore}),l=null,g=null,E=null,T=null}function Xi(s){return Mr(dr(s))}function br(s,l,g){return s._x_dataStack=[l,...dr(g||s)],()=>{s._x_dataStack=s._x_dataStack.filter(E=>E!==l)}}function dr(s){return s._x_dataStack?s._x_dataStack:typeof ShadowRoot=="function"&&s instanceof ShadowRoot?dr(s.host):s.parentNode?dr(s.parentNode):[]}function Mr(s){return new Proxy({objects:s},ds)}var ds={ownKeys({objects:s}){return Array.from(new Set(s.flatMap(l=>Object.keys(l))))},has({objects:s},l){return l==Symbol.unscopables?!1:s.some(g=>Object.prototype.hasOwnProperty.call(g,l))},get({objects:s},l,g){return l=="toJSON"?hs:Reflect.get(s.find(E=>Object.prototype.hasOwnProperty.call(E,l))||{},l,g)},set({objects:s},l,g,E){const T=s.find(L=>Object.prototype.hasOwnProperty.call(L,l))||s[s.length-1],I=Object.getOwnPropertyDescriptor(T,l);return(I==null?void 0:I.set)&&(I==null?void 0:I.get)?Reflect.set(T,l,g,E):Reflect.set(T,l,g)}};function hs(){return Reflect.ownKeys(this).reduce((l,g)=>(l[g]=Reflect.get(this,g),l),{})}function Yi(s){let l=E=>typeof E=="object"&&!Array.isArray(E)&&E!==null,g=(E,T="")=>{Object.entries(Object.getOwnPropertyDescriptors(E)).forEach(([I,{value:L,enumerable:B}])=>{if(B===!1||L===void 0)return;let re=T===""?I:`${T}.${I}`;typeof L=="object"&&L!==null&&L._x_interceptor?E[I]=L.initialize(s,re,I):l(L)&&L!==E&&!(L instanceof Element)&&g(L,re)})};return g(s)}function Ki(s,l=()=>{}){let g={initialValue:void 0,_x_interceptor:!0,initialize(E,T,I){return s(this.initialValue,()=>ps(E,T),L=>Ei(E,T,L),T,I)}};return l(g),E=>{if(typeof E=="object"&&E!==null&&E._x_interceptor){let T=g.initialize.bind(g);g.initialize=(I,L,B)=>{let re=E.initialize(I,L,B);return g.initialValue=re,T(I,L,B)}}else g.initialValue=E;return g}}function ps(s,l){return l.split(".").reduce((g,E)=>g[E],s)}function Ei(s,l,g){if(typeof l=="string"&&(l=l.split(".")),l.length===1)s[l[0]]=g;else{if(l.length===0)throw error;return s[l[0]]||(s[l[0]]={}),Ei(s[l[0]],l.slice(1),g)}}var Zi={};function Gt(s,l){Zi[s]=l}function C(s,l){return Object.entries(Zi).forEach(([g,E])=>{let T=null;function I(){if(T)return T;{let[L,B]=Ci(l);return T={interceptor:Ki,...L},Ae(l,B),T}}Object.defineProperty(s,`$${g}`,{get(){return E(l,I())},enumerable:!1})}),s}function P(s,l,g,...E){try{return g(...E)}catch(T){N(T,s,l)}}function N(s,l,g=void 0){Object.assign(s,{el:l,expression:g}),console.warn(`Alpine Expression Error: ${s.message}

${g?'Expression: "'+g+`"

`:""}`,l),setTimeout(()=>{throw s},0)}var Q=!0;function V(s){let l=Q;Q=!1;let g=s();return Q=l,g}function ce(s,l,g={}){let E;return J(s,l)(T=>E=T,g),E}function J(...s){return ge(...s)}var ge=Ie;function Se(s){ge=s}function Ie(s,l){let g={};C(g,s);let E=[g,...dr(s)],T=typeof l=="function"?Ue(E,l):Le(E,l,s);return P.bind(null,s,l,T)}function Ue(s,l){return(g=()=>{},{scope:E={},params:T=[]}={})=>{let I=l.apply(Mr([E,...s]),T);De(g,I)}}var Ne={};function Ze(s,l){if(Ne[s])return Ne[s];let g=Object.getPrototypeOf(async function(){}).constructor,E=/^[\n\s]*if.*\(.*\)/.test(s.trim())||/^(let|const)\s/.test(s.trim())?`(async()=>{ ${s} })()`:s,I=(()=>{try{let L=new g(["__self","scope"],`with (scope) { __self.result = ${E} }; __self.finished = true; return __self.result;`);return Object.defineProperty(L,"name",{value:`[Alpine] ${s}`}),L}catch(L){return N(L,l,s),Promise.resolve()}})();return Ne[s]=I,I}function Le(s,l,g){let E=Ze(l,g);return(T=()=>{},{scope:I={},params:L=[]}={})=>{E.result=void 0,E.finished=!1;let B=Mr([I,...s]);if(typeof E=="function"){let re=E(E,B).catch(ve=>N(ve,g,l));E.finished?(De(T,E.result,B,L,g),E.result=void 0):re.then(ve=>{De(T,ve,B,L,g)}).catch(ve=>N(ve,g,l)).finally(()=>E.result=void 0)}}}function De(s,l,g,E,T){if(Q&&typeof l=="function"){let I=l.apply(g,E);I instanceof Promise?I.then(L=>De(s,L,g,E)).catch(L=>N(L,T,l)):s(I)}else typeof l=="object"&&l instanceof Promise?l.then(I=>s(I)):s(l)}var He="x-";function nt(s=""){return He+s}function Ke(s){He=s}var dt={};function Qe(s,l){return dt[s]=l,{before(g){if(!dt[g]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const E=kr.indexOf(g);kr.splice(E>=0?E:kr.indexOf("DEFAULT"),0,s)}}}function Bt(s,l,g){if(l=Array.from(l),s._x_virtualDirectives){let I=Object.entries(s._x_virtualDirectives).map(([B,re])=>({name:B,value:re})),L=yt(I);I=I.map(B=>L.find(re=>re.name===B.name)?{name:`x-bind:${B.name}`,value:`"${B.value}"`}:B),l=l.concat(I)}let E={};return l.map(Er((I,L)=>E[I]=L)).filter(Cr).map(lu(E,g)).sort(cu).map(I=>Ji(s,I))}function yt(s){return Array.from(s).map(Er()).filter(l=>!Cr(l))}var Yt=!1,ir=new Map,xr=Symbol();function Vi(s){Yt=!0;let l=Symbol();xr=l,ir.set(l,[]);let g=()=>{for(;ir.get(l).length;)ir.get(l).shift()();ir.delete(l)},E=()=>{Yt=!1,g()};s(g),E()}function Ci(s){let l=[],g=B=>l.push(B),[E,T]=Z(s);return l.push(T),[{Alpine:Ti,effect:E,cleanup:g,evaluateLater:J.bind(J,s),evaluate:ce.bind(ce,s)},()=>l.forEach(B=>B())]}function Ji(s,l){let g=()=>{},E=dt[l.type]||g,[T,I]=Ci(s);fe(s,l.original,I);let L=()=>{s._x_ignore||s._x_ignoreSelf||(E.inline&&E.inline(s,l,T),E=E.bind(E,s,l,T),Yt?ir.get(xr).push(E):E())};return L.runCleanups=I,L}var nr=(s,l)=>({name:g,value:E})=>(g.startsWith(s)&&(g=g.replace(s,l)),{name:g,value:E}),Si=s=>s;function Er(s=()=>{}){return({name:l,value:g})=>{let{name:E,value:T}=hr.reduce((I,L)=>L(I),{name:l,value:g});return E!==l&&s(E,l),{name:E,value:T}}}var hr=[];function sr(s){hr.push(s)}function Cr({name:s}){return en().test(s)}var en=()=>new RegExp(`^${He}([^:^.]+)\\b`);function lu(s,l){return({name:g,value:E})=>{let T=g.match(en()),I=g.match(/:([a-zA-Z0-9\-_:]+)/),L=g.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],B=l||s[g]||g;return{type:T?T[1]:null,value:I?I[1]:null,modifiers:L.map(re=>re.replace(".","")),expression:E,original:B}}}var gs="DEFAULT",kr=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",gs,"teleport"];function cu(s,l){let g=kr.indexOf(s.type)===-1?gs:s.type,E=kr.indexOf(l.type)===-1?gs:l.type;return kr.indexOf(g)-kr.indexOf(E)}var ms=[],vs=!1;function ys(s=()=>{}){return queueMicrotask(()=>{vs||setTimeout(()=>{As()})}),new Promise(l=>{ms.push(()=>{s(),l()})})}function As(){for(vs=!1;ms.length;)ms.shift()()}function uu(){vs=!0}function ws(s,l){return Array.isArray(l)?so(s,l.join(" ")):typeof l=="object"&&l!==null?fu(s,l):typeof l=="function"?ws(s,l()):so(s,l)}function so(s,l){let g=T=>T.split(" ").filter(I=>!s.classList.contains(I)).filter(Boolean),E=T=>(s.classList.add(...T),()=>{s.classList.remove(...T)});return l=l===!0?l="":l||"",E(g(l))}function fu(s,l){let g=B=>B.split(" ").filter(Boolean),E=Object.entries(l).flatMap(([B,re])=>re?g(B):!1).filter(Boolean),T=Object.entries(l).flatMap(([B,re])=>re?!1:g(B)).filter(Boolean),I=[],L=[];return T.forEach(B=>{s.classList.contains(B)&&(s.classList.remove(B),L.push(B))}),E.forEach(B=>{s.classList.contains(B)||(s.classList.add(B),I.push(B))}),()=>{L.forEach(B=>s.classList.add(B)),I.forEach(B=>s.classList.remove(B))}}function tn(s,l){return typeof l=="object"&&l!==null?du(s,l):hu(s,l)}function du(s,l){let g={};return Object.entries(l).forEach(([E,T])=>{g[E]=s.style[E],E.startsWith("--")||(E=pu(E)),s.style.setProperty(E,T)}),setTimeout(()=>{s.style.length===0&&s.removeAttribute("style")}),()=>{tn(s,g)}}function hu(s,l){let g=s.getAttribute("style",l);return s.setAttribute("style",l),()=>{s.setAttribute("style",g||"")}}function pu(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _s(s,l=()=>{}){let g=!1;return function(){g?l.apply(this,arguments):(g=!0,s.apply(this,arguments))}}Qe("transition",(s,{value:l,modifiers:g,expression:E},{evaluate:T})=>{typeof E=="function"&&(E=T(E)),E!==!1&&(!E||typeof E=="boolean"?mu(s,g,l):gu(s,E,l))});function gu(s,l,g){ao(s,ws,""),{enter:T=>{s._x_transition.enter.during=T},"enter-start":T=>{s._x_transition.enter.start=T},"enter-end":T=>{s._x_transition.enter.end=T},leave:T=>{s._x_transition.leave.during=T},"leave-start":T=>{s._x_transition.leave.start=T},"leave-end":T=>{s._x_transition.leave.end=T}}[g](l)}function mu(s,l,g){ao(s,tn);let E=!l.includes("in")&&!l.includes("out")&&!g,T=E||l.includes("in")||["enter"].includes(g),I=E||l.includes("out")||["leave"].includes(g);l.includes("in")&&!E&&(l=l.filter((Ve,$e)=>$e<l.indexOf("out"))),l.includes("out")&&!E&&(l=l.filter((Ve,$e)=>$e>l.indexOf("out")));let L=!l.includes("opacity")&&!l.includes("scale"),B=L||l.includes("opacity"),re=L||l.includes("scale"),ve=B?0:1,qe=re?Ii(l,"scale",95)/100:1,ut=Ii(l,"delay",0)/1e3,Xe=Ii(l,"origin","center"),ot="opacity, transform",Qt=Ii(l,"duration",150)/1e3,ar=Ii(l,"duration",75)/1e3,Me="cubic-bezier(0.4, 0.0, 0.2, 1)";T&&(s._x_transition.enter.during={transformOrigin:Xe,transitionDelay:`${ut}s`,transitionProperty:ot,transitionDuration:`${Qt}s`,transitionTimingFunction:Me},s._x_transition.enter.start={opacity:ve,transform:`scale(${qe})`},s._x_transition.enter.end={opacity:1,transform:"scale(1)"}),I&&(s._x_transition.leave.during={transformOrigin:Xe,transitionDelay:`${ut}s`,transitionProperty:ot,transitionDuration:`${ar}s`,transitionTimingFunction:Me},s._x_transition.leave.start={opacity:1,transform:"scale(1)"},s._x_transition.leave.end={opacity:ve,transform:`scale(${qe})`})}function ao(s,l,g={}){s._x_transition||(s._x_transition={enter:{during:g,start:g,end:g},leave:{during:g,start:g,end:g},in(E=()=>{},T=()=>{}){bs(s,l,{during:this.enter.during,start:this.enter.start,end:this.enter.end},E,T)},out(E=()=>{},T=()=>{}){bs(s,l,{during:this.leave.during,start:this.leave.start,end:this.leave.end},E,T)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(s,l,g,E){const T=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let I=()=>T(g);if(l){s._x_transition&&(s._x_transition.enter||s._x_transition.leave)?s._x_transition.enter&&(Object.entries(s._x_transition.enter.during).length||Object.entries(s._x_transition.enter.start).length||Object.entries(s._x_transition.enter.end).length)?s._x_transition.in(g):I():s._x_transition?s._x_transition.in(g):I();return}s._x_hidePromise=s._x_transition?new Promise((L,B)=>{s._x_transition.out(()=>{},()=>L(E)),s._x_transitioning&&s._x_transitioning.beforeCancel(()=>B({isFromCancelledTransition:!0}))}):Promise.resolve(E),queueMicrotask(()=>{let L=oo(s);L?(L._x_hideChildren||(L._x_hideChildren=[]),L._x_hideChildren.push(s)):T(()=>{let B=re=>{let ve=Promise.all([re._x_hidePromise,...(re._x_hideChildren||[]).map(B)]).then(([qe])=>qe());return delete re._x_hidePromise,delete re._x_hideChildren,ve};B(s).catch(re=>{if(!re.isFromCancelledTransition)throw re})})})};function oo(s){let l=s.parentNode;if(!!l)return l._x_hidePromise?l:oo(l)}function bs(s,l,{during:g,start:E,end:T}={},I=()=>{},L=()=>{}){if(s._x_transitioning&&s._x_transitioning.cancel(),Object.keys(g).length===0&&Object.keys(E).length===0&&Object.keys(T).length===0){I(),L();return}let B,re,ve;vu(s,{start(){B=l(s,E)},during(){re=l(s,g)},before:I,end(){B(),ve=l(s,T)},after:L,cleanup(){re(),ve()}})}function vu(s,l){let g,E,T,I=_s(()=>{ft(()=>{g=!0,E||l.before(),T||(l.end(),As()),l.after(),s.isConnected&&l.cleanup(),delete s._x_transitioning})});s._x_transitioning={beforeCancels:[],beforeCancel(L){this.beforeCancels.push(L)},cancel:_s(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();I()}),finish:I},ft(()=>{l.start(),l.during()}),uu(),requestAnimationFrame(()=>{if(g)return;let L=Number(getComputedStyle(s).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,B=Number(getComputedStyle(s).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;L===0&&(L=Number(getComputedStyle(s).animationDuration.replace("s",""))*1e3),ft(()=>{l.before()}),E=!0,requestAnimationFrame(()=>{g||(ft(()=>{l.end()}),As(),setTimeout(s._x_transitioning.finish,L+B),T=!0)})})}function Ii(s,l,g){if(s.indexOf(l)===-1)return g;const E=s[s.indexOf(l)+1];if(!E||l==="scale"&&isNaN(E))return g;if(l==="duration"||l==="delay"){let T=E.match(/([0-9]+)ms/);if(T)return T[1]}return l==="origin"&&["top","right","left","center","bottom"].includes(s[s.indexOf(l)+2])?[E,s[s.indexOf(l)+2]].join(" "):E}var Sr=!1;function rn(s,l=()=>{}){return(...g)=>Sr?l(...g):s(...g)}function yu(s){return(...l)=>Sr&&s(...l)}function Au(s,l){s._x_dataStack&&(l._x_dataStack=s._x_dataStack,l.setAttribute("data-has-alpine-state",!0)),Sr=!0,lo(()=>{_e(l,(g,E)=>{E(g,()=>{})})}),Sr=!1}var xs=!1;function wu(s,l){l._x_dataStack||(l._x_dataStack=s._x_dataStack),Sr=!0,xs=!0,lo(()=>{_u(l)}),Sr=!1,xs=!1}function _u(s){let l=!1;_e(s,(E,T)=>{ee(E,(I,L)=>{if(l&&xe(I))return L();l=!0,T(I,L)})})}function lo(s){let l=Y;U((g,E)=>{let T=l(g);return se(T),()=>{}}),s(),U(l)}function bu(s){return Sr?xs?!0:s.hasAttribute("data-has-alpine-state"):!1}function co(s,l,g,E=[]){switch(s._x_bindings||(s._x_bindings=G({})),s._x_bindings[l]=g,l=E.includes("camel")?Ou(l):l,l){case"value":xu(s,g);break;case"style":Cu(s,g);break;case"class":Eu(s,g);break;case"selected":case"checked":Su(s,l,g);break;default:uo(s,l,g);break}}function xu(s,l){if(s.type==="radio")s.attributes.value===void 0&&(s.value=l),window.fromModel&&(s.checked=fo(s.value,l));else if(s.type==="checkbox")Number.isInteger(l)?s.value=l:!Array.isArray(l)&&typeof l!="boolean"&&![null,void 0].includes(l)?s.value=String(l):Array.isArray(l)?s.checked=l.some(g=>fo(g,s.value)):s.checked=!!l;else if(s.tagName==="SELECT")Fu(s,l);else{if(s.value===l)return;s.value=l===void 0?"":l}}function Eu(s,l){s._x_undoAddedClasses&&s._x_undoAddedClasses(),s._x_undoAddedClasses=ws(s,l)}function Cu(s,l){s._x_undoAddedStyles&&s._x_undoAddedStyles(),s._x_undoAddedStyles=tn(s,l)}function Su(s,l,g){uo(s,l,g),Tu(s,l,g)}function uo(s,l,g){[null,void 0,!1].includes(g)&&Pu(l)?s.removeAttribute(l):(ho(l)&&(g=l),Iu(s,l,g))}function Iu(s,l,g){s.getAttribute(l)!=g&&s.setAttribute(l,g)}function Tu(s,l,g){s[l]!==g&&(s[l]=g)}function Fu(s,l){const g=[].concat(l).map(E=>E+"");Array.from(s.options).forEach(E=>{E.selected=g.includes(E.value)})}function Ou(s){return s.toLowerCase().replace(/-(\w)/g,(l,g)=>g.toUpperCase())}function fo(s,l){return s==l}function ho(s){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(s)}function Pu(s){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(s)}function Lu(s,l,g){return s._x_bindings&&s._x_bindings[l]!==void 0?s._x_bindings[l]:po(s,l,g)}function Ru(s,l,g,E=!0){if(s._x_bindings&&s._x_bindings[l]!==void 0)return s._x_bindings[l];if(s._x_inlineBindings&&s._x_inlineBindings[l]!==void 0){let T=s._x_inlineBindings[l];return T.extract=E,V(()=>ce(s,T.expression))}return po(s,l,g)}function po(s,l,g){let E=s.getAttribute(l);return E===null?typeof g=="function"?g():g:E===""?!0:ho(l)?!![l,"true"].includes(E):E}function go(s,l){var g;return function(){var E=this,T=arguments,I=function(){g=null,s.apply(E,T)};clearTimeout(g),g=setTimeout(I,l)}}function mo(s,l){let g;return function(){let E=this,T=arguments;g||(s.apply(E,T),g=!0,setTimeout(()=>g=!1,l))}}function vo({get:s,set:l},{get:g,set:E}){let T=!0,I,L=Y(()=>{const B=s(),re=g();if(T)E(Es(B)),T=!1,I=JSON.stringify(B);else{const ve=JSON.stringify(B);ve!==I?(E(Es(B)),I=ve):(l(Es(re)),I=JSON.stringify(re))}JSON.stringify(g()),JSON.stringify(s())});return()=>{se(L)}}function Es(s){return typeof s=="object"?JSON.parse(JSON.stringify(s)):s}function Mu(s){(Array.isArray(s)?s:[s]).forEach(g=>g(Ti))}var Br={},yo=!1;function ku(s,l){if(yo||(Br=G(Br),yo=!0),l===void 0)return Br[s];Br[s]=l,typeof l=="object"&&l!==null&&l.hasOwnProperty("init")&&typeof l.init=="function"&&Br[s].init(),Yi(Br[s])}function Bu(){return Br}var Ao={};function Du(s,l){let g=typeof l!="function"?()=>l:l;return s instanceof Element?wo(s,g()):(Ao[s]=g,()=>{})}function Nu(s){return Object.entries(Ao).forEach(([l,g])=>{Object.defineProperty(s,l,{get(){return(...E)=>g(...E)}})}),s}function wo(s,l,g){let E=[];for(;E.length;)E.pop()();let T=Object.entries(l).map(([L,B])=>({name:L,value:B})),I=yt(T);return T=T.map(L=>I.find(B=>B.name===L.name)?{name:`x-bind:${L.name}`,value:`"${L.value}"`}:L),Bt(s,T,g).map(L=>{E.push(L.runCleanups),L()}),()=>{for(;E.length;)E.pop()()}}var _o={};function ju(s,l){_o[s]=l}function Uu(s,l){return Object.entries(_o).forEach(([g,E])=>{Object.defineProperty(s,g,{get(){return(...T)=>E.bind(l)(...T)},enumerable:!1})}),s}var Qu={get reactive(){return G},get release(){return se},get effect(){return Y},get raw(){return Re},version:"3.13.2",flushAndStopDeferringMutations:fs,dontAutoEvaluateFunctions:V,disableEffectScheduling:k,startObservingMutations:it,stopObservingMutations:jt,setReactivityEngine:D,onAttributeRemoved:fe,onAttributesAdded:ne,closestDataStack:dr,skipDuringClone:rn,onlyDuringClone:yu,addRootSelector:me,addInitSelector:Oe,addScopeToNode:br,deferMutations:us,mapAttributes:sr,evaluateLater:J,interceptInit:st,setEvaluator:Se,mergeProxies:Mr,extractProp:Ru,findClosest:Ce,onElRemoved:Ae,closestRoot:ze,destroyTree:X,interceptor:Ki,transition:bs,setStyles:tn,mutateDom:ft,directive:Qe,entangle:vo,throttle:mo,debounce:go,evaluate:ce,initTree:_e,nextTick:ys,prefixed:nt,prefix:Ke,plugin:Mu,magic:Gt,store:ku,start:ie,clone:wu,cloneNode:Au,bound:Lu,$data:Xi,walk:ee,data:ju,bind:Du},Ti=Qu,nn=d(y());Gt("nextTick",()=>ys),Gt("dispatch",s=>q.bind(q,s)),Gt("watch",(s,{evaluateLater:l,effect:g})=>(E,T)=>{let I=l(E),L=!0,B,re=g(()=>I(ve=>{JSON.stringify(ve),L?B=ve:queueMicrotask(()=>{T(ve,B),B=ve}),L=!1}));s._x_effects.delete(re)}),Gt("store",Bu),Gt("data",s=>Xi(s)),Gt("root",s=>ze(s)),Gt("refs",s=>(s._x_refs_proxy||(s._x_refs_proxy=Mr(Gu(s))),s._x_refs_proxy));function Gu(s){let l=[],g=s;for(;g;)g._x_refs&&l.push(g._x_refs),g=g.parentNode;return l}var Cs={};function bo(s){return Cs[s]||(Cs[s]=0),++Cs[s]}function zu(s,l){return Ce(s,g=>{if(g._x_ids&&g._x_ids[l])return!0})}function Hu(s,l){s._x_ids||(s._x_ids={}),s._x_ids[l]||(s._x_ids[l]=bo(l))}Gt("id",s=>(l,g=null)=>{let E=zu(s,l),T=E?E._x_ids[l]:bo(l);return g?`${l}-${T}-${g}`:`${l}-${T}`}),Gt("el",s=>s),xo("Focus","focus","focus"),xo("Persist","persist","persist");function xo(s,l,g){Gt(l,E=>$(`You can't use [$${l}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${g}`,E))}Qe("modelable",(s,{expression:l},{effect:g,evaluateLater:E,cleanup:T})=>{let I=E(l),L=()=>{let qe;return I(ut=>qe=ut),qe},B=E(`${l} = __placeholder`),re=qe=>B(()=>{},{scope:{__placeholder:qe}}),ve=L();re(ve),queueMicrotask(()=>{if(!s._x_model)return;s._x_removeModelListeners.default();let qe=s._x_model.get,ut=s._x_model.set,Xe=vo({get(){return qe()},set(ot){ut(ot)}},{get(){return L()},set(ot){re(ot)}});T(Xe)})}),Qe("teleport",(s,{modifiers:l,expression:g},{cleanup:E})=>{s.tagName.toLowerCase()!=="template"&&$("x-teleport can only be used on a <template> tag",s);let T=Eo(g),I=s.content.cloneNode(!0).firstElementChild;s._x_teleport=I,I._x_teleportBack=s,s.setAttribute("data-teleport-template",!0),I.setAttribute("data-teleport-target",!0),s._x_forwardEvents&&s._x_forwardEvents.forEach(B=>{I.addEventListener(B,re=>{re.stopPropagation(),s.dispatchEvent(new re.constructor(re.type,re))})}),br(I,{},s);let L=(B,re,ve)=>{ve.includes("prepend")?re.parentNode.insertBefore(B,re):ve.includes("append")?re.parentNode.insertBefore(B,re.nextSibling):re.appendChild(B)};ft(()=>{L(I,T,l),_e(I),I._x_ignore=!0}),s._x_teleportPutBack=()=>{let B=Eo(g);ft(()=>{L(s._x_teleport,B,l)})},E(()=>I.remove())});var $u=document.createElement("div");function Eo(s){let l=rn(()=>document.querySelector(s),()=>$u)();return l||$(`Cannot find x-teleport element for selector: "${s}"`),l}var Co=()=>{};Co.inline=(s,{modifiers:l},{cleanup:g})=>{l.includes("self")?s._x_ignoreSelf=!0:s._x_ignore=!0,g(()=>{l.includes("self")?delete s._x_ignoreSelf:delete s._x_ignore})},Qe("ignore",Co),Qe("effect",(s,{expression:l},{effect:g})=>g(J(s,l)));function Ss(s,l,g,E){let T=s,I=re=>E(re),L={},B=(re,ve)=>qe=>ve(re,qe);if(g.includes("dot")&&(l=Wu(l)),g.includes("camel")&&(l=qu(l)),g.includes("passive")&&(L.passive=!0),g.includes("capture")&&(L.capture=!0),g.includes("window")&&(T=window),g.includes("document")&&(T=document),g.includes("debounce")){let re=g[g.indexOf("debounce")+1]||"invalid-wait",ve=sn(re.split("ms")[0])?Number(re.split("ms")[0]):250;I=go(I,ve)}if(g.includes("throttle")){let re=g[g.indexOf("throttle")+1]||"invalid-wait",ve=sn(re.split("ms")[0])?Number(re.split("ms")[0]):250;I=mo(I,ve)}return g.includes("prevent")&&(I=B(I,(re,ve)=>{ve.preventDefault(),re(ve)})),g.includes("stop")&&(I=B(I,(re,ve)=>{ve.stopPropagation(),re(ve)})),g.includes("self")&&(I=B(I,(re,ve)=>{ve.target===s&&re(ve)})),(g.includes("away")||g.includes("outside"))&&(T=document,I=B(I,(re,ve)=>{s.contains(ve.target)||ve.target.isConnected!==!1&&(s.offsetWidth<1&&s.offsetHeight<1||s._x_isShown!==!1&&re(ve))})),g.includes("once")&&(I=B(I,(re,ve)=>{re(ve),T.removeEventListener(l,I,L)})),I=B(I,(re,ve)=>{Yu(l)&&Ku(ve,g)||re(ve)}),T.addEventListener(l,I,L),()=>{T.removeEventListener(l,I,L)}}function Wu(s){return s.replace(/-/g,".")}function qu(s){return s.toLowerCase().replace(/-(\w)/g,(l,g)=>g.toUpperCase())}function sn(s){return!Array.isArray(s)&&!isNaN(s)}function Xu(s){return[" ","_"].includes(s)?s:s.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Yu(s){return["keydown","keyup"].includes(s)}function Ku(s,l){let g=l.filter(I=>!["window","document","prevent","stop","once","capture"].includes(I));if(g.includes("debounce")){let I=g.indexOf("debounce");g.splice(I,sn((g[I+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.includes("throttle")){let I=g.indexOf("throttle");g.splice(I,sn((g[I+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.length===0||g.length===1&&So(s.key).includes(g[0]))return!1;const T=["ctrl","shift","alt","meta","cmd","super"].filter(I=>g.includes(I));return g=g.filter(I=>!T.includes(I)),!(T.length>0&&T.filter(L=>((L==="cmd"||L==="super")&&(L="meta"),s[`${L}Key`])).length===T.length&&So(s.key).includes(g[0]))}function So(s){if(!s)return[];s=Xu(s);let l={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return l[s]=s,Object.keys(l).map(g=>{if(l[g]===s)return g}).filter(g=>g)}Qe("model",(s,{modifiers:l,expression:g},{effect:E,cleanup:T})=>{let I=s;l.includes("parent")&&(I=s.parentNode);let L=J(I,g),B;typeof g=="string"?B=J(I,`${g} = __placeholder`):typeof g=="function"&&typeof g()=="string"?B=J(I,`${g()} = __placeholder`):B=()=>{};let re=()=>{let Xe;return L(ot=>Xe=ot),Io(Xe)?Xe.get():Xe},ve=Xe=>{let ot;L(Qt=>ot=Qt),Io(ot)?ot.set(Xe):B(()=>{},{scope:{__placeholder:Xe}})};typeof g=="string"&&s.type==="radio"&&ft(()=>{s.hasAttribute("name")||s.setAttribute("name",g)});var qe=s.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(s.type)||l.includes("lazy")?"change":"input";let ut=Sr?()=>{}:Ss(s,qe,l,Xe=>{ve(Zu(s,l,Xe,re()))});if(l.includes("fill")&&([null,""].includes(re())||s.type==="checkbox"&&Array.isArray(re()))&&s.dispatchEvent(new Event(qe,{})),s._x_removeModelListeners||(s._x_removeModelListeners={}),s._x_removeModelListeners.default=ut,T(()=>s._x_removeModelListeners.default()),s.form){let Xe=Ss(s.form,"reset",[],ot=>{ys(()=>s._x_model&&s._x_model.set(s.value))});T(()=>Xe())}s._x_model={get(){return re()},set(Xe){ve(Xe)}},s._x_forceModelUpdate=Xe=>{Xe===void 0&&typeof g=="string"&&g.match(/\./)&&(Xe=""),window.fromModel=!0,ft(()=>co(s,"value",Xe)),delete window.fromModel},E(()=>{let Xe=re();l.includes("unintrusive")&&document.activeElement.isSameNode(s)||s._x_forceModelUpdate(Xe)})});function Zu(s,l,g,E){return ft(()=>{if(g instanceof CustomEvent&&g.detail!==void 0)return g.detail!==null&&g.detail!==void 0?g.detail:g.target.value;if(s.type==="checkbox")if(Array.isArray(E)){let T=l.includes("number")?Is(g.target.value):g.target.value;return g.target.checked?E.concat([T]):E.filter(I=>!Vu(I,T))}else return g.target.checked;else{if(s.tagName.toLowerCase()==="select"&&s.multiple)return l.includes("number")?Array.from(g.target.selectedOptions).map(T=>{let I=T.value||T.text;return Is(I)}):Array.from(g.target.selectedOptions).map(T=>T.value||T.text);{let T=g.target.value;return l.includes("number")?Is(T):l.includes("trim")?T.trim():T}}})}function Is(s){let l=s?parseFloat(s):null;return Ju(l)?l:s}function Vu(s,l){return s==l}function Ju(s){return!Array.isArray(s)&&!isNaN(s)}function Io(s){return s!==null&&typeof s=="object"&&typeof s.get=="function"&&typeof s.set=="function"}Qe("cloak",s=>queueMicrotask(()=>ft(()=>s.removeAttribute(nt("cloak"))))),Oe(()=>`[${nt("init")}]`),Qe("init",rn((s,{expression:l},{evaluate:g})=>typeof l=="string"?!!l.trim()&&g(l,{},!1):g(l,{},!1))),Qe("text",(s,{expression:l},{effect:g,evaluateLater:E})=>{let T=E(l);g(()=>{T(I=>{ft(()=>{s.textContent=I})})})}),Qe("html",(s,{expression:l},{effect:g,evaluateLater:E})=>{let T=E(l);g(()=>{T(I=>{ft(()=>{s.innerHTML=I,s._x_ignoreSelf=!0,_e(s),delete s._x_ignoreSelf})})})}),sr(nr(":",Si(nt("bind:"))));var To=(s,{value:l,modifiers:g,expression:E,original:T},{effect:I})=>{if(!l){let B={};Nu(B),J(s,E)(ve=>{wo(s,ve,T)},{scope:B});return}if(l==="key")return ef(s,E);if(s._x_inlineBindings&&s._x_inlineBindings[l]&&s._x_inlineBindings[l].extract)return;let L=J(s,E);I(()=>L(B=>{B===void 0&&typeof E=="string"&&E.match(/\./)&&(B=""),ft(()=>co(s,l,B,g))}))};To.inline=(s,{value:l,modifiers:g,expression:E})=>{!l||(s._x_inlineBindings||(s._x_inlineBindings={}),s._x_inlineBindings[l]={expression:E,extract:!1})},Qe("bind",To);function ef(s,l){s._x_keyExpression=l}me(()=>`[${nt("data")}]`),Qe("data",(s,{expression:l},{cleanup:g})=>{if(bu(s))return;l=l===""?"{}":l;let E={};C(E,s);let T={};Uu(T,E);let I=ce(s,l,{scope:T});(I===void 0||I===!0)&&(I={}),C(I,s);let L=G(I);Yi(L);let B=br(s,L);L.init&&ce(s,L.init),g(()=>{L.destroy&&ce(s,L.destroy),B()})}),Qe("show",(s,{modifiers:l,expression:g},{effect:E})=>{let T=J(s,g);s._x_doHide||(s._x_doHide=()=>{ft(()=>{s.style.setProperty("display","none",l.includes("important")?"important":void 0)})}),s._x_doShow||(s._x_doShow=()=>{ft(()=>{s.style.length===1&&s.style.display==="none"?s.removeAttribute("style"):s.style.removeProperty("display")})});let I=()=>{s._x_doHide(),s._x_isShown=!1},L=()=>{s._x_doShow(),s._x_isShown=!0},B=()=>setTimeout(L),re=_s(ut=>ut?L():I(),ut=>{typeof s._x_toggleAndCascadeWithTransitions=="function"?s._x_toggleAndCascadeWithTransitions(s,ut,L,I):ut?B():I()}),ve,qe=!0;E(()=>T(ut=>{!qe&&ut===ve||(l.includes("immediate")&&(ut?B():I()),re(ut),ve=ut,qe=!1)}))}),Qe("for",(s,{expression:l},{effect:g,cleanup:E})=>{let T=rf(l),I=J(s,T.items),L=J(s,s._x_keyExpression||"index");s._x_prevKeys=[],s._x_lookup={},g(()=>tf(s,T,I,L)),E(()=>{Object.values(s._x_lookup).forEach(B=>B.remove()),delete s._x_prevKeys,delete s._x_lookup})});function tf(s,l,g,E){let T=L=>typeof L=="object"&&!Array.isArray(L),I=s;g(L=>{nf(L)&&L>=0&&(L=Array.from(Array(L).keys(),Me=>Me+1)),L===void 0&&(L=[]);let B=s._x_lookup,re=s._x_prevKeys,ve=[],qe=[];if(T(L))L=Object.entries(L).map(([Me,Ve])=>{let $e=Fo(l,Ve,Me,L);E(tt=>qe.push(tt),{scope:{index:Me,...$e}}),ve.push($e)});else for(let Me=0;Me<L.length;Me++){let Ve=Fo(l,L[Me],Me,L);E($e=>qe.push($e),{scope:{index:Me,...Ve}}),ve.push(Ve)}let ut=[],Xe=[],ot=[],Qt=[];for(let Me=0;Me<re.length;Me++){let Ve=re[Me];qe.indexOf(Ve)===-1&&ot.push(Ve)}re=re.filter(Me=>!ot.includes(Me));let ar="template";for(let Me=0;Me<qe.length;Me++){let Ve=qe[Me],$e=re.indexOf(Ve);if($e===-1)re.splice(Me,0,Ve),ut.push([ar,Me]);else if($e!==Me){let tt=re.splice(Me,1)[0],It=re.splice($e-1,1)[0];re.splice(Me,0,It),re.splice($e,0,tt),Xe.push([tt,It])}else Qt.push(Ve);ar=Ve}for(let Me=0;Me<ot.length;Me++){let Ve=ot[Me];B[Ve]._x_effects&&B[Ve]._x_effects.forEach(F),B[Ve].remove(),B[Ve]=null,delete B[Ve]}for(let Me=0;Me<Xe.length;Me++){let[Ve,$e]=Xe[Me],tt=B[Ve],It=B[$e],Kt=document.createElement("div");ft(()=>{It||$('x-for ":key" is undefined or invalid',I),It.after(Kt),tt.after(It),It._x_currentIfEl&&It.after(It._x_currentIfEl),Kt.before(tt),tt._x_currentIfEl&&tt.after(tt._x_currentIfEl),Kt.remove()}),It._x_refreshXForScope(ve[qe.indexOf($e)])}for(let Me=0;Me<ut.length;Me++){let[Ve,$e]=ut[Me],tt=Ve==="template"?I:B[Ve];tt._x_currentIfEl&&(tt=tt._x_currentIfEl);let It=ve[$e],Kt=qe[$e],or=document.importNode(I.content,!0).firstElementChild,Yr=G(It);br(or,Yr,I),or._x_refreshXForScope=Fi=>{Object.entries(Fi).forEach(([Oi,Kr])=>{Yr[Oi]=Kr})},ft(()=>{tt.after(or),_e(or)}),typeof Kt=="object"&&$("x-for key cannot be an object, it must be a string or an integer",I),B[Kt]=or}for(let Me=0;Me<Qt.length;Me++)B[Qt[Me]]._x_refreshXForScope(ve[qe.indexOf(Qt[Me])]);I._x_prevKeys=qe})}function rf(s){let l=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,g=/^\s*\(|\)\s*$/g,E=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,T=s.match(E);if(!T)return;let I={};I.items=T[2].trim();let L=T[1].replace(g,"").trim(),B=L.match(l);return B?(I.item=L.replace(l,"").trim(),I.index=B[1].trim(),B[2]&&(I.collection=B[2].trim())):I.item=L,I}function Fo(s,l,g,E){let T={};return/^\[.*\]$/.test(s.item)&&Array.isArray(l)?s.item.replace("[","").replace("]","").split(",").map(L=>L.trim()).forEach((L,B)=>{T[L]=l[B]}):/^\{.*\}$/.test(s.item)&&!Array.isArray(l)&&typeof l=="object"?s.item.replace("{","").replace("}","").split(",").map(L=>L.trim()).forEach(L=>{T[L]=l[L]}):T[s.item]=l,s.index&&(T[s.index]=g),s.collection&&(T[s.collection]=E),T}function nf(s){return!Array.isArray(s)&&!isNaN(s)}function Oo(){}Oo.inline=(s,{expression:l},{cleanup:g})=>{let E=ze(s);E._x_refs||(E._x_refs={}),E._x_refs[l]=s,g(()=>delete E._x_refs[l])},Qe("ref",Oo),Qe("if",(s,{expression:l},{effect:g,cleanup:E})=>{s.tagName.toLowerCase()!=="template"&&$("x-if can only be used on a <template> tag",s);let T=J(s,l),I=()=>{if(s._x_currentIfEl)return s._x_currentIfEl;let B=s.content.cloneNode(!0).firstElementChild;return br(B,{},s),ft(()=>{s.after(B),_e(B)}),s._x_currentIfEl=B,s._x_undoIf=()=>{ee(B,re=>{re._x_effects&&re._x_effects.forEach(F)}),B.remove(),delete s._x_currentIfEl},B},L=()=>{!s._x_undoIf||(s._x_undoIf(),delete s._x_undoIf)};g(()=>T(B=>{B?I():L()})),E(()=>s._x_undoIf&&s._x_undoIf())}),Qe("id",(s,{expression:l},{evaluate:g})=>{g(l).forEach(T=>Hu(s,T))}),sr(nr("@",Si(nt("on:")))),Qe("on",rn((s,{value:l,modifiers:g,expression:E},{cleanup:T})=>{let I=E?J(s,E):()=>{};s.tagName.toLowerCase()==="template"&&(s._x_forwardEvents||(s._x_forwardEvents=[]),s._x_forwardEvents.includes(l)||s._x_forwardEvents.push(l));let L=Ss(s,l,g,B=>{I(()=>{},{scope:{$event:B},params:[B]})});T(()=>L())})),an("Collapse","collapse","collapse"),an("Intersect","intersect","intersect"),an("Focus","trap","focus"),an("Mask","mask","mask");function an(s,l,g){Qe(l,E=>$(`You can't use [x-${l}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${g}`,E))}Ti.setEvaluator(Ie),Ti.setReactivityEngine({reactive:nn.reactive,effect:nn.effect,release:nn.stop,raw:nn.toRaw});var sf=Ti,af=sf}}),bd=wr({"../alpine/packages/collapse/dist/module.cjs.js"(r,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(b,v)=>{for(var m in v)t(b,m,{get:v[m],enumerable:!0})},o=(b,v,m,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let w of n(v))!a.call(b,w)&&w!==m&&t(b,w,{get:()=>v[w],enumerable:!(y=i(v,w))||y.enumerable});return b},u=b=>o(t({},"__esModule",{value:!0}),b),f={};c(f,{default:()=>p}),e.exports=u(f);function h(b){b.directive("collapse",v),v.inline=(m,{modifiers:y})=>{!y.includes("min")||(m._x_doShow=()=>{},m._x_doHide=()=>{})};function v(m,{modifiers:y}){let w=d(y,"duration",250)/1e3,x=d(y,"min",0),_=!y.includes("min");m._x_isShown||(m.style.height=`${x}px`),!m._x_isShown&&_&&(m.hidden=!0),m._x_isShown||(m.style.overflow="hidden");let S=(R,O)=>{let F=b.setStyles(R,O);return O.height?()=>{}:F},z={transitionProperty:"height",transitionDuration:`${w}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};m._x_transition={in(R=()=>{},O=()=>{}){_&&(m.hidden=!1),_&&(m.style.display=null);let F=m.getBoundingClientRect().height;m.style.height="auto";let j=m.getBoundingClientRect().height;F===j&&(F=x),b.transition(m,b.setStyles,{during:z,start:{height:F+"px"},end:{height:j+"px"}},()=>m._x_isShown=!0,()=>{m.getBoundingClientRect().height==j&&(m.style.overflow=null)})},out(R=()=>{},O=()=>{}){let F=m.getBoundingClientRect().height;b.transition(m,S,{during:z,start:{height:F+"px"},end:{height:x+"px"}},()=>m.style.overflow="hidden",()=>{m._x_isShown=!1,m.style.height==`${x}px`&&_&&(m.style.display="none",m.hidden=!0)})}}}}function d(b,v,m){if(b.indexOf(v)===-1)return m;const y=b[b.indexOf(v)+1];if(!y)return m;if(v==="duration"){let w=y.match(/([0-9]+)ms/);if(w)return w[1]}if(v==="min"){let w=y.match(/([0-9]+)px/);if(w)return w[1]}return y}var p=h}}),xd=wr({"../alpine/packages/focus/dist/module.cjs.js"(r,e){var t=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(O,F)=>function(){return F||(0,O[a(O)[0]])((F={exports:{}}).exports,F),F.exports},f=(O,F)=>{for(var j in F)i(O,j,{get:F[j],enumerable:!0})},h=(O,F,j,W)=>{if(F&&typeof F=="object"||typeof F=="function")for(let G of a(F))!o.call(O,G)&&G!==j&&i(O,G,{get:()=>F[G],enumerable:!(W=n(F,G))||W.enumerable});return O},d=(O,F,j)=>(j=O!=null?t(c(O)):{},h(F||!O||!O.__esModule?i(j,"default",{value:O,enumerable:!0}):j,O)),p=O=>h(i({},"__esModule",{value:!0}),O),b=u({"node_modules/tabbable/dist/index.js"(O){Object.defineProperty(O,"__esModule",{value:!0});var F=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],j=F.join(","),W=typeof Element=="undefined",G=W?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Y=!W&&Element.prototype.getRootNode?function(_e){return _e.getRootNode()}:function(_e){return _e.ownerDocument},se=function(X,te,Te){var ue=Array.prototype.slice.apply(X.querySelectorAll(j));return te&&G.call(X,j)&&ue.unshift(X),ue=ue.filter(Te),ue},Re=function _e(X,te,Te){for(var ue=[],rt=Array.from(X);rt.length;){var Ae=rt.shift();if(Ae.tagName==="SLOT"){var ne=Ae.assignedElements(),fe=ne.length?ne:Ae.children,Ee=_e(fe,!0,Te);Te.flatten?ue.push.apply(ue,Ee):ue.push({scope:Ae,candidates:Ee})}else{var We=G.call(Ae,j);We&&Te.filter(Ae)&&(te||!X.includes(Ae))&&ue.push(Ae);var ke=Ae.shadowRoot||typeof Te.getShadowRoot=="function"&&Te.getShadowRoot(Ae),at=!Te.shadowRootFilter||Te.shadowRootFilter(Ae);if(ke&&at){var it=_e(ke===!0?Ae.children:ke.children,!0,Te);Te.flatten?ue.push.apply(ue,it):ue.push({scope:Ae,candidates:it})}else rt.unshift.apply(rt,Ae.children)}}return ue},we=function(X,te){return X.tabIndex<0&&(te||/^(AUDIO|VIDEO|DETAILS)$/.test(X.tagName)||X.isContentEditable)&&isNaN(parseInt(X.getAttribute("tabindex"),10))?0:X.tabIndex},k=function(X,te){return X.tabIndex===te.tabIndex?X.documentOrder-te.documentOrder:X.tabIndex-te.tabIndex},D=function(X){return X.tagName==="INPUT"},U=function(X){return D(X)&&X.type==="hidden"},Z=function(X){var te=X.tagName==="DETAILS"&&Array.prototype.slice.apply(X.children).some(function(Te){return Te.tagName==="SUMMARY"});return te},q=function(X,te){for(var Te=0;Te<X.length;Te++)if(X[Te].checked&&X[Te].form===te)return X[Te]},ee=function(X){if(!X.name)return!0;var te=X.form||Y(X),Te=function(ne){return te.querySelectorAll('input[type="radio"][name="'+ne+'"]')},ue;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")ue=Te(window.CSS.escape(X.name));else try{ue=Te(X.name)}catch(Ae){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Ae.message),!1}var rt=q(ue,X.form);return!rt||rt===X},$=function(X){return D(X)&&X.type==="radio"},le=function(X){return $(X)&&!ee(X)},ie=function(X){var te=X.getBoundingClientRect(),Te=te.width,ue=te.height;return Te===0&&ue===0},ae=function(X,te){var Te=te.displayCheck,ue=te.getShadowRoot;if(getComputedStyle(X).visibility==="hidden")return!0;var rt=G.call(X,"details>summary:first-of-type"),Ae=rt?X.parentElement:X;if(G.call(Ae,"details:not([open]) *"))return!0;var ne=Y(X).host,fe=(ne==null?void 0:ne.ownerDocument.contains(ne))||X.ownerDocument.contains(X);if(!Te||Te==="full"){if(typeof ue=="function"){for(var Ee=X;X;){var We=X.parentElement,ke=Y(X);if(We&&!We.shadowRoot&&ue(We)===!0)return ie(X);X.assignedSlot?X=X.assignedSlot:!We&&ke!==X.ownerDocument?X=ke.host:X=We}X=Ee}if(fe)return!X.getClientRects().length}else if(Te==="non-zero-area")return ie(X);return!1},de=function(X){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(X.tagName))for(var te=X.parentElement;te;){if(te.tagName==="FIELDSET"&&te.disabled){for(var Te=0;Te<te.children.length;Te++){var ue=te.children.item(Te);if(ue.tagName==="LEGEND")return G.call(te,"fieldset[disabled] *")?!0:!ue.contains(X)}return!0}te=te.parentElement}return!1},Be=function(X,te){return!(te.disabled||U(te)||ae(te,X)||Z(te)||de(te))},oe=function(X,te){return!(le(te)||we(te)<0||!Be(X,te))},me=function(X){var te=parseInt(X.getAttribute("tabindex"),10);return!!(isNaN(te)||te>=0)},Oe=function _e(X){var te=[],Te=[];return X.forEach(function(ue,rt){var Ae=!!ue.scope,ne=Ae?ue.scope:ue,fe=we(ne,Ae),Ee=Ae?_e(ue.candidates):ne;fe===0?Ae?te.push.apply(te,Ee):te.push(ne):Te.push({documentOrder:rt,tabIndex:fe,item:ue,isScope:Ae,content:Ee})}),Te.sort(k).reduce(function(ue,rt){return rt.isScope?ue.push.apply(ue,rt.content):ue.push(rt.content),ue},[]).concat(te)},ze=function(X,te){te=te||{};var Te;return te.getShadowRoot?Te=Re([X],te.includeContainer,{filter:oe.bind(null,te),flatten:!1,getShadowRoot:te.getShadowRoot,shadowRootFilter:me}):Te=se(X,te.includeContainer,oe.bind(null,te)),Oe(Te)},Ce=function(X,te){te=te||{};var Te;return te.getShadowRoot?Te=Re([X],te.includeContainer,{filter:Be.bind(null,te),flatten:!0,getShadowRoot:te.getShadowRoot}):Te=se(X,te.includeContainer,Be.bind(null,te)),Te},xe=function(X,te){if(te=te||{},!X)throw new Error("No node provided");return G.call(X,j)===!1?!1:oe(te,X)},mt=F.concat("iframe").join(","),st=function(X,te){if(te=te||{},!X)throw new Error("No node provided");return G.call(X,mt)===!1?!1:Be(te,X)};O.focusable=Ce,O.isFocusable=st,O.isTabbable=xe,O.tabbable=ze}}),v=u({"node_modules/focus-trap/dist/focus-trap.js"(O){Object.defineProperty(O,"__esModule",{value:!0});var F=b();function j(ee,$){var le=Object.keys(ee);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(ee);$&&(ie=ie.filter(function(ae){return Object.getOwnPropertyDescriptor(ee,ae).enumerable})),le.push.apply(le,ie)}return le}function W(ee){for(var $=1;$<arguments.length;$++){var le=arguments[$]!=null?arguments[$]:{};$%2?j(Object(le),!0).forEach(function(ie){G(ee,ie,le[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(le)):j(Object(le)).forEach(function(ie){Object.defineProperty(ee,ie,Object.getOwnPropertyDescriptor(le,ie))})}return ee}function G(ee,$,le){return $ in ee?Object.defineProperty(ee,$,{value:le,enumerable:!0,configurable:!0,writable:!0}):ee[$]=le,ee}var Y=function(){var ee=[];return{activateTrap:function(le){if(ee.length>0){var ie=ee[ee.length-1];ie!==le&&ie.pause()}var ae=ee.indexOf(le);ae===-1||ee.splice(ae,1),ee.push(le)},deactivateTrap:function(le){var ie=ee.indexOf(le);ie!==-1&&ee.splice(ie,1),ee.length>0&&ee[ee.length-1].unpause()}}}(),se=function($){return $.tagName&&$.tagName.toLowerCase()==="input"&&typeof $.select=="function"},Re=function($){return $.key==="Escape"||$.key==="Esc"||$.keyCode===27},we=function($){return $.key==="Tab"||$.keyCode===9},k=function($){return setTimeout($,0)},D=function($,le){var ie=-1;return $.every(function(ae,de){return le(ae)?(ie=de,!1):!0}),ie},U=function($){for(var le=arguments.length,ie=new Array(le>1?le-1:0),ae=1;ae<le;ae++)ie[ae-1]=arguments[ae];return typeof $=="function"?$.apply(void 0,ie):$},Z=function($){return $.target.shadowRoot&&typeof $.composedPath=="function"?$.composedPath()[0]:$.target},q=function($,le){var ie=(le==null?void 0:le.document)||document,ae=W({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},le),de={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},Be,oe=function(ne,fe,Ee){return ne&&ne[fe]!==void 0?ne[fe]:ae[Ee||fe]},me=function(ne){return de.containerGroups.findIndex(function(fe){var Ee=fe.container,We=fe.tabbableNodes;return Ee.contains(ne)||We.find(function(ke){return ke===ne})})},Oe=function(ne){var fe=ae[ne];if(typeof fe=="function"){for(var Ee=arguments.length,We=new Array(Ee>1?Ee-1:0),ke=1;ke<Ee;ke++)We[ke-1]=arguments[ke];fe=fe.apply(void 0,We)}if(fe===!0&&(fe=void 0),!fe){if(fe===void 0||fe===!1)return fe;throw new Error("`".concat(ne,"` was specified but was not a node, or did not return a node"))}var at=fe;if(typeof fe=="string"&&(at=ie.querySelector(fe),!at))throw new Error("`".concat(ne,"` as selector refers to no known node"));return at},ze=function(){var ne=Oe("initialFocus");if(ne===!1)return!1;if(ne===void 0)if(me(ie.activeElement)>=0)ne=ie.activeElement;else{var fe=de.tabbableGroups[0],Ee=fe&&fe.firstTabbableNode;ne=Ee||Oe("fallbackFocus")}if(!ne)throw new Error("Your focus-trap needs to have at least one focusable element");return ne},Ce=function(){if(de.containerGroups=de.containers.map(function(ne){var fe=F.tabbable(ne,ae.tabbableOptions),Ee=F.focusable(ne,ae.tabbableOptions);return{container:ne,tabbableNodes:fe,focusableNodes:Ee,firstTabbableNode:fe.length>0?fe[0]:null,lastTabbableNode:fe.length>0?fe[fe.length-1]:null,nextTabbableNode:function(ke){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,it=Ee.findIndex(function(jt){return jt===ke});if(!(it<0))return at?Ee.slice(it+1).find(function(jt){return F.isTabbable(jt,ae.tabbableOptions)}):Ee.slice(0,it).reverse().find(function(jt){return F.isTabbable(jt,ae.tabbableOptions)})}}}),de.tabbableGroups=de.containerGroups.filter(function(ne){return ne.tabbableNodes.length>0}),de.tabbableGroups.length<=0&&!Oe("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},xe=function Ae(ne){if(ne!==!1&&ne!==ie.activeElement){if(!ne||!ne.focus){Ae(ze());return}ne.focus({preventScroll:!!ae.preventScroll}),de.mostRecentlyFocusedNode=ne,se(ne)&&ne.select()}},mt=function(ne){var fe=Oe("setReturnFocus",ne);return fe||(fe===!1?!1:ne)},st=function(ne){var fe=Z(ne);if(!(me(fe)>=0)){if(U(ae.clickOutsideDeactivates,ne)){Be.deactivate({returnFocus:ae.returnFocusOnDeactivate&&!F.isFocusable(fe,ae.tabbableOptions)});return}U(ae.allowOutsideClick,ne)||ne.preventDefault()}},_e=function(ne){var fe=Z(ne),Ee=me(fe)>=0;Ee||fe instanceof Document?Ee&&(de.mostRecentlyFocusedNode=fe):(ne.stopImmediatePropagation(),xe(de.mostRecentlyFocusedNode||ze()))},X=function(ne){var fe=Z(ne);Ce();var Ee=null;if(de.tabbableGroups.length>0){var We=me(fe),ke=We>=0?de.containerGroups[We]:void 0;if(We<0)ne.shiftKey?Ee=de.tabbableGroups[de.tabbableGroups.length-1].lastTabbableNode:Ee=de.tabbableGroups[0].firstTabbableNode;else if(ne.shiftKey){var at=D(de.tabbableGroups,function(Lr){var ft=Lr.firstTabbableNode;return fe===ft});if(at<0&&(ke.container===fe||F.isFocusable(fe,ae.tabbableOptions)&&!F.isTabbable(fe,ae.tabbableOptions)&&!ke.nextTabbableNode(fe,!1))&&(at=We),at>=0){var it=at===0?de.tabbableGroups.length-1:at-1,jt=de.tabbableGroups[it];Ee=jt.lastTabbableNode}}else{var ct=D(de.tabbableGroups,function(Lr){var ft=Lr.lastTabbableNode;return fe===ft});if(ct<0&&(ke.container===fe||F.isFocusable(fe,ae.tabbableOptions)&&!F.isTabbable(fe,ae.tabbableOptions)&&!ke.nextTabbableNode(fe))&&(ct=We),ct>=0){var _r=ct===de.tabbableGroups.length-1?0:ct+1,bi=de.tabbableGroups[_r];Ee=bi.firstTabbableNode}}}else Ee=Oe("fallbackFocus");Ee&&(ne.preventDefault(),xe(Ee))},te=function(ne){if(Re(ne)&&U(ae.escapeDeactivates,ne)!==!1){ne.preventDefault(),Be.deactivate();return}if(we(ne)){X(ne);return}},Te=function(ne){var fe=Z(ne);me(fe)>=0||U(ae.clickOutsideDeactivates,ne)||U(ae.allowOutsideClick,ne)||(ne.preventDefault(),ne.stopImmediatePropagation())},ue=function(){if(!!de.active)return Y.activateTrap(Be),de.delayInitialFocusTimer=ae.delayInitialFocus?k(function(){xe(ze())}):xe(ze()),ie.addEventListener("focusin",_e,!0),ie.addEventListener("mousedown",st,{capture:!0,passive:!1}),ie.addEventListener("touchstart",st,{capture:!0,passive:!1}),ie.addEventListener("click",Te,{capture:!0,passive:!1}),ie.addEventListener("keydown",te,{capture:!0,passive:!1}),Be},rt=function(){if(!!de.active)return ie.removeEventListener("focusin",_e,!0),ie.removeEventListener("mousedown",st,!0),ie.removeEventListener("touchstart",st,!0),ie.removeEventListener("click",Te,!0),ie.removeEventListener("keydown",te,!0),Be};return Be={get active(){return de.active},get paused(){return de.paused},activate:function(ne){if(de.active)return this;var fe=oe(ne,"onActivate"),Ee=oe(ne,"onPostActivate"),We=oe(ne,"checkCanFocusTrap");We||Ce(),de.active=!0,de.paused=!1,de.nodeFocusedBeforeActivation=ie.activeElement,fe&&fe();var ke=function(){We&&Ce(),ue(),Ee&&Ee()};return We?(We(de.containers.concat()).then(ke,ke),this):(ke(),this)},deactivate:function(ne){if(!de.active)return this;var fe=W({onDeactivate:ae.onDeactivate,onPostDeactivate:ae.onPostDeactivate,checkCanReturnFocus:ae.checkCanReturnFocus},ne);clearTimeout(de.delayInitialFocusTimer),de.delayInitialFocusTimer=void 0,rt(),de.active=!1,de.paused=!1,Y.deactivateTrap(Be);var Ee=oe(fe,"onDeactivate"),We=oe(fe,"onPostDeactivate"),ke=oe(fe,"checkCanReturnFocus"),at=oe(fe,"returnFocus","returnFocusOnDeactivate");Ee&&Ee();var it=function(){k(function(){at&&xe(mt(de.nodeFocusedBeforeActivation)),We&&We()})};return at&&ke?(ke(mt(de.nodeFocusedBeforeActivation)).then(it,it),this):(it(),this)},pause:function(){return de.paused||!de.active?this:(de.paused=!0,rt(),this)},unpause:function(){return!de.paused||!de.active?this:(de.paused=!1,Ce(),ue(),this)},updateContainerElements:function(ne){var fe=[].concat(ne).filter(Boolean);return de.containers=fe.map(function(Ee){return typeof Ee=="string"?ie.querySelector(Ee):Ee}),de.active&&Ce(),this}},Be.updateContainerElements($),Be};O.createFocusTrap=q}}),m={};f(m,{default:()=>R}),e.exports=p(m);var y=d(v()),w=d(b());function x(O){let F,j;window.addEventListener("focusin",()=>{F=j,j=document.activeElement}),O.magic("focus",W=>{let G=W;return{__noscroll:!1,__wrapAround:!1,within(Y){return G=Y,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(Y){return(0,w.isFocusable)(Y)},previouslyFocused(){return F},lastFocused(){return F},focused(){return j},focusables(){return Array.isArray(G)?G:(0,w.focusable)(G,{displayCheck:"none"})},all(){return this.focusables()},isFirst(Y){let se=this.all();return se[0]&&se[0].isSameNode(Y)},isLast(Y){let se=this.all();return se.length&&se.slice(-1)[0].isSameNode(Y)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let Y=this.all(),se=document.activeElement;if(Y.indexOf(se)!==-1)return this.__wrapAround&&Y.indexOf(se)===Y.length-1?Y[0]:Y[Y.indexOf(se)+1]},getPrevious(){let Y=this.all(),se=document.activeElement;if(Y.indexOf(se)!==-1)return this.__wrapAround&&Y.indexOf(se)===0?Y.slice(-1)[0]:Y[Y.indexOf(se)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(Y){!Y||setTimeout(()=>{Y.hasAttribute("tabindex")||Y.setAttribute("tabindex","0"),Y.focus({preventScroll:this._noscroll})})}}}),O.directive("trap",O.skipDuringClone((W,{expression:G,modifiers:Y},{effect:se,evaluateLater:Re,cleanup:we})=>{let k=Re(G),D=!1,U={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>W},Z=W.querySelector("[autofocus]");Z&&(U.initialFocus=Z);let q=(0,y.createFocusTrap)(W,U),ee=()=>{},$=()=>{};const le=()=>{ee(),ee=()=>{},$(),$=()=>{},q.deactivate({returnFocus:!Y.includes("noreturn")})};se(()=>k(ie=>{D!==ie&&(ie&&!D&&(Y.includes("noscroll")&&($=z()),Y.includes("inert")&&(ee=_(W)),setTimeout(()=>{q.activate()},15)),!ie&&D&&le(),D=!!ie)})),we(le)},(W,{expression:G,modifiers:Y},{evaluate:se})=>{Y.includes("inert")&&se(G)&&_(W)}))}function _(O){let F=[];return S(O,j=>{let W=j.hasAttribute("aria-hidden");j.setAttribute("aria-hidden","true"),F.push(()=>W||j.removeAttribute("aria-hidden"))}),()=>{for(;F.length;)F.pop()()}}function S(O,F){O.isSameNode(document.body)||!O.parentNode||Array.from(O.parentNode.children).forEach(j=>{j.isSameNode(O)?S(O.parentNode,F):F(j)})}function z(){let O=document.documentElement.style.overflow,F=document.documentElement.style.paddingRight,j=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${j}px`,()=>{document.documentElement.style.overflow=O,document.documentElement.style.paddingRight=F}}var R=x}}),Ed=wr({"../alpine/packages/persist/dist/module.cjs.js"(r,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(m,y)=>{for(var w in y)t(m,w,{get:y[w],enumerable:!0})},o=(m,y,w,x)=>{if(y&&typeof y=="object"||typeof y=="function")for(let _ of n(y))!a.call(m,_)&&_!==w&&t(m,_,{get:()=>y[_],enumerable:!(x=i(y,_))||x.enumerable});return m},u=m=>o(t({},"__esModule",{value:!0}),m),f={};c(f,{default:()=>v}),e.exports=u(f);function h(m){let y=()=>{let w,x;try{x=localStorage}catch(_){console.error(_),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let S=new Map;x={getItem:S.get.bind(S),setItem:S.set.bind(S)}}return m.interceptor((_,S,z,R,O)=>{let F=w||`_x_${R}`,j=d(F,x)?p(F,x):_;return z(j),m.effect(()=>{let W=S();b(F,W,x),z(W)}),j},_=>{_.as=S=>(w=S,_),_.using=S=>(x=S,_)})};Object.defineProperty(m,"$persist",{get:()=>y()}),m.magic("persist",y),m.persist=(w,{get:x,set:_},S=localStorage)=>{let z=d(w,S)?p(w,S):x();_(z),m.effect(()=>{let R=x();b(w,R,S),_(R)})}}function d(m,y){return y.getItem(m)!==null}function p(m,y){return JSON.parse(y.getItem(m,y))}function b(m,y,w){w.setItem(m,JSON.stringify(y))}var v=h}}),Cd=wr({"../alpine/packages/intersect/dist/module.cjs.js"(r,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(m,y)=>{for(var w in y)t(m,w,{get:y[w],enumerable:!0})},o=(m,y,w,x)=>{if(y&&typeof y=="object"||typeof y=="function")for(let _ of n(y))!a.call(m,_)&&_!==w&&t(m,_,{get:()=>y[_],enumerable:!(x=i(y,_))||x.enumerable});return m},u=m=>o(t({},"__esModule",{value:!0}),m),f={};c(f,{default:()=>v}),e.exports=u(f);function h(m){m.directive("intersect",(y,{value:w,expression:x,modifiers:_},{evaluateLater:S,cleanup:z})=>{let R=S(x),O={rootMargin:b(_),threshold:d(_)},F=new IntersectionObserver(j=>{j.forEach(W=>{W.isIntersecting!==(w==="leave")&&(R(),_.includes("once")&&F.disconnect())})},O);F.observe(y),z(()=>{F.disconnect()})})}function d(m){if(m.includes("full"))return .99;if(m.includes("half"))return .5;if(!m.includes("threshold"))return 0;let y=m[m.indexOf("threshold")+1];return y==="100"?1:y==="0"?0:Number(`.${y}`)}function p(m){let y=m.match(/^(-?[0-9]+)(px|%)?$/);return y?y[1]+(y[2]||"px"):void 0}function b(m){const y="margin",w="0px 0px 0px 0px",x=m.indexOf(y);if(x===-1)return w;let _=[];for(let S=1;S<5;S++)_.push(p(m[x+S]||""));return _=_.filter(S=>S!==void 0),_.length?_.join(" ").trim():w}var v=h}}),Sd=wr({"../alpine/packages/anchor/dist/module.cjs.js"(r,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(C,P)=>{for(var N in P)t(C,N,{get:P[N],enumerable:!0})},o=(C,P,N,Q)=>{if(P&&typeof P=="object"||typeof P=="function")for(let V of n(P))!a.call(C,V)&&V!==N&&t(C,V,{get:()=>P[V],enumerable:!(Q=i(P,V))||Q.enumerable});return C},u=C=>o(t({},"__esModule",{value:!0}),C),f={};c(f,{default:()=>Gt}),e.exports=u(f);var h=Math.min,d=Math.max,p=Math.round,b=Math.floor,v=C=>({x:C,y:C}),m={left:"right",right:"left",bottom:"top",top:"bottom"},y={start:"end",end:"start"};function w(C,P,N){return d(C,h(P,N))}function x(C,P){return typeof C=="function"?C(P):C}function _(C){return C.split("-")[0]}function S(C){return C.split("-")[1]}function z(C){return C==="x"?"y":"x"}function R(C){return C==="y"?"height":"width"}function O(C){return["top","bottom"].includes(_(C))?"y":"x"}function F(C){return z(O(C))}function j(C,P,N){N===void 0&&(N=!1);const Q=S(C),V=F(C),ce=R(V);let J=V==="x"?Q===(N?"end":"start")?"right":"left":Q==="start"?"bottom":"top";return P.reference[ce]>P.floating[ce]&&(J=Re(J)),[J,Re(J)]}function W(C){const P=Re(C);return[G(C),P,G(P)]}function G(C){return C.replace(/start|end/g,P=>y[P])}function Y(C,P,N){const Q=["left","right"],V=["right","left"],ce=["top","bottom"],J=["bottom","top"];switch(C){case"top":case"bottom":return N?P?V:Q:P?Q:V;case"left":case"right":return P?ce:J;default:return[]}}function se(C,P,N,Q){const V=S(C);let ce=Y(_(C),N==="start",Q);return V&&(ce=ce.map(J=>J+"-"+V),P&&(ce=ce.concat(ce.map(G)))),ce}function Re(C){return C.replace(/left|right|bottom|top/g,P=>m[P])}function we(C){return{top:0,right:0,bottom:0,left:0,...C}}function k(C){return typeof C!="number"?we(C):{top:C,right:C,bottom:C,left:C}}function D(C){return{...C,top:C.y,left:C.x,right:C.x+C.width,bottom:C.y+C.height}}function U(C,P,N){let{reference:Q,floating:V}=C;const ce=O(P),J=F(P),ge=R(J),Se=_(P),Ie=ce==="y",Ue=Q.x+Q.width/2-V.width/2,Ne=Q.y+Q.height/2-V.height/2,Ze=Q[ge]/2-V[ge]/2;let Le;switch(Se){case"top":Le={x:Ue,y:Q.y-V.height};break;case"bottom":Le={x:Ue,y:Q.y+Q.height};break;case"right":Le={x:Q.x+Q.width,y:Ne};break;case"left":Le={x:Q.x-V.width,y:Ne};break;default:Le={x:Q.x,y:Q.y}}switch(S(P)){case"start":Le[J]-=Ze*(N&&Ie?-1:1);break;case"end":Le[J]+=Ze*(N&&Ie?-1:1);break}return Le}var Z=async(C,P,N)=>{const{placement:Q="bottom",strategy:V="absolute",middleware:ce=[],platform:J}=N,ge=ce.filter(Boolean),Se=await(J.isRTL==null?void 0:J.isRTL(P));let Ie=await J.getElementRects({reference:C,floating:P,strategy:V}),{x:Ue,y:Ne}=U(Ie,Q,Se),Ze=Q,Le={},De=0;for(let He=0;He<ge.length;He++){const{name:nt,fn:Ke}=ge[He],{x:dt,y:Qe,data:Bt,reset:yt}=await Ke({x:Ue,y:Ne,initialPlacement:Q,placement:Ze,strategy:V,middlewareData:Le,rects:Ie,platform:J,elements:{reference:C,floating:P}});if(Ue=dt!=null?dt:Ue,Ne=Qe!=null?Qe:Ne,Le={...Le,[nt]:{...Le[nt],...Bt}},yt&&De<=50){De++,typeof yt=="object"&&(yt.placement&&(Ze=yt.placement),yt.rects&&(Ie=yt.rects===!0?await J.getElementRects({reference:C,floating:P,strategy:V}):yt.rects),{x:Ue,y:Ne}=U(Ie,Ze,Se)),He=-1;continue}}return{x:Ue,y:Ne,placement:Ze,strategy:V,middlewareData:Le}};async function q(C,P){var N;P===void 0&&(P={});const{x:Q,y:V,platform:ce,rects:J,elements:ge,strategy:Se}=C,{boundary:Ie="clippingAncestors",rootBoundary:Ue="viewport",elementContext:Ne="floating",altBoundary:Ze=!1,padding:Le=0}=x(P,C),De=k(Le),nt=ge[Ze?Ne==="floating"?"reference":"floating":Ne],Ke=D(await ce.getClippingRect({element:(N=await(ce.isElement==null?void 0:ce.isElement(nt)))==null||N?nt:nt.contextElement||await(ce.getDocumentElement==null?void 0:ce.getDocumentElement(ge.floating)),boundary:Ie,rootBoundary:Ue,strategy:Se})),dt=Ne==="floating"?{...J.floating,x:Q,y:V}:J.reference,Qe=await(ce.getOffsetParent==null?void 0:ce.getOffsetParent(ge.floating)),Bt=await(ce.isElement==null?void 0:ce.isElement(Qe))?await(ce.getScale==null?void 0:ce.getScale(Qe))||{x:1,y:1}:{x:1,y:1},yt=D(ce.convertOffsetParentRelativeRectToViewportRelativeRect?await ce.convertOffsetParentRelativeRectToViewportRelativeRect({rect:dt,offsetParent:Qe,strategy:Se}):dt);return{top:(Ke.top-yt.top+De.top)/Bt.y,bottom:(yt.bottom-Ke.bottom+De.bottom)/Bt.y,left:(Ke.left-yt.left+De.left)/Bt.x,right:(yt.right-Ke.right+De.right)/Bt.x}}var ee=function(C){return C===void 0&&(C={}),{name:"flip",options:C,async fn(P){var N,Q;const{placement:V,middlewareData:ce,rects:J,initialPlacement:ge,platform:Se,elements:Ie}=P,{mainAxis:Ue=!0,crossAxis:Ne=!0,fallbackPlacements:Ze,fallbackStrategy:Le="bestFit",fallbackAxisSideDirection:De="none",flipAlignment:He=!0,...nt}=x(C,P);if((N=ce.arrow)!=null&&N.alignmentOffset)return{};const Ke=_(V),dt=_(ge)===ge,Qe=await(Se.isRTL==null?void 0:Se.isRTL(Ie.floating)),Bt=Ze||(dt||!He?[Re(ge)]:W(ge));!Ze&&De!=="none"&&Bt.push(...se(ge,He,De,Qe));const yt=[ge,...Bt],Yt=await q(P,nt),ir=[];let xr=((Q=ce.flip)==null?void 0:Q.overflows)||[];if(Ue&&ir.push(Yt[Ke]),Ne){const nr=j(V,J,Qe);ir.push(Yt[nr[0]],Yt[nr[1]])}if(xr=[...xr,{placement:V,overflows:ir}],!ir.every(nr=>nr<=0)){var Vi,Ci;const nr=(((Vi=ce.flip)==null?void 0:Vi.index)||0)+1,Si=yt[nr];if(Si)return{data:{index:nr,overflows:xr},reset:{placement:Si}};let Er=(Ci=xr.filter(hr=>hr.overflows[0]<=0).sort((hr,sr)=>hr.overflows[1]-sr.overflows[1])[0])==null?void 0:Ci.placement;if(!Er)switch(Le){case"bestFit":{var Ji;const hr=(Ji=xr.map(sr=>[sr.placement,sr.overflows.filter(Cr=>Cr>0).reduce((Cr,en)=>Cr+en,0)]).sort((sr,Cr)=>sr[1]-Cr[1])[0])==null?void 0:Ji[0];hr&&(Er=hr);break}case"initialPlacement":Er=ge;break}if(V!==Er)return{reset:{placement:Er}}}return{}}}};async function $(C,P){const{placement:N,platform:Q,elements:V}=C,ce=await(Q.isRTL==null?void 0:Q.isRTL(V.floating)),J=_(N),ge=S(N),Se=O(N)==="y",Ie=["left","top"].includes(J)?-1:1,Ue=ce&&Se?-1:1,Ne=x(P,C);let{mainAxis:Ze,crossAxis:Le,alignmentAxis:De}=typeof Ne=="number"?{mainAxis:Ne,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Ne};return ge&&typeof De=="number"&&(Le=ge==="end"?De*-1:De),Se?{x:Le*Ue,y:Ze*Ie}:{x:Ze*Ie,y:Le*Ue}}var le=function(C){return C===void 0&&(C=0),{name:"offset",options:C,async fn(P){const{x:N,y:Q}=P,V=await $(P,C);return{x:N+V.x,y:Q+V.y,data:V}}}},ie=function(C){return C===void 0&&(C={}),{name:"shift",options:C,async fn(P){const{x:N,y:Q,placement:V}=P,{mainAxis:ce=!0,crossAxis:J=!1,limiter:ge={fn:nt=>{let{x:Ke,y:dt}=nt;return{x:Ke,y:dt}}},...Se}=x(C,P),Ie={x:N,y:Q},Ue=await q(P,Se),Ne=O(_(V)),Ze=z(Ne);let Le=Ie[Ze],De=Ie[Ne];if(ce){const nt=Ze==="y"?"top":"left",Ke=Ze==="y"?"bottom":"right",dt=Le+Ue[nt],Qe=Le-Ue[Ke];Le=w(dt,Le,Qe)}if(J){const nt=Ne==="y"?"top":"left",Ke=Ne==="y"?"bottom":"right",dt=De+Ue[nt],Qe=De-Ue[Ke];De=w(dt,De,Qe)}const He=ge.fn({...P,[Ze]:Le,[Ne]:De});return{...He,data:{x:He.x-N,y:He.y-Q}}}}};function ae(C){return oe(C)?(C.nodeName||"").toLowerCase():"#document"}function de(C){var P;return(C==null||(P=C.ownerDocument)==null?void 0:P.defaultView)||window}function Be(C){var P;return(P=(oe(C)?C.ownerDocument:C.document)||window.document)==null?void 0:P.documentElement}function oe(C){return C instanceof Node||C instanceof de(C).Node}function me(C){return C instanceof Element||C instanceof de(C).Element}function Oe(C){return C instanceof HTMLElement||C instanceof de(C).HTMLElement}function ze(C){return typeof ShadowRoot=="undefined"?!1:C instanceof ShadowRoot||C instanceof de(C).ShadowRoot}function Ce(C){const{overflow:P,overflowX:N,overflowY:Q,display:V}=te(C);return/auto|scroll|overlay|hidden|clip/.test(P+Q+N)&&!["inline","contents"].includes(V)}function xe(C){return["table","td","th"].includes(ae(C))}function mt(C){const P=_e(),N=te(C);return N.transform!=="none"||N.perspective!=="none"||(N.containerType?N.containerType!=="normal":!1)||!P&&(N.backdropFilter?N.backdropFilter!=="none":!1)||!P&&(N.filter?N.filter!=="none":!1)||["transform","perspective","filter"].some(Q=>(N.willChange||"").includes(Q))||["paint","layout","strict","content"].some(Q=>(N.contain||"").includes(Q))}function st(C){let P=ue(C);for(;Oe(P)&&!X(P);){if(mt(P))return P;P=ue(P)}return null}function _e(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function X(C){return["html","body","#document"].includes(ae(C))}function te(C){return de(C).getComputedStyle(C)}function Te(C){return me(C)?{scrollLeft:C.scrollLeft,scrollTop:C.scrollTop}:{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function ue(C){if(ae(C)==="html")return C;const P=C.assignedSlot||C.parentNode||ze(C)&&C.host||Be(C);return ze(P)?P.host:P}function rt(C){const P=ue(C);return X(P)?C.ownerDocument?C.ownerDocument.body:C.body:Oe(P)&&Ce(P)?P:rt(P)}function Ae(C,P,N){var Q;P===void 0&&(P=[]),N===void 0&&(N=!0);const V=rt(C),ce=V===((Q=C.ownerDocument)==null?void 0:Q.body),J=de(V);return ce?P.concat(J,J.visualViewport||[],Ce(V)?V:[],J.frameElement&&N?Ae(J.frameElement):[]):P.concat(V,Ae(V,[],N))}function ne(C){const P=te(C);let N=parseFloat(P.width)||0,Q=parseFloat(P.height)||0;const V=Oe(C),ce=V?C.offsetWidth:N,J=V?C.offsetHeight:Q,ge=p(N)!==ce||p(Q)!==J;return ge&&(N=ce,Q=J),{width:N,height:Q,$:ge}}function fe(C){return me(C)?C:C.contextElement}function Ee(C){const P=fe(C);if(!Oe(P))return v(1);const N=P.getBoundingClientRect(),{width:Q,height:V,$:ce}=ne(P);let J=(ce?p(N.width):N.width)/Q,ge=(ce?p(N.height):N.height)/V;return(!J||!Number.isFinite(J))&&(J=1),(!ge||!Number.isFinite(ge))&&(ge=1),{x:J,y:ge}}var We=v(0);function ke(C){const P=de(C);return!_e()||!P.visualViewport?We:{x:P.visualViewport.offsetLeft,y:P.visualViewport.offsetTop}}function at(C,P,N){return P===void 0&&(P=!1),!N||P&&N!==de(C)?!1:P}function it(C,P,N,Q){P===void 0&&(P=!1),N===void 0&&(N=!1);const V=C.getBoundingClientRect(),ce=fe(C);let J=v(1);P&&(Q?me(Q)&&(J=Ee(Q)):J=Ee(C));const ge=at(ce,N,Q)?ke(ce):v(0);let Se=(V.left+ge.x)/J.x,Ie=(V.top+ge.y)/J.y,Ue=V.width/J.x,Ne=V.height/J.y;if(ce){const Ze=de(ce),Le=Q&&me(Q)?de(Q):Q;let De=Ze.frameElement;for(;De&&Q&&Le!==Ze;){const He=Ee(De),nt=De.getBoundingClientRect(),Ke=te(De),dt=nt.left+(De.clientLeft+parseFloat(Ke.paddingLeft))*He.x,Qe=nt.top+(De.clientTop+parseFloat(Ke.paddingTop))*He.y;Se*=He.x,Ie*=He.y,Ue*=He.x,Ne*=He.y,Se+=dt,Ie+=Qe,De=de(De).frameElement}}return D({width:Ue,height:Ne,x:Se,y:Ie})}function jt(C){let{rect:P,offsetParent:N,strategy:Q}=C;const V=Oe(N),ce=Be(N);if(N===ce)return P;let J={scrollLeft:0,scrollTop:0},ge=v(1);const Se=v(0);if((V||!V&&Q!=="fixed")&&((ae(N)!=="body"||Ce(ce))&&(J=Te(N)),Oe(N))){const Ie=it(N);ge=Ee(N),Se.x=Ie.x+N.clientLeft,Se.y=Ie.y+N.clientTop}return{width:P.width*ge.x,height:P.height*ge.y,x:P.x*ge.x-J.scrollLeft*ge.x+Se.x,y:P.y*ge.y-J.scrollTop*ge.y+Se.y}}function ct(C){return Array.from(C.getClientRects())}function _r(C){return it(Be(C)).left+Te(C).scrollLeft}function bi(C){const P=Be(C),N=Te(C),Q=C.ownerDocument.body,V=d(P.scrollWidth,P.clientWidth,Q.scrollWidth,Q.clientWidth),ce=d(P.scrollHeight,P.clientHeight,Q.scrollHeight,Q.clientHeight);let J=-N.scrollLeft+_r(C);const ge=-N.scrollTop;return te(Q).direction==="rtl"&&(J+=d(P.clientWidth,Q.clientWidth)-V),{width:V,height:ce,x:J,y:ge}}function Lr(C,P){const N=de(C),Q=Be(C),V=N.visualViewport;let ce=Q.clientWidth,J=Q.clientHeight,ge=0,Se=0;if(V){ce=V.width,J=V.height;const Ie=_e();(!Ie||Ie&&P==="fixed")&&(ge=V.offsetLeft,Se=V.offsetTop)}return{width:ce,height:J,x:ge,y:Se}}function ft(C,P){const N=it(C,!0,P==="fixed"),Q=N.top+C.clientTop,V=N.left+C.clientLeft,ce=Oe(C)?Ee(C):v(1),J=C.clientWidth*ce.x,ge=C.clientHeight*ce.y,Se=V*ce.x,Ie=Q*ce.y;return{width:J,height:ge,x:Se,y:Ie}}function Xr(C,P,N){let Q;if(P==="viewport")Q=Lr(C,N);else if(P==="document")Q=bi(Be(C));else if(me(P))Q=ft(P,N);else{const V=ke(C);Q={...P,x:P.x-V.x,y:P.y-V.y}}return D(Q)}function Rr(C,P){const N=ue(C);return N===P||!me(N)||X(N)?!1:te(N).position==="fixed"||Rr(N,P)}function us(C,P){const N=P.get(C);if(N)return N;let Q=Ae(C,[],!1).filter(ge=>me(ge)&&ae(ge)!=="body"),V=null;const ce=te(C).position==="fixed";let J=ce?ue(C):C;for(;me(J)&&!X(J);){const ge=te(J),Se=mt(J);!Se&&ge.position==="fixed"&&(V=null),(ce?!Se&&!V:!Se&&ge.position==="static"&&!!V&&["absolute","fixed"].includes(V.position)||Ce(J)&&!Se&&Rr(C,J))?Q=Q.filter(Ue=>Ue!==J):V=ge,J=ue(J)}return P.set(C,Q),Q}function fs(C){let{element:P,boundary:N,rootBoundary:Q,strategy:V}=C;const J=[...N==="clippingAncestors"?us(P,this._c):[].concat(N),Q],ge=J[0],Se=J.reduce((Ie,Ue)=>{const Ne=Xr(P,Ue,V);return Ie.top=d(Ne.top,Ie.top),Ie.right=h(Ne.right,Ie.right),Ie.bottom=h(Ne.bottom,Ie.bottom),Ie.left=d(Ne.left,Ie.left),Ie},Xr(P,ge,V));return{width:Se.right-Se.left,height:Se.bottom-Se.top,x:Se.left,y:Se.top}}function xi(C){return ne(C)}function Xi(C,P,N){const Q=Oe(P),V=Be(P),ce=N==="fixed",J=it(C,!0,ce,P);let ge={scrollLeft:0,scrollTop:0};const Se=v(0);if(Q||!Q&&!ce)if((ae(P)!=="body"||Ce(V))&&(ge=Te(P)),Q){const Ie=it(P,!0,ce,P);Se.x=Ie.x+P.clientLeft,Se.y=Ie.y+P.clientTop}else V&&(Se.x=_r(V));return{x:J.left+ge.scrollLeft-Se.x,y:J.top+ge.scrollTop-Se.y,width:J.width,height:J.height}}function br(C,P){return!Oe(C)||te(C).position==="fixed"?null:P?P(C):C.offsetParent}function dr(C,P){const N=de(C);if(!Oe(C))return N;let Q=br(C,P);for(;Q&&xe(Q)&&te(Q).position==="static";)Q=br(Q,P);return Q&&(ae(Q)==="html"||ae(Q)==="body"&&te(Q).position==="static"&&!mt(Q))?N:Q||st(C)||N}var Mr=async function(C){let{reference:P,floating:N,strategy:Q}=C;const V=this.getOffsetParent||dr,ce=this.getDimensions;return{reference:Xi(P,await V(N),Q),floating:{x:0,y:0,...await ce(N)}}};function ds(C){return te(C).direction==="rtl"}var hs={convertOffsetParentRelativeRectToViewportRelativeRect:jt,getDocumentElement:Be,getClippingRect:fs,getOffsetParent:dr,getElementRects:Mr,getClientRects:ct,getDimensions:xi,getScale:Ee,isElement:me,isRTL:ds};function Yi(C,P){let N=null,Q;const V=Be(C);function ce(){clearTimeout(Q),N&&N.disconnect(),N=null}function J(ge,Se){ge===void 0&&(ge=!1),Se===void 0&&(Se=1),ce();const{left:Ie,top:Ue,width:Ne,height:Ze}=C.getBoundingClientRect();if(ge||P(),!Ne||!Ze)return;const Le=b(Ue),De=b(V.clientWidth-(Ie+Ne)),He=b(V.clientHeight-(Ue+Ze)),nt=b(Ie),dt={rootMargin:-Le+"px "+-De+"px "+-He+"px "+-nt+"px",threshold:d(0,h(1,Se))||1};let Qe=!0;function Bt(yt){const Yt=yt[0].intersectionRatio;if(Yt!==Se){if(!Qe)return J();Yt?J(!1,Yt):Q=setTimeout(()=>{J(!1,1e-7)},100)}Qe=!1}try{N=new IntersectionObserver(Bt,{...dt,root:V.ownerDocument})}catch{N=new IntersectionObserver(Bt,dt)}N.observe(C)}return J(!0),ce}function Ki(C,P,N,Q){Q===void 0&&(Q={});const{ancestorScroll:V=!0,ancestorResize:ce=!0,elementResize:J=typeof ResizeObserver=="function",layoutShift:ge=typeof IntersectionObserver=="function",animationFrame:Se=!1}=Q,Ie=fe(C),Ue=V||ce?[...Ie?Ae(Ie):[],...Ae(P)]:[];Ue.forEach(Ke=>{V&&Ke.addEventListener("scroll",N,{passive:!0}),ce&&Ke.addEventListener("resize",N)});const Ne=Ie&&ge?Yi(Ie,N):null;let Ze=-1,Le=null;J&&(Le=new ResizeObserver(Ke=>{let[dt]=Ke;dt&&dt.target===Ie&&Le&&(Le.unobserve(P),cancelAnimationFrame(Ze),Ze=requestAnimationFrame(()=>{Le&&Le.observe(P)})),N()}),Ie&&!Se&&Le.observe(Ie),Le.observe(P));let De,He=Se?it(C):null;Se&&nt();function nt(){const Ke=it(C);He&&(Ke.x!==He.x||Ke.y!==He.y||Ke.width!==He.width||Ke.height!==He.height)&&N(),He=Ke,De=requestAnimationFrame(nt)}return N(),()=>{Ue.forEach(Ke=>{V&&Ke.removeEventListener("scroll",N),ce&&Ke.removeEventListener("resize",N)}),Ne&&Ne(),Le&&Le.disconnect(),Le=null,Se&&cancelAnimationFrame(De)}}var ps=(C,P,N)=>{const Q=new Map,V={platform:hs,...N},ce={...V.platform,_c:Q};return Z(C,P,{...V,platform:ce})};function Ei(C){C.magic("anchor",P=>{if(!P._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return P._x_anchor}),C.directive("anchor",(P,{expression:N,modifiers:Q,value:V},{cleanup:ce,evaluate:J})=>{P._x_anchor=C.reactive({x:0,y:0});let ge=J(N);if(!ge)throw"Alpine: no element provided to x-anchor...";let Ie=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(Le=>Q.includes(Le)),Ue=0,Ne=Q.includes("no-style");if(Q.includes("offset")){let Le=Q.findIndex(De=>De==="offset");Ue=Q[Le+1]!==void 0?Number(Q[Le+1]):Ue}let Ze=Ki(ge,P,()=>{let Le;ps(ge,P,{placement:Ie,middleware:[ee(),ie({padding:5}),le(Ue)]}).then(({x:De,y:He})=>{JSON.stringify({x:De,y:He})!==Le&&(Ne||Zi(P,De,He),P._x_anchor.x=De,P._x_anchor.y=He),Le=JSON.stringify({x:De,y:He})})});ce(()=>Ze())})}function Zi(C,P,N){Object.assign(C.style,{left:P+"px",top:N+"px",position:"absolute"})}var Gt=Ei}}),Id=wr({"node_modules/nprogress/nprogress.js"(r,e){(function(t,i){typeof define=="function"&&define.amd?define(i):typeof r=="object"?e.exports=i():t.NProgress=i()})(r,function(){var t={};t.version="0.2.0";var i=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(v){var m,y;for(m in v)y=v[m],y!==void 0&&v.hasOwnProperty(m)&&(i[m]=y);return this},t.status=null,t.set=function(v){var m=t.isStarted();v=n(v,i.minimum,1),t.status=v===1?null:v;var y=t.render(!m),w=y.querySelector(i.barSelector),x=i.speed,_=i.easing;return y.offsetWidth,o(function(S){i.positionUsing===""&&(i.positionUsing=t.getPositioningCSS()),u(w,c(v,x,_)),v===1?(u(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){u(y,{transition:"all "+x+"ms linear",opacity:0}),setTimeout(function(){t.remove(),S()},x)},x)):setTimeout(S,x)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var v=function(){setTimeout(function(){!t.status||(t.trickle(),v())},i.trickleSpeed)};return i.trickle&&v(),this},t.done=function(v){return!v&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(v){var m=t.status;return m?(typeof v!="number"&&(v=(1-m)*n(Math.random()*m,.1,.95)),m=n(m+v,0,.994),t.set(m)):t.start()},t.trickle=function(){return t.inc(Math.random()*i.trickleRate)},function(){var v=0,m=0;t.promise=function(y){return!y||y.state()==="resolved"?this:(m===0&&t.start(),v++,m++,y.always(function(){m--,m===0?(v=0,t.done()):t.set((v-m)/v)}),this)}}(),t.render=function(v){if(t.isRendered())return document.getElementById("nprogress");h(document.documentElement,"nprogress-busy");var m=document.createElement("div");m.id="nprogress",m.innerHTML=i.template;var y=m.querySelector(i.barSelector),w=v?"-100":a(t.status||0),x=document.querySelector(i.parent),_;return u(y,{transition:"all 0 linear",transform:"translate3d("+w+"%,0,0)"}),i.showSpinner||(_=m.querySelector(i.spinnerSelector),_&&b(_)),x!=document.body&&h(x,"nprogress-custom-parent"),x.appendChild(m),m},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var v=document.getElementById("nprogress");v&&b(v)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var v=document.body.style,m="WebkitTransform"in v?"Webkit":"MozTransform"in v?"Moz":"msTransform"in v?"ms":"OTransform"in v?"O":"";return m+"Perspective"in v?"translate3d":m+"Transform"in v?"translate":"margin"};function n(v,m,y){return v<m?m:v>y?y:v}function a(v){return(-1+v)*100}function c(v,m,y){var w;return i.positionUsing==="translate3d"?w={transform:"translate3d("+a(v)+"%,0,0)"}:i.positionUsing==="translate"?w={transform:"translate("+a(v)+"%,0)"}:w={"margin-left":a(v)+"%"},w.transition="all "+m+"ms "+y,w}var o=function(){var v=[];function m(){var y=v.shift();y&&y(m)}return function(y){v.push(y),v.length==1&&m()}}(),u=function(){var v=["Webkit","O","Moz","ms"],m={};function y(S){return S.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(z,R){return R.toUpperCase()})}function w(S){var z=document.body.style;if(S in z)return S;for(var R=v.length,O=S.charAt(0).toUpperCase()+S.slice(1),F;R--;)if(F=v[R]+O,F in z)return F;return S}function x(S){return S=y(S),m[S]||(m[S]=w(S))}function _(S,z,R){z=x(z),S.style[z]=R}return function(S,z){var R=arguments,O,F;if(R.length==2)for(O in z)F=z[O],F!==void 0&&z.hasOwnProperty(O)&&_(S,O,F);else _(S,R[1],R[2])}}();function f(v,m){var y=typeof v=="string"?v:p(v);return y.indexOf(" "+m+" ")>=0}function h(v,m){var y=p(v),w=y+m;f(y,m)||(v.className=w.substring(1))}function d(v,m){var y=p(v),w;!f(v,m)||(w=y.replace(" "+m+" "," "),v.className=w.substring(1,w.length-1))}function p(v){return(" "+(v.className||"")+" ").replace(/\s+/gi," ")}function b(v){v&&v.parentNode&&v.parentNode.removeChild(v)}return t})}}),Td=wr({"../alpine/packages/morph/dist/module.cjs.js"(r,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(R,O)=>{for(var F in O)t(R,F,{get:O[F],enumerable:!0})},o=(R,O,F,j)=>{if(O&&typeof O=="object"||typeof O=="function")for(let W of n(O))!a.call(R,W)&&W!==F&&t(R,W,{get:()=>O[W],enumerable:!(j=i(O,W))||j.enumerable});return R},u=R=>o(t({},"__esModule",{value:!0}),R),f={};c(f,{default:()=>z,morph:()=>h}),e.exports=u(f);function h(R,O,F){x();let j,W,G,Y,se,Re,we,k,D;function U(oe={}){let me=ze=>ze.getAttribute("key"),Oe=()=>{};Y=oe.updating||Oe,se=oe.updated||Oe,Re=oe.removing||Oe,we=oe.removed||Oe,k=oe.adding||Oe,D=oe.added||Oe,W=oe.key||me,G=oe.lookahead||!1}function Z(oe,me){if(q(oe,me))return ee(oe,me);let Oe=!1;if(!d(Y,oe,me,()=>Oe=!0)){if(oe.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(oe,me),v(me)){$(oe,me),se(oe,me);return}Oe||le(oe,me),se(oe,me),ie(oe,me)}}function q(oe,me){return oe.nodeType!=me.nodeType||oe.nodeName!=me.nodeName||ae(oe)!=ae(me)}function ee(oe,me){if(d(Re,oe))return;let Oe=me.cloneNode(!0);d(k,Oe)||(oe.replaceWith(Oe),we(oe),D(Oe))}function $(oe,me){let Oe=me.nodeValue;oe.nodeValue!==Oe&&(oe.nodeValue=Oe)}function le(oe,me){if(oe._x_transitioning||oe._x_isShown&&!me._x_isShown||!oe._x_isShown&&me._x_isShown)return;let Oe=Array.from(oe.attributes),ze=Array.from(me.attributes);for(let Ce=Oe.length-1;Ce>=0;Ce--){let xe=Oe[Ce].name;me.hasAttribute(xe)||oe.removeAttribute(xe)}for(let Ce=ze.length-1;Ce>=0;Ce--){let xe=ze[Ce].name,mt=ze[Ce].value;oe.getAttribute(xe)!==mt&&oe.setAttribute(xe,mt)}}function ie(oe,me){oe._x_teleport&&(oe=oe._x_teleport),me._x_teleport&&(me=me._x_teleport);let Oe=de(oe.children),ze={},Ce=y(me),xe=y(oe);for(;Ce;){_(Ce,xe);let st=ae(Ce),_e=ae(xe);if(!xe)if(st&&ze[st]){let ue=ze[st];oe.appendChild(ue),xe=ue}else{if(!d(k,Ce)){let ue=Ce.cloneNode(!0);oe.appendChild(ue),D(ue)}Ce=w(me,Ce);continue}let X=ue=>ue&&ue.nodeType===8&&ue.textContent==="[if BLOCK]><![endif]",te=ue=>ue&&ue.nodeType===8&&ue.textContent==="[if ENDBLOCK]><![endif]";if(X(Ce)&&X(xe)){let ue=0,rt=xe;for(;xe;){let ke=w(oe,xe);if(X(ke))ue++;else if(te(ke)&&ue>0)ue--;else if(te(ke)&&ue===0){xe=ke;break}xe=ke}let Ae=xe;ue=0;let ne=Ce;for(;Ce;){let ke=w(me,Ce);if(X(ke))ue++;else if(te(ke)&&ue>0)ue--;else if(te(ke)&&ue===0){Ce=ke;break}Ce=ke}let fe=Ce,Ee=new m(rt,Ae),We=new m(ne,fe);ie(Ee,We);continue}if(xe.nodeType===1&&G&&!xe.isEqualNode(Ce)){let ue=w(me,Ce),rt=!1;for(;!rt&&ue;)ue.nodeType===1&&xe.isEqualNode(ue)&&(rt=!0,xe=Be(oe,Ce,xe),_e=ae(xe)),ue=w(me,ue)}if(st!==_e){if(!st&&_e){ze[_e]=xe,xe=Be(oe,Ce,xe),ze[_e].remove(),xe=w(oe,xe),Ce=w(me,Ce);continue}if(st&&!_e&&Oe[st]&&(xe.replaceWith(Oe[st]),xe=Oe[st]),st&&_e){let ue=Oe[st];if(ue)ze[_e]=xe,xe.replaceWith(ue),xe=ue;else{ze[_e]=xe,xe=Be(oe,Ce,xe),ze[_e].remove(),xe=w(oe,xe),Ce=w(me,Ce);continue}}}let Te=xe&&w(oe,xe);Z(xe,Ce),Ce=Ce&&w(me,Ce),xe=Te}let mt=[];for(;xe;)d(Re,xe)||mt.push(xe),xe=w(oe,xe);for(;mt.length;){let st=mt.shift();st.remove(),we(st)}}function ae(oe){return oe&&oe.nodeType===1&&W(oe)}function de(oe){let me={};for(let Oe of oe){let ze=ae(Oe);ze&&(me[ze]=Oe)}return me}function Be(oe,me,Oe){if(!d(k,me)){let ze=me.cloneNode(!0);return oe.insertBefore(ze,Oe),D(ze),ze}return me}return U(F),j=typeof O=="string"?b(O):O,window.Alpine&&window.Alpine.closestDataStack&&!R._x_dataStack&&(j._x_dataStack=window.Alpine.closestDataStack(R),j._x_dataStack&&window.Alpine.cloneNode(R,j)),Z(R,j),j=void 0,R}h.step=()=>{},h.log=()=>{};function d(R,...O){let F=!1;return R(...O,()=>F=!0),F}var p=!1;function b(R){const O=document.createElement("template");return O.innerHTML=R,O.content.firstElementChild}function v(R){return R.nodeType===3||R.nodeType===8}var m=class{constructor(R,O){this.startComment=R,this.endComment=O}get children(){let R=[],O=this.startComment.nextSibling;for(;O&&O!==this.endComment;)R.push(O),O=O.nextSibling;return R}appendChild(R){this.endComment.before(R)}get firstChild(){let R=this.startComment.nextSibling;if(R!==this.endComment)return R}nextNode(R){let O=R.nextSibling;if(O!==this.endComment)return O}insertBefore(R,O){return O.before(R),R}};function y(R){return R.firstChild}function w(R,O){let F;return R instanceof m?F=R.nextNode(O):F=O.nextSibling,F}function x(){if(p)return;p=!0;let R=Element.prototype.setAttribute,O=document.createElement("div");Element.prototype.setAttribute=function(j,W){if(!j.includes("@"))return R.call(this,j,W);O.innerHTML=`<span ${j}="${W}"></span>`;let G=O.firstElementChild.getAttributeNode(j);O.firstElementChild.removeAttributeNode(G),this.setAttributeNode(G)}}function _(R,O){let F=O&&O._x_bindings&&O._x_bindings.id;!F||(R.setAttribute("id",F),R.id=F)}function S(R){R.morph=h}var z=S}}),Fd=wr({"../alpine/packages/mask/dist/module.cjs.js"(r,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(y,w)=>{for(var x in w)t(y,x,{get:w[x],enumerable:!0})},o=(y,w,x,_)=>{if(w&&typeof w=="object"||typeof w=="function")for(let S of n(w))!a.call(y,S)&&S!==x&&t(y,S,{get:()=>w[S],enumerable:!(_=i(w,S))||_.enumerable});return y},u=y=>o(t({},"__esModule",{value:!0}),y),f={};c(f,{default:()=>m,stripDown:()=>p}),e.exports=u(f);function h(y){y.directive("mask",(w,{value:x,expression:_},{effect:S,evaluateLater:z})=>{let R=()=>_,O="";queueMicrotask(()=>{if(["function","dynamic"].includes(x)){let W=z(_);S(()=>{R=G=>{let Y;return y.dontAutoEvaluateFunctions(()=>{W(se=>{Y=typeof se=="function"?se(G):se},{scope:{$input:G,$money:v.bind({el:w})}})}),Y},F(w,!1)})}else F(w,!1);w._x_model&&w._x_model.set(w.value)}),w.addEventListener("input",()=>F(w)),w.addEventListener("blur",()=>F(w,!1));function F(W,G=!0){let Y=W.value,se=R(Y);if(!se||se==="false")return!1;if(O.length-W.value.length===1)return O=W.value;let Re=()=>{O=W.value=j(Y,se)};G?d(W,se,()=>{Re()}):Re()}function j(W,G){if(W==="")return"";let Y=p(G,W);return b(G,Y)}}).before("model")}function d(y,w,x){let _=y.selectionStart,S=y.value;x();let z=S.slice(0,_),R=b(w,p(w,z)).length;y.setSelectionRange(R,R)}function p(y,w){let x=w,_="",S={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},z="";for(let R=0;R<y.length;R++){if(["9","a","*"].includes(y[R])){z+=y[R];continue}for(let O=0;O<x.length;O++)if(x[O]===y[R]){x=x.slice(0,O)+x.slice(O+1);break}}for(let R=0;R<z.length;R++){let O=!1;for(let F=0;F<x.length;F++)if(S[z[R]].test(x[F])){_+=x[F],x=x.slice(0,F)+x.slice(F+1),O=!0;break}if(!O)break}return _}function b(y,w){let x=Array.from(w),_="";for(let S=0;S<y.length;S++){if(!["9","a","*"].includes(y[S])){_+=y[S];continue}if(x.length===0)break;_+=x.shift()}return _}function v(y,w=".",x,_=2){if(y==="-")return"-";if(/^\D+$/.test(y))return"9";x==null&&(x=w===","?".":",");let S=(F,j)=>{let W="",G=0;for(let Y=F.length-1;Y>=0;Y--)F[Y]!==j&&(G===3?(W=F[Y]+j+W,G=0):W=F[Y]+W,G++);return W},z=y.startsWith("-")?"-":"",R=y.replaceAll(new RegExp(`[^0-9\\${w}]`,"g"),""),O=Array.from({length:R.split(w)[0].length}).fill("9").join("");return O=`${z}${S(O,x)}`,_>0&&y.includes(w)&&(O+=`${w}`+"9".repeat(_)),queueMicrotask(()=>{this.el.value.endsWith(w)||this.el.value[this.el.selectionStart-1]===w&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),O}var m=h}}),Wl=class{constructor(){this.arrays=new WeakMap}add(r,e){this.arrays.has(r)||this.arrays.set(r,[]),this.arrays.get(r).push(e)}get(r){return this.arrays.has(r)?this.arrays.get(r):[]}each(r,e){return this.get(r).forEach(e)}};function zs(r,e,t={},i=!0){r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:i,composed:!0,cancelable:!0}))}function ql(r){return typeof r=="object"&&r!==null}function Go(r){return ql(r)&&!da(r)}function da(r){return Array.isArray(r)}function Od(r){return typeof r=="function"}function zo(r){return typeof r!="object"||r===null}function Gr(r){return JSON.parse(JSON.stringify(r))}function vr(r,e){return e===""?r:e.split(".").reduce((t,i)=>{if(t!==void 0)return t[i]},r)}function es(r,e,t){let i=e.split(".");if(i.length===1)return r[e]=t;let n=i.shift(),a=i.join(".");r[n]===void 0&&(r[n]={}),es(r[n],a,t)}function Da(r,e,t={},i=""){if(r===e)return t;if(typeof r!=typeof e||Go(r)&&da(e)||da(r)&&Go(e)||zo(r)||zo(e))return t[i]=e,t;let n=Object.keys(r);return Object.entries(e).forEach(([a,c])=>{t={...t,...Da(r[a],e[a],t,i===""?a:`${i}.${a}`)},n=n.filter(o=>o!==a)}),n.forEach(a=>{t[`${i}.${a}`]="__rm__"}),t}function di(r){let e=Ho(r)?r[0]:r;return Ho(r)&&r[1],ql(e)&&Object.entries(e).forEach(([t,i])=>{e[t]=di(i)}),e}function Ho(r){return Array.isArray(r)&&r.length===2&&typeof r[1]=="object"&&Object.keys(r[1]).includes("s")}function Xl(){var r;if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if((r=window.livewireScriptConfig.csrf)!=null&&r)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}function Yl(r){return!!r.match(/<script>Sfdump\(".+"\)<\/script>/)}function Pd(r){let e=r.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[e,r.replace(e,"")]}function Kl(r){let e=document.createElement("html");e.innerHTML=r,e.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top"));let t=document.getElementById("livewire-error");typeof t!="undefined"&&t!=null?t.innerHTML="":(t=document.createElement("div"),t.id="livewire-error",t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.padding="50px",t.style.backgroundColor="rgba(0, 0, 0, .6)",t.style.zIndex=2e5);let i=document.createElement("iframe");i.style.backgroundColor="#17161A",i.style.borderRadius="5px",i.style.width="100%",i.style.height="100%",t.appendChild(i),document.body.prepend(t),document.body.style.overflow="hidden",i.contentWindow.document.open(),i.contentWindow.document.write(e.outerHTML),i.contentWindow.document.close(),t.addEventListener("click",()=>$o(t)),t.setAttribute("tabindex",0),t.addEventListener("keydown",n=>{n.key==="Escape"&&$o(t)}),t.focus()}function $o(r){r.outerHTML="",document.body.style.overflow="visible"}var hi=[];function gt(r,e){return hi[r]||(hi[r]=[]),hi[r].push(e),()=>{hi[r]=hi[r].filter(t=>t!==e)}}function Ct(r,...e){let t=hi[r]||[],i=[];for(let n=0;n<t.length;n++){let a=t[n](...e);Od(a)&&i.push(a)}return n=>{let a=n;for(let c=0;c<i.length;c++){let o=i[c](a);o!==void 0&&(a=o)}return a}}var Pl,Ll,Rl,Wo=(Rl=(Ll=(Pl=document.querySelector("[data-uri]"))==null?void 0:Pl.getAttribute("data-uri"))!=null?Ll:window.livewireScriptConfig.uri)!=null?Rl:null;function Zl(){Ld(()=>{Rd()})}var Hs;function Ld(r){Hs||(Hs=setTimeout(()=>{r(),Hs=void 0},5))}async function Rd(){Md(),await Nd(async()=>{let[r,e,t]=kd(),i={method:"POST",body:JSON.stringify({_token:Xl(),components:r}),headers:{"Content-type":"application/json","X-Livewire":""}},n=[],a=[],c=[],o=m=>n.forEach(y=>y(m)),u=m=>a.forEach(y=>y(m)),f=m=>c.forEach(y=>y(m)),h=Ct("request.profile",i);Ct("request",{url:Wo,options:i,payload:i.body,respond:m=>c.push(m),succeed:m=>n.push(m),fail:m=>a.push(m)});let d=await fetch(Wo,i),p={status:d.status,response:d};f(p),d=p.response;let b=await d.text();if(!d.ok){h({content:"{}",failed:!0});let m=!1;return t(),u({status:d.status,content:b,preventDefault:()=>m=!0}),m?void 0:(d.status===419&&Bd(),Dd(b))}d.redirected&&(window.location.href=d.url),Yl(b)?([dump,b]=Pd(b),Kl(dump),h({content:"{}",failed:!0})):h({content:b,failed:!1});let{components:v}=JSON.parse(b);e(v),o({status:d.status,json:JSON.parse(b)})})}function Md(){jd().forEach(e=>e.prepare())}function kd(){let r=[],e=[],t=[];return Ud(a=>{let[c,o,u]=a.toRequestPayload();r.push(c),e.push(o),t.push(u)}),[r,a=>e.forEach(c=>c(a.shift())),()=>t.forEach(a=>a())]}function Bd(){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload()}function Dd(r){Kl(r)}var ha=!1,pa=[];async function Vl(r){return new Promise(e=>{ha?pa.push(()=>e(r())):e(r())})}async function Nd(r){for(ha=!0,await r(),ha=!1;pa.length>0;)pa.shift()()}var Hi=[];function jd(){return Hi}function Ud(r){for(;Hi.length>0;)r(Hi.shift())}function Jl(r){let e=Hi.find(t=>t.component.id===r.id);return e||Hi.push(e=new Gd(r)),e}async function ec(r){return await Vl(()=>{let e=Jl(r);return Zl(),new Promise((t,i)=>{e.addResolver(t)})})}async function Qd(r,e,t){return await Vl(()=>{let i=Jl(r);return Zl(),new Promise((n,a)=>{i.addCall(e,t,c=>n(c))})})}var Gd=class{constructor(r){this.component=r,this.calls=[],this.receivers=[],this.resolvers=[]}addResolver(r){this.resolvers.push(r)}addCall(r,e,t){this.calls.push({path:"",method:r,params:e,handleReturn(i){t(i)}})}prepare(){Ct("commit.prepare",{component:this.component})}toRequestPayload(){let r=Da(this.component.canonical,this.component.ephemeral),e={snapshot:this.component.snapshotEncoded,updates:r,calls:this.calls.map(d=>({path:d.path,method:d.method,params:d.params}))},t=[],i=[],n=[],a=d=>t.forEach(p=>p(d)),c=()=>i.forEach(d=>d()),o=()=>n.forEach(d=>d()),u=Ct("commit",{component:this.component,commit:e,succeed:d=>{t.push(d)},fail:d=>{i.push(d)},respond:d=>{n.push(d)}});return[e,d=>{let{snapshot:p,effects:b}=d;if(o(),this.component.mergeNewSnapshot(p,b,r),ga(this.component,this.component.effects),b.returns){let m=b.returns;this.calls.map(({handleReturn:w})=>w).forEach((w,x)=>{w(m[x])})}let v=JSON.parse(p);u({snapshot:v,effects:b}),this.resolvers.forEach(m=>m()),a(d)},()=>{o(),c()}]}};function ga(r,e){Ct("effects",r,e)}var qo=lt(xt());function tc(r,e){return e||(e=()=>{}),(t,i=!1)=>{let n=i,a=t,c=r.$wire,o=c.get(a);return qo.default.interceptor((f,h,d,p,b)=>{if(typeof o=="undefined"){console.error(`Livewire Entangle Error: Livewire property ['${a}'] cannot be found on component: ['${r.name}']`);return}let v=qo.default.entangle({get(){return c.get(t)},set(m){c.set(t,m,n)}},{get(){return h()},set(m){d(m)}});return e(()=>v()),c.get(t)},f=>{Object.defineProperty(f,"live",{get(){return n=!0,f}})})(o)}}var rc=lt(xt()),$s=new WeakMap;function ts(r){if(!$s.has(r)){let e=new Hd(r);$s.set(r,e),e.registerListeners()}return $s.get(r)}function zd(r,e,t,i){let n=ts(t),a=()=>r.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:t.id,property:e}})),c=()=>r.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:t.id,property:e}})),o=()=>r.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:t.id,property:e}})),u=d=>{var p=Math.round(d.loaded*100/d.total);r.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:p}}))},f=d=>{d.target.files.length!==0&&(a(),d.target.multiple?n.uploadMultiple(e,d.target.files,c,o,u):n.upload(e,d.target.files[0],c,o,u))};r.addEventListener("change",f);let h=()=>{r.value=null};r.addEventListener("click",h),i(()=>{r.removeEventListener("change",f),r.removeEventListener("click",h)})}var Hd=class{constructor(r){this.component=r,this.uploadBag=new Xo,this.removeBag=new Xo}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:r,url:e})=>{this.component,this.handleSignedUrl(r,e)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:r,payload:e})=>{this.component,this.handleS3PreSignedUrl(r,e)}),this.component.$wire.$on("upload:finished",({name:r,tmpFilenames:e})=>this.markUploadFinished(r,e)),this.component.$wire.$on("upload:errored",({name:r})=>this.markUploadErrored(r)),this.component.$wire.$on("upload:removed",({name:r,tmpFilename:e})=>this.removeBag.shift(r).finishCallback(e))}upload(r,e,t,i,n){this.setUpload(r,{files:[e],multiple:!1,finishCallback:t,errorCallback:i,progressCallback:n})}uploadMultiple(r,e,t,i,n){this.setUpload(r,{files:Array.from(e),multiple:!0,finishCallback:t,errorCallback:i,progressCallback:n})}removeUpload(r,e,t){this.removeBag.push(r,{tmpFilename:e,finishCallback:t}),this.component.$wire.call("_removeUpload",r,e)}setUpload(r,e){this.uploadBag.add(r,e),this.uploadBag.get(r).length===1&&this.startUpload(r,e)}handleSignedUrl(r,e){let t=new FormData;Array.from(this.uploadBag.first(r).files).forEach(a=>t.append("files[]",a,a.name));let i={Accept:"application/json"},n=Xl();n&&(i["X-CSRF-TOKEN"]=n),this.makeRequest(r,t,"post",e,i,a=>a.paths)}handleS3PreSignedUrl(r,e){let t=this.uploadBag.first(r).files[0],i=e.headers;"Host"in i&&delete i.Host;let n=e.url;this.makeRequest(r,t,"put",n,i,a=>[e.path])}makeRequest(r,e,t,i,n,a){let c=new XMLHttpRequest;c.open(t,i),Object.entries(n).forEach(([o,u])=>{c.setRequestHeader(o,u)}),c.upload.addEventListener("progress",o=>{o.detail={},o.detail.progress=Math.round(o.loaded*100/o.total),this.uploadBag.first(r).progressCallback(o)}),c.addEventListener("load",()=>{if((c.status+"")[0]==="2"){let u=a(c.response&&JSON.parse(c.response));this.component.$wire.call("_finishUpload",r,u,this.uploadBag.first(r).multiple);return}let o=null;c.status===422&&(o=c.response),this.component.$wire.call("_uploadErrored",r,o,this.uploadBag.first(r).multiple)}),c.send(e)}startUpload(r,e){let t=e.files.map(i=>({name:i.name,size:i.size,type:i.type}));this.component.$wire.call("_startUpload",r,t,e.multiple),this.component}markUploadFinished(r,e){this.component;let t=this.uploadBag.shift(r);t.finishCallback(t.multiple?e:e[0]),this.uploadBag.get(r).length>0&&this.startUpload(r,this.uploadBag.last(r))}markUploadErrored(r){this.component,this.uploadBag.shift(r).errorCallback(),this.uploadBag.get(r).length>0&&this.startUpload(r,this.uploadBag.last(r))}},Xo=class{constructor(){this.bag={}}add(r,e){this.bag[r]||(this.bag[r]=[]),this.bag[r].push(e)}push(r,e){this.add(r,e)}first(r){return this.bag[r]?this.bag[r][0]:null}last(r){return this.bag[r].slice(-1)[0]}get(r){return this.bag[r]}shift(r){return this.bag[r].shift()}call(r,...e){(this.listeners[r]||[]).forEach(t=>{t(...e)})}has(r){return Object.keys(this.listeners).includes(r)}};function $d(r,e,t,i=()=>{},n=()=>{},a=()=>{}){ts(r).upload(e,t,i,n,a)}function Wd(r,e,t,i=()=>{},n=()=>{},a=()=>{}){ts(r).uploadMultiple(e,t,i,n,a)}function qd(r,e,t,i=()=>{},n=()=>{}){ts(r).removeUpload(e,t,i,n)}var Na={},ic;function kt(r,e,t=null){Na[r]=e}function Xd(r){ic=r}var Yo={on:"$on",get:"$get",set:"$set",call:"$call",commit:"$commit",watch:"$watch",entangle:"$entangle",dispatch:"$dispatch",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",upload:"$upload",uploadMultiple:"$uploadMultiple",removeUpload:"$removeUpload"};function Yd(r,e){return new Proxy({},{get(t,i){if(i==="__instance")return r;if(i in Yo)return Ko(r,Yo[i]);if(i in Na)return Ko(r,i);if(i in e)return e[i];if(!["then"].includes(i))return Kd(r)(i)},set(t,i,n){return i in e&&(e[i]=n),!0}})}function Ko(r,e){return Na[e](r)}function Kd(r){return ic(r)}rc.default.magic("wire",(r,{cleanup:e})=>{let t;return new Proxy({},{get(i,n){return t||(t=Tr(r)),["$entangle","entangle"].includes(n)?tc(t,e):t.$wire[n]},set(i,n,a){return t||(t=Tr(r)),t.$wire[n]=a,!0}})});kt("__instance",r=>r);kt("$get",r=>(e,t=!0)=>vr(t?r.reactive:r.ephemeral,e));kt("$set",r=>async(e,t,i=!0)=>(es(r.reactive,e,t),i?await ec(r):Promise.resolve()));kt("$call",r=>async(e,...t)=>await r.$wire[e](...t));kt("$entangle",r=>(e,t=!1)=>tc(r)(e,t));kt("$toggle",r=>(e,t=!0)=>r.$wire.set(e,!r.$wire.get(e),t));kt("$watch",r=>(e,t)=>{let i=!0,n;rc.default.effect(()=>{let a=vr(r.reactive,e);JSON.stringify(a),i?n=a:queueMicrotask(()=>{t(a,n),n=a}),i=!1})});kt("$refresh",r=>r.$wire.$commit);kt("$commit",r=>async()=>await ec(r));kt("$on",r=>(...e)=>ch(r,...e));kt("$dispatch",r=>(...e)=>sc(r,...e));kt("$dispatchSelf",r=>(...e)=>gi(r,...e));kt("$dispatchTo",r=>(...e)=>ja(r,...e));kt("$upload",r=>(...e)=>$d(r,...e));kt("$uploadMultiple",r=>(...e)=>Wd(r,...e));kt("$removeUpload",r=>(...e)=>qd(r,...e));var Ws=new WeakMap;kt("$parent",r=>{if(Ws.has(r))return Ws.get(r).$wire;let e=Tr(r.el.parentElement);return Ws.set(r,e),e.$wire});var pi=new WeakMap;function Zd(r,e,t){pi.has(r)||pi.set(r,{});let i=pi.get(r);i[e]=t,pi.set(r,i)}Xd(r=>e=>async(...t)=>{if(t.length===1&&t[0]instanceof Event&&(t=[]),pi.has(r)){let i=pi.get(r);if(typeof i[e]=="function")return i[e](t)}return await Qd(r,e,t)});var Vd=class{constructor(r){if(r.__livewire)throw"Component already initialized";if(r.__livewire=this,this.el=r,this.id=r.getAttribute("wire:id"),this.__livewireId=this.id,this.snapshotEncoded=r.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(r.getAttribute("wire:effects")),this.originalEffects=Gr(this.effects),this.canonical=di(Gr(this.snapshot.data)),this.ephemeral=di(Gr(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.$wire=Yd(this,this.reactive),this.cleanups=[],ga(this,this.effects)}mergeNewSnapshot(r,e,t={}){let i=JSON.parse(r),n=Gr(this.canonical),a=this.applyUpdates(n,t),c=di(Gr(i.data)),o=Da(a,c);this.snapshotEncoded=r,this.snapshot=i,this.effects=e,this.canonical=di(Gr(i.data));let u=di(Gr(i.data));return Object.entries(o).forEach(([f,h])=>{let d=f.split(".")[0];this.reactive[d]=u[d]}),o}applyUpdates(r,e){for(let t in e)es(r,t,e[t]);return r}replayUpdate(r,e){let t={...this.effects,html:e};this.mergeNewSnapshot(JSON.stringify(r),t),ga(this,{html:e})}get children(){let r=this.snapshot.memo;return Object.values(r.children).map(t=>t[1]).map(t=>th(t))}inscribeSnapshotAndEffectsOnElement(){let r=this.el;r.setAttribute("wire:snapshot",this.snapshotEncoded);let e=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(e.url=this.originalEffects.url),r.setAttribute("wire:effects",JSON.stringify(e))}addCleanup(r){this.cleanups.push(r)}cleanup(){for(;this.cleanups.length>0;)this.cleanups.pop()()}},Ar={};function Jd(r){let e=new Vd(r);if(Ar[e.id])throw"Component already registered";return Ct("component.init",{component:e,cleanup:i=>e.addCleanup(i)}),Ar[e.id]=e,e}function eh(r){let e=Ar[r];!e||(e.cleanup(),delete Ar[r])}function th(r){let e=Ar[r];if(!e)throw"Component not found: "+r;return e}function Tr(r,e=!0){let t=Alpine.findClosest(r,i=>i.__livewire);if(!t){if(e)throw"Could not find Livewire component in DOM tree";return}return t.__livewire}function nc(r){return Object.values(Ar).filter(e=>r==e.name)}function rh(r){return nc(r).map(e=>e.$wire)}function ih(r){let e=Ar[r];return e&&e.$wire}function nh(){return Object.values(Ar)[0].$wire}function sh(){return Object.values(Ar)}lt(xt());gt("effects",(r,e)=>{ah(r,e.listeners||[]),oh(r,e.dispatches||[])});function ah(r,e){e.forEach(t=>{let i=n=>{n.__livewire&&n.__livewire.receivedBy.push(r),r.$wire.call("__dispatch",t,n.detail||{})};window.addEventListener(t,i),r.addCleanup(()=>window.removeEventListener(t,i)),r.el.addEventListener(t,n=>{!n.__livewire||n.bubbles||(n.__livewire&&n.__livewire.receivedBy.push(r.id),r.$wire.call("__dispatch",t,n.detail||{}))})})}function oh(r,e){e.forEach(({name:t,params:i={},self:n=!1,to:a})=>{n?gi(r,t,i):a?ja(r,a,t,i):sc(r,t,i)})}function rs(r,e,t,i=!0){let n=new CustomEvent(e,{bubbles:i,detail:t});n.__livewire={name:e,params:t,receivedBy:[]},r.dispatchEvent(n)}function sc(r,e,t){rs(r.el,e,t)}function lh(r,e){rs(window,r,e)}function gi(r,e,t){rs(r.el,e,t,!1)}function ja(r,e,t,i){nc(e).forEach(a=>{rs(a.el,t,i,!1)})}function ch(r,e,t){r.el.addEventListener(e,i=>{t(i.detail)})}function uh(r,e){window.addEventListener(r,t=>{!t.__livewire||e(t.detail)})}lt(xt());function ma(r){return r.match(new RegExp("wire:"))}function va(r,e){let[t,...i]=e.replace(new RegExp("wire:"),"").split(".");return new dh(t,i,e,r)}function rr(r,e){gt("directive.init",({el:t,component:i,directive:n,cleanup:a})=>{n.value===r&&e({el:t,directive:n,component:i,cleanup:a})})}function is(r){return new fh(r)}var fh=class{constructor(r){this.el=r,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(r){return this.directives.map(e=>e.value).includes(r)}missing(r){return!this.has(r)}get(r){return this.directives.find(e=>e.value===r)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(r=>ma(r)).map(r=>va(this.el,r)))}},dh=class{constructor(r,e,t,i){this.rawName=this.raw=t,this.el=i,this.eventContext,this.value=r,this.modifiers=e,this.expression=this.el.getAttribute(this.rawName)}get method(){const{method:r}=this.parseOutMethodAndParams(this.expression);return r}get params(){const{params:r}=this.parseOutMethodAndParams(this.expression);return r}parseOutMethodAndParams(r){let e=r,t=[];const i=e.match(/(.*?)\((.*)\)/s);return i&&(e=i[1],t=new Function("$event",`return (function () {
                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {
                    p[k] = arguments[k];
                }
                return [].concat(p);
            })(${i[2]})`)(this.eventContext)),{method:e,params:t}}},hh=lt(bd()),ph=lt(xd()),gh=lt(Ed()),mh=lt(Cd()),vh=lt(Sd());function yh(){let r=new URL(window.location.href,document.baseURI);bh(r,document.documentElement.outerHTML)}function Ah(r){window.addEventListener("popstate",e=>{let i=(e.state||{}).alpine||{};if(!i._html)return;let n=xh(i._html);r(n)})}function wh(r,e){_h(e,r)}function _h(r,e){ac("pushState",r,e)}function bh(r,e){ac("replaceState",r,e)}function ac(r,e,t){let i=new Date().getTime();oc(i,t);let n=history.state||{};n.alpine||(n.alpine={}),n.alpine._html=i;try{history[r](n,document.title,e)}catch(a){a instanceof DOMException&&a.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+e),console.error(a)}}function xh(r){return JSON.parse(sessionStorage.getItem("alpine:"+r))}function oc(r,e){try{sessionStorage.setItem("alpine:"+r,JSON.stringify(e))}catch(t){if(![22,1,2,3,4,5,6,7,8,9,10,11,12,13,14].includes(t.code))return;let i=Object.keys(sessionStorage).map(n=>Number(n.replace("alpine:",""))).sort().shift();if(!i)return;sessionStorage.removeItem("alpine:"+i),oc(r,e)}}var cr={};function Zo(r,e){let t=r.pathname;cr[t]||(cr[t]={finished:!1,html:null,whenFinished:()=>{}},fetch(t).then(i=>i.text()).then(i=>{e(i)}))}function Vo(r,e){let t=cr[e.pathname];t.html=r,t.finished=!0,t.whenFinished()}function Eh(r,e,t){let i=r.pathname+r.search;if(!cr[i])return t();if(cr[i].finished){let n=cr[i].html;return delete cr[i],e(n)}else cr[i].whenFinished=()=>{let n=cr[i].html;delete cr[i],e(n)}}function Ch(r,e){let t=n=>n.which>1||n.altKey||n.ctrlKey||n.metaKey||n.shiftKey,i=n=>n.which!==13||n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;r.addEventListener("click",n=>{t(n)||n.preventDefault()}),r.addEventListener("mousedown",n=>{t(n)||(n.preventDefault(),e(a=>{let c=o=>{o.preventDefault(),a(),r.removeEventListener("mouseup",c)};r.addEventListener("mouseup",c)}))}),r.addEventListener("keydown",n=>{i(n)||(n.preventDefault(),e(a=>{a()}))})}function Sh(r,e=60,t){r.addEventListener("mouseenter",i=>{let n=setTimeout(()=>{t(i)},e),a=()=>{clearTimeout(n),r.removeEventListener("mouseleave",a)};r.addEventListener("mouseleave",a)})}function Jo(r){return lc(r.getAttribute("href"))}function lc(r){return new URL(r,document.baseURI)}var Ua=lt(xt());function el(r){Ua.default.mutateDom(()=>{r.querySelectorAll("[data-teleport-template]").forEach(e=>e._x_teleport.remove())})}function tl(r){Ua.default.mutateDom(()=>{r.querySelectorAll("[data-teleport-target]").forEach(e=>e.remove())})}function rl(r){Ua.default.walk(r,(e,t)=>{!e._x_teleport||(e._x_teleportPutBack(),t())})}function il(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(r=>{r.setAttribute("data-scroll-x",r.scrollLeft),r.setAttribute("data-scroll-y",r.scrollTop)})}function nl(){let r=e=>{e.hasAttribute("data-scroll-x")?(e.scrollTo({top:Number(e.getAttribute("data-scroll-x")),left:Number(e.getAttribute("data-scroll-y")),behavior:"instant"}),e.removeAttribute("data-scroll-x"),e.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{r(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(r)})}var ya=lt(xt()),Gi={};function sl(r){Gi={},document.querySelectorAll("[x-persist]").forEach(e=>{Gi[e.getAttribute("x-persist")]=e,r(e),ya.default.mutateDom(()=>{e.remove()})})}function al(r){let e=[];document.querySelectorAll("[x-persist]").forEach(t=>{let i=Gi[t.getAttribute("x-persist")];!i||(e.push(t.getAttribute("x-persist")),i._x_wasPersisted=!0,r(i,t),ya.default.mutateDom(()=>{t.replaceWith(i)}))}),Object.entries(Gi).forEach(([t,i])=>{e.includes(t)||ya.default.destroyTree(i)}),Gi={}}var $i=lt(Id());$i.default.configure({minimum:.1});$i.default.configure({trickleSpeed:200});Fh();var Aa=!1;function Ih(){Aa=!0,setTimeout(()=>{!Aa||$i.default.start()},150)}function Th(){Aa=!1,$i.default.done(),$i.default.remove()}function Fh(){let r=document.createElement("style");r.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px #29d, 0 0 5px #29d;
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `,document.head.appendChild(r)}var qs=[],cc=["data-csrf"];function ol(r,e){let t=new DOMParser().parseFromString(r,"text/html"),i=document.adoptNode(t.body),n=document.adoptNode(t.head);qs=qs.concat(Array.from(document.body.querySelectorAll("script")).map(c=>hc(pc(c.outerHTML,cc)))),Ph(n),Oh(i,qs);let a=document.body;document.body.replaceWith(i),Alpine.destroyTree(a),e()}function Oh(r,e){r.querySelectorAll("script").forEach(t=>{if(t.hasAttribute("data-navigate-once")){let i=hc(pc(t.outerHTML,cc));if(e.includes(i))return}t.replaceWith(uc(t))})}function Ph(r){let e=Array.from(document.head.children),t=e.map(n=>n.outerHTML),i=document.createDocumentFragment();for(let n of Array.from(r.children))cl(n)&&(t.includes(n.outerHTML)?i.appendChild(n):(fc(n)&&Lh(n,e)&&setTimeout(()=>window.location.reload()),dc(n)?document.head.appendChild(uc(n)):document.head.appendChild(n)));for(let n of Array.from(document.head.children))cl(n)||n.remove();for(let n of Array.from(r.children))document.head.appendChild(n)}function uc(r){let e=document.createElement("script");e.textContent=r.textContent,e.async=r.async;for(let t of r.attributes)e.setAttribute(t.name,t.value);return e}function fc(r){return r.hasAttribute("data-navigate-track")}function Lh(r,e){let[t,i]=ll(r);return e.some(n=>{if(!fc(n))return!1;let[a,c]=ll(n);if(a===t&&i!==c)return!0})}function ll(r){return(dc(r)?r.src:r.href).split("?")}function cl(r){return r.tagName.toLowerCase()==="link"&&r.getAttribute("rel").toLowerCase()==="stylesheet"||r.tagName.toLowerCase()==="style"||r.tagName.toLowerCase()==="script"}function dc(r){return r.tagName.toLowerCase()==="script"}function hc(r){return r.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0),e&e),0)}function pc(r,e){let t=r;return e.forEach(i=>{const n=new RegExp(`${i}="[^"]*"|${i}='[^']*'`,"g");t=t.replace(n,"")}),t.trim()}function Rh(r,e){let t=r.pathname+r.search;fetch(t).then(i=>i.text()).then(i=>{e(i)})}lt(xt());var Xs=!0;function Mh(r){r.navigate=t=>{e(lc(t))},r.navigate.disableProgressBar=()=>{Xs=!1},r.addInitSelector(()=>`[${r.prefixed("navigate")}]`),r.directive("navigate",(t,{value:i,expression:n,modifiers:a},{evaluateLater:c,cleanup:o})=>{a.includes("hover")&&Sh(t,60,()=>{let f=Jo(t);Zo(f,h=>{Vo(h,f)})}),Ch(t,f=>{let h=Jo(t);Zo(h,d=>{Vo(d,h)}),f(()=>{e(h)})})});function e(t){Xs&&Ih(),kh(t,i=>{Cn("alpine:navigating"),il(),Xs&&Th(),yh(),ul(r,n=>{sl(a=>{el(a)}),ol(i,()=>{tl(document.body),al((a,c)=>{rl(a)}),nl(),Cn("alpine:navigated"),wh(i,t),n(()=>{fl(r)})})})})}Ah(t=>{il(),ul(r,i=>{sl(n=>{el(n)}),ol(t,()=>{tl(document.body),al((n,a)=>{rl(n)}),nl(),Cn("alpine:navigated"),i(()=>{fl(r)})})})}),setTimeout(()=>{Cn("alpine:navigated")})}function kh(r,e){Eh(r,e,()=>{Rh(r,e)})}function ul(r,e){r.stopObservingMutations(),e(t=>{r.startObservingMutations(),setTimeout(()=>{t()})})}function Cn(r){document.dispatchEvent(new CustomEvent(r,{bubbles:!0}))}function fl(r){r.initTree(document.body,void 0,(e,t)=>{e._x_wasPersisted&&t()})}function Bh(r){r.magic("queryString",(e,{interceptor:t})=>{let i,n=!1,a=!1;return t((c,o,u,f,h)=>{let d=i||f,{initial:p,replace:b,push:v,pop:m}=wa(d,c,n);return u(p),a?(r.effect(()=>v(o())),m(async y=>{u(y),await(()=>Promise.resolve())()})):r.effect(()=>b(o())),p},c=>{c.alwaysShow=()=>(n=!0,c),c.usePush=()=>(a=!0,c),c.as=o=>(i=o,c)})}),r.history={track:wa}}function wa(r,e,t=!1){let{has:i,get:n,set:a,remove:c}=Nh(),o=new URL(window.location.href),u=i(o,r),f=u?n(o,r):e,h=JSON.stringify(f),d=v=>JSON.stringify(v)===h;t&&(o=a(o,r,f)),dl(o,r,{value:f});let p=!1,b=(v,m)=>{if(p)return;let y=new URL(window.location.href);!t&&!u&&d(m)?y=c(y,r):y=a(y,r,m),v(y,r,{value:m})};return{initial:f,replace(v){b(dl,v)},push(v){b(Dh,v)},pop(v){let m=y=>{!y.state||!y.state.alpine||Object.entries(y.state.alpine).forEach(([w,{value:x}])=>{if(w!==r)return;p=!0;let _=v(x);_ instanceof Promise?_.finally(()=>p=!1):p=!1})};return window.addEventListener("popstate",m),()=>window.removeEventListener("popstate",m)}}}function dl(r,e,t){let i=window.history.state||{};i.alpine||(i.alpine={}),i.alpine[e]=gc(t),window.history.replaceState(i,"",r.toString())}function Dh(r,e,t){let i=window.history.state||{};i.alpine||(i.alpine={}),i={alpine:{...i.alpine,[e]:gc(t)}},window.history.pushState(i,"",r.toString())}function gc(r){return JSON.parse(JSON.stringify(r))}function Nh(){return{has(r,e){let t=r.search;if(!t)return!1;let i=Sn(t);return Object.keys(i).includes(e)},get(r,e){let t=r.search;return t?Sn(t)[e]:!1},set(r,e,t){let i=Sn(r.search);return i[e]=t,r.search=hl(i),r},remove(r,e){let t=Sn(r.search);return delete t[e],r.search=hl(t),r}}}function hl(r){let e=n=>typeof n=="object"&&n!==null,t=(n,a={},c="")=>(Object.entries(n).forEach(([o,u])=>{let f=c===""?o:`${c}[${o}]`;e(u)?a={...a,...t(u,a,f)}:a[f]=encodeURIComponent(u).replaceAll("%20","+").replaceAll("%2C",",")}),a),i=t(r);return Object.entries(i).map(([n,a])=>`${n}=${a}`).join("&")}function Sn(r){if(r=r.replace("?",""),r==="")return{};let e=(n,a,c)=>{let[o,u,...f]=n.split(".");if(!u)return c[n]=a;c[o]===void 0&&(c[o]=isNaN(u)?{}:[]),e([u,...f].join("."),a,c[o])},t=r.split("&").map(n=>n.split("=")),i={};return t.forEach(([n,a])=>{if(!!a)if(a=decodeURIComponent(a.replaceAll("+","%20")),!n.includes("["))i[n]=a;else{let c=n.replaceAll("[",".").replaceAll("]","");e(c,a,i)}}),i}var jh=lt(Td()),Uh=lt(Fd()),Pt=lt(xt());function Qh(){zs(document,"livewire:init"),zs(document,"livewire:initializing"),Pt.default.plugin(jh.default),Pt.default.plugin(Bh),Pt.default.plugin(mh.default),Pt.default.plugin(hh.default),Pt.default.plugin(vh.default),Pt.default.plugin(ph.default),Pt.default.plugin(gh.default),Pt.default.plugin(Mh),Pt.default.plugin(Uh.default),Pt.default.addRootSelector(()=>"[wire\\:id]"),Pt.default.onAttributesAdded((r,e)=>{let t=Tr(r,!1);!t||e.forEach(i=>{if(!ma(i.name))return;let n=va(r,i.name);Ct("directive.init",{el:r,component:t,directive:n,cleanup:a=>{Pt.default.onAttributeRemoved(r,n.raw,a)}})})}),Pt.default.interceptInit(Pt.default.skipDuringClone(r=>{if(r.hasAttribute("wire:id")){let t=Jd(r);Pt.default.onAttributeRemoved(r,"wire:id",()=>{eh(t.id)})}let e=Tr(r,!1);e&&(Ct("element.init",{el:r,component:e}),Array.from(r.getAttributeNames()).filter(i=>ma(i)).map(i=>va(r,i)).forEach(i=>{Ct("directive.init",{el:r,component:e,directive:i,cleanup:n=>{Pt.default.onAttributeRemoved(r,i.raw,n)}})}))})),Pt.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),zs(document,"livewire:initialized")}function Gh(){}function zh(){}var mc=lt(xt());gt("commit.prepare",({component:r})=>{r.children.forEach(e=>{Hh(e)&&e.$wire.$commit()})});function Hh(r){return!!r.snapshot.memo.bindings}var $h=lt(xt()),vi={};gt("element.init",({el:r,component:e})=>{is(r).missing("submit")||r.addEventListener("submit",()=>{vi[e.id]=[],$h.default.walk(e.el,(i,n)=>{if(!!r.contains(i)){if(i.hasAttribute("wire:ignore"))return n();i.tagName.toLowerCase()==="button"&&i.type==="submit"||i.tagName.toLowerCase()==="select"||i.tagName.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")?(i.disabled||vi[e.id].push(()=>i.disabled=!1),i.disabled=!0):(i.tagName.toLowerCase()==="input"||i.tagName.toLowerCase()==="textarea")&&(i.readOnly||vi[e.id].push(()=>i.readOnly=!1),i.readOnly=!0)}})})});gt("commit",({component:r,respond:e})=>{e(()=>{Wh(r)})});function Wh(r){if(!!vi[r.id])for(;vi[r.id].length>0;)vi[r.id].shift()()}gt("commit",({component:r,succeed:e})=>{e(({effects:t})=>{let i=t.download;if(!i)return;let n=window.webkitURL||window.URL,a=n.createObjectURL(qh(i.content,i.contentType)),c=document.createElement("a");c.style.display="none",c.href=a,c.download=i.name,document.body.appendChild(c),c.click(),setTimeout(function(){n.revokeObjectURL(a)},0)})});function qh(r,e="",t=512){const i=atob(r),n=[];e===null&&(e="");for(let a=0;a<i.length;a+=t){let c=i.slice(a,a+t),o=new Array(c.length);for(let f=0;f<c.length;f++)o[f]=c.charCodeAt(f);let u=new Uint8Array(o);n.push(u)}return new Blob(n,{type:e})}var pl=lt(xt());gt("effects",(r,e)=>{let t=e.js,i=e.xjs;t&&Object.entries(t).forEach(([n,a])=>{Zd(r,n,()=>{pl.default.evaluate(r.el,a)})}),i&&i.forEach(n=>{pl.default.evaluate(r.el,n)})});var gl=lt(xt());gt("component.init",({component:r,cleanup:e})=>{let i=r.effects.url;!i||Object.entries(i).forEach(([n,a])=>{let{name:c,as:o,use:u,alwaysShow:f}=Xh(n,a);o||(o=c);let h=vr(r.ephemeral,c),{initial:d,replace:p,push:b,pop:v}=wa(o,h,f);if(u==="replace"){let m=gl.default.effect(()=>{p(vr(r.reactive,c))});e(()=>gl.default.release(m))}else if(u==="push"){let m=gt("commit",({component:w,succeed:x})=>{let _=vr(w.canonical,c);x(()=>{let S=vr(w.canonical,c);JSON.stringify(_)!==JSON.stringify(S)&&b(S)})}),y=v(async w=>{await r.$wire.set(c,w),document.querySelectorAll("input").forEach(x=>{x._x_forceModelUpdate&&x._x_forceModelUpdate(x._x_model.get())})});e(()=>{m(),y()})}})});function Xh(r,e){let t={use:"replace",alwaysShow:!1};return typeof e=="string"?{...t,name:e,as:e}:{...{...t,name:r,as:r},...e}}gt("request",({options:r})=>{window.Echo&&(r.headers["X-Socket-ID"]=window.Echo.socketId())});gt("effects",(r,e)=>{(e.listeners||[]).forEach(i=>{if(i.startsWith("echo")){if(typeof window.Echo=="undefined"){console.warn("Laravel Echo cannot be found");return}let n=i.split(/(echo:|echo-)|:|,/);n[1]=="echo:"&&n.splice(2,0,"channel",void 0),n[2]=="notification"&&n.push(void 0,void 0);let[a,c,o,u,f,h,d]=n;["channel","private","encryptedPrivate"].includes(o)?window.Echo[o](f).listen(d,p=>{gi(r,i,[p])}):o=="presence"?["here","joining","leaving"].includes(d)?window.Echo.join(f)[d](p=>{gi(r,i,[p])}):window.Echo.join(f).listen(d,p=>{gi(r,i,[p])}):o=="notification"?window.Echo.private(f).notification(p=>{gi(r,i,[p])}):console.warn("Echo channel type not yet supported")}})});Kh()&&Alpine.navigate.disableProgressBar();document.addEventListener("alpine:navigated",r=>{document.dispatchEvent(new CustomEvent("livewire:navigated",{bubbles:!0}))});document.addEventListener("alpine:navigating",r=>{document.dispatchEvent(new CustomEvent("livewire:navigating",{bubbles:!0}))});function Yh(r,e,t){r.redirectUsingNavigate?Alpine.navigate(e):t()}function Kh(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar===!1)}gt("effects",(r,e)=>{if(!e.redirect)return;let t=e.redirect;Yh(e,t,()=>{window.location.href=t})});var Zh=lt(xt());function Vh(r,e,t){let i=e.parentElement?e.parentElement.tagName.toLowerCase():"div",n=document.createElement(i);n.innerHTML=t;let a;try{a=Tr(e.parentElement)}catch{}a&&(n.__livewire=a);let c=n.firstElementChild;c.__livewire=r,Ct("morph",{el:e,toEl:c,component:r}),Zh.default.morph(e,c,{updating:(o,u,f,h)=>{if(!ui(o)){if(Ct("morph.updating",{el:o,toEl:u,component:r,skip:h,childrenOnly:f}),o.__livewire_ignore===!0||(o.__livewire_ignore_self===!0&&f(),ml(o)&&o.getAttribute("wire:id")!==r.id))return h();ml(o)&&(u.__livewire=r)}},updated:(o,u)=>{ui(o)||Ct("morph.updated",{el:o,component:r})},removing:(o,u)=>{ui(o)||Ct("morph.removing",{el:o,component:r,skip:u})},removed:o=>{ui(o)||Ct("morph.removed",{el:o,component:r})},adding:o=>{Ct("morph.adding",{el:o,component:r})},added:o=>{ui(o)||(Tr(o).id,Ct("morph.added",{el:o}))},key:o=>{if(!ui(o))return o.hasAttribute("wire:key")?o.getAttribute("wire:key"):o.hasAttribute("wire:id")?o.getAttribute("wire:id"):o.id},lookahead:!1})}function ui(r){return typeof r.hasAttribute!="function"}function ml(r){return r.hasAttribute("wire:id")}gt("effects",(r,e)=>{let t=e.html;!t||queueMicrotask(()=>{Vh(r,r.el,t)})});gt("commit.prepare",({component:r})=>{vc(r,e=>{e.snapshot.memo.props&&e.$wire.$commit()})});function vc(r,e){r.children.forEach(t=>{e(t),vc(t,e)})}var vl=lt(xt());gt("morph.added",({el:r})=>{r.__addedByMorph=!0});rr("transition",({el:r,directive:e,component:t,cleanup:i})=>{let n=vl.default.reactive({state:!r.__addedByMorph});vl.default.bind(r,{[e.rawName.replace("wire:","x-")]:"","x-show"(){return n.state}}),r.__addedByMorph&&setTimeout(()=>n.state=!0);let a=[];a.push(gt("morph.removing",({el:c,skip:o})=>{o(),c.addEventListener("transitionend",()=>{c.remove()}),n.state=!1,a.push(gt("morph",({component:u})=>{u===t&&(c.remove(),a.forEach(f=>f()))}))})),i(()=>a.forEach(c=>c()))});var Jh=new Wl;function ep(r,e){Jh.each(r,t=>{t.callback(),t.callback=()=>{}}),e()}var yl=lt(xt());gt("directive.init",({el:r,directive:e,cleanup:t,component:i})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty"].includes(e.value))return;let n=e.rawName.replace("wire:","x-on:");e.value==="submit"&&!e.modifiers.includes("prevent")&&(n=n+".prevent");let a=yl.default.bind(r,{[n](c){let o=()=>{ep(i,()=>{yl.default.evaluate(r,"$wire."+e.expression,{scope:{$event:c}})})};r.__livewire_confirm?r.__livewire_confirm(()=>{o()}):o()}});t(a)});var mi=lt(xt());mi.default.addInitSelector(()=>"[wire\\:navigate]");mi.default.addInitSelector(()=>"[wire\\:navigate\\.hover]");mi.default.interceptInit(mi.default.skipDuringClone(r=>{r.hasAttribute("wire:navigate")?mi.default.bind(r,{["x-navigate"]:!0}):r.hasAttribute("wire:navigate.hover")&&mi.default.bind(r,{["x-navigate.hover"]:!0})}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(r=>{r.inscribeSnapshotAndEffectsOnElement()})});rr("confirm",({el:r,directive:e})=>{let t=e.expression,i=e.modifiers.includes("prompt");t=t.replaceAll("\\n",`
`),t===""&&(t="Are you sure?"),r.__livewire_confirm=n=>{if(i){let[a,c]=t.split("|");c?prompt(a)===c&&n():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(t)&&n()}});function Wr(r,e,t,i=null){if(t=e.modifiers.includes("remove")?!t:t,e.modifiers.includes("class")){let n=e.expression.split(" ");t?r.classList.add(...n):r.classList.remove(...n)}else if(e.modifiers.includes("attr"))t?r.setAttribute(e.expression,!0):r.removeAttribute(e.expression);else{let n=i!=null?i:window.getComputedStyle(r,null).getPropertyValue("display"),a=["inline","block","table","flex","grid","inline-flex"].filter(c=>e.modifiers.includes(c))[0]||"inline-block";a=e.modifiers.includes("remove")?n:a,r.style.display=t?a:"none"}}var _a=new Set,ba=new Set;window.addEventListener("offline",()=>_a.forEach(r=>r()));window.addEventListener("online",()=>ba.forEach(r=>r()));rr("offline",({el:r,directive:e,cleanup:t})=>{let i=()=>Wr(r,e,!0),n=()=>Wr(r,e,!1);_a.add(i),ba.add(n),t(()=>{_a.delete(i),ba.delete(n)})});rr("loading",({el:r,directive:e,component:t})=>{let i=sp(r),[n,a]=tp(e);rp(t,i,[()=>n(()=>Wr(r,e,!0)),()=>a(()=>Wr(r,e,!1))]),ip(t,i,[()=>n(()=>Wr(r,e,!0)),()=>a(()=>Wr(r,e,!1))])});function tp(r){if(!r.modifiers.includes("delay")||r.modifiers.includes("none"))return[a=>a(),a=>a()];let e=200,t={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(t).some(a=>{if(r.modifiers.includes(a))return e=t[a],!0});let i,n=!1;return[a=>{i=setTimeout(()=>{a(),n=!0},e)},async a=>{n?(await a(),n=!1):clearTimeout(i)}]}function rp(r,e,[t,i]){gt("commit",({component:n,commit:a,respond:c})=>{n===r&&(e.length>0&&!np(a,e)||(t(),c(()=>{i()})))})}function ip(r,e,[t,i]){let n=a=>{let{id:c,property:o}=a.detail;return c!==r.id||e.length>0&&!e.map(u=>u.target).includes(o)};window.addEventListener("livewire-upload-start",a=>{n(a)||t()}),window.addEventListener("livewire-upload-finish",a=>{n(a)||i()}),window.addEventListener("livewire-upload-error",a=>{n(a)||i()})}function np(r,e){let{updates:t,calls:i}=r;return e.some(({target:n,params:a})=>{if(a)return i.some(({method:o,params:u})=>n===o&&a===yc(JSON.stringify(u)));if(Object.keys(t).some(o=>o.startsWith(n))||i.map(o=>o.method).includes(n))return!0})}function sp(r){let e=is(r),t=[];if(e.has("target")){let i=e.get("target"),n=i.expression;n.includes("(")&&n.includes(")")?t.push({target:i.method,params:yc(JSON.stringify(i.params))}):n.includes(",")?n.split(",").map(a=>a.trim()).forEach(a=>{t.push({target:a})}):t.push({target:n})}else{let i=["init","dirty","offline","target","loading","poll","ignore","key","id"];e.all().filter(n=>!i.includes(n.value)).map(n=>n.expression.split("(")[0]).forEach(n=>t.push({target:n}))}return t}function yc(r){return btoa(encodeURIComponent(r))}rr("stream",({el:r,directive:e,component:t,cleanup:i})=>{let{expression:n,modifiers:a}=e,c=gt("stream",({name:o,content:u,replace:f})=>{o===n&&(a.includes("replace")||f?r.innerHTML=u:r.innerHTML=r.innerHTML+u)});i(c)});gt("request",({respond:r})=>{r(e=>{let t=e.response;!t.headers.has("X-Livewire-Stream")||(e.response={ok:!0,redirected:!1,status:200,async text(){let i=await ap(t,n=>{Ct("stream",n)});return Yl(i)&&(this.ok=!1),i}})})});async function ap(r,e){let t=r.body.getReader(),i="";for(;;){let{done:n,value:a}=await t.read(),o=new TextDecoder().decode(a),[u,f]=op(i+o);if(u.forEach(h=>{e(h)}),i=f,n)return i}}function op(r){let e=/({"stream":true.*?"endStream":true})/g,t=r.match(e),i=[];if(t)for(let a=0;a<t.length;a++)i.push(JSON.parse(t[a]).body);let n=r.replace(e,"");return[i,n]}rr("ignore",({el:r,directive:e})=>{e.modifiers.includes("self")?r.__livewire_ignore_self=!0:r.__livewire_ignore=!0});var Ac=new Wl;gt("commit",({component:r,respond:e})=>{e(()=>{setTimeout(()=>{Ac.each(r,t=>t(!1))})})});rr("dirty",({el:r,directive:e,component:t})=>{let i=lp(r);Alpine.reactive({state:!1});let n=!1,a=r.style.display,c=o=>{Wr(r,e,o,a),n=o};Ac.add(t,c),Alpine.effect(()=>{let o=!1;if(i.length===0)o=JSON.stringify(t.canonical)!==JSON.stringify(t.reactive);else for(let u=0;u<i.length&&!o;u++){let f=i[u];o=JSON.stringify(vr(t.canonical,f))!==JSON.stringify(vr(t.reactive,f))}n!==o&&c(o),n=o})});function lp(r){let e=is(r),t=[];return e.has("model")&&t.push(e.get("model").expression),e.has("target")&&(t=t.concat(e.get("target").expression.split(",").map(i=>i.trim()))),t}var cp=lt(xt());rr("model",({el:r,directive:e,component:t,cleanup:i})=>{let{expression:n,modifiers:a}=e;if(!n)return console.warn("Livewire: [wire:model] is missing a value.",r);if(wc(t,n))return console.warn('Livewire: [wire:model="'+n+'"] property does not exist on component: ['+t.name+"]",r);if(r.type&&r.type.toLowerCase()==="file")return zd(r,n,t,i);let c=a.includes("live"),o=a.includes("lazy")||a.includes("change"),u=a.includes("blur"),f=a.includes("debounce"),h=n.startsWith("$parent")?()=>t.$wire.$parent.$commit():()=>t.$wire.$commit(),d=fp(r)&&!f&&c?dp(h,150):h;cp.default.bind(r,{["@change"](){o&&h()},["@blur"](){u&&h()},["x-model"+up(a)](){return{get(){return vr(t.$wire,n)},set(p){es(t.$wire,n,p),c&&!o&&!u&&d()}}}})});function up(r){return r=r.filter(e=>!["lazy","defer"].includes(e)),r.length===0?"":"."+r.join(".")}function fp(r){return["INPUT","TEXTAREA"].includes(r.tagName.toUpperCase())&&!["checkbox","radio"].includes(r.type)}function wc(r,e){if(e.startsWith("$parent")){let i=Tr(r.el.parentElement,!1);return i?wc(i,e.split("$parent.")[1]):!0}let t=e.split(".")[0];return!Object.keys(r.canonical).includes(t)}function dp(r,e){var t;return function(){var i=this,n=arguments,a=function(){t=null,r.apply(i,n)};clearTimeout(t),t=setTimeout(a,e)}}var hp=lt(xt());rr("init",({el:r,directive:e})=>{var i;let t=(i=e.expression)!=null?i:"$refresh";hp.default.evaluate(r,`$wire.${t}`)});var pp=lt(xt());rr("poll",({el:r,directive:e,component:t})=>{let i=Cp(e.modifiers,2e3),{start:n,pauseWhile:a,throttleWhile:c,stopWhen:o}=mp(()=>{gp(r,e)},i);n(),c(()=>Ap()&&_p(e)),a(()=>bp(e)&&xp(r)),a(()=>wp(r)),a(()=>yp()),o(()=>Ep(r))});function gp(r,e){pp.default.evaluate(r,e.expression?"$wire."+e.expression:"$wire.$commit()")}function mp(r,e=2e3){let t=[],i=[],n=[];return{start(){let a=vp(e,()=>{if(n.some(c=>c()))return a();t.some(c=>c())||i.some(c=>c())&&Math.random()<.95||r()})},pauseWhile(a){t.push(a)},throttleWhile(a){i.push(a)},stopWhen(a){n.push(a)}}}var zr=[];function vp(r,e){if(!zr[r]){let t={timer:setInterval(()=>t.callbacks.forEach(i=>i()),r),callbacks:new Set};zr[r]=t}return zr[r].callbacks.add(e),()=>{zr[r].callbacks.delete(e),zr[r].callbacks.size===0&&(clearInterval(zr[r].timer),delete zr[r])}}var Qa=!1;window.addEventListener("offline",()=>Qa=!0);window.addEventListener("online",()=>Qa=!1);function yp(){return Qa}var _c=!1;document.addEventListener("visibilitychange",()=>{_c=document.hidden},!1);function Ap(){return _c}function wp(r){return!is(r).has("poll")}function _p(r){return!r.modifiers.includes("keep-alive")}function bp(r){return r.modifiers.includes("visible")}function xp(r){let e=r.getBoundingClientRect();return!(e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.bottom>0&&e.right>0)}function Ep(r){return r.isConnected===!1}function Cp(r,e){let t,i=r.find(a=>a.match(/([0-9]+)ms/)),n=r.find(a=>a.match(/([0-9]+)s/));return i?t=Number(i.replace("ms","")):n&&(t=Number(n.replace("s",""))*1e3),t||e}var Ga={directive:rr,dispatchTo:ja,start:Qh,stop:Gh,rescan:zh,first:nh,find:ih,getByName:rh,all:sh,hook:gt,trigger:Ct,dispatch:lh,on:uh};window.Livewire&&console.warn("Detected multiple instances of Livewire running");window.Alpine&&console.warn("Detected multiple instances of Alpine running");window.Livewire=Ga;window.Alpine=mc.default;window.livewireScriptConfig===void 0&&document.addEventListener("DOMContentLoaded",()=>{Ga.start()});var bc=mc.default;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT *//*! Bundled license information:

tabbable/dist/index.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/let xc=()=>{};const Al=r=>(typeof r=="function"&&(r=r()),typeof r=="object"&&(r=JSON.stringify(r)),window.navigator.clipboard.writeText(r).then(xc));function xa(r){r.magic("clipboard",()=>Al),r.directive("clipboard",(e,{modifiers:t,expression:i},{evaluateLater:n,cleanup:a})=>{const c=t.includes("raw")?u=>u(i):n(i),o=()=>c(Al);e.addEventListener("click",o),a(()=>{e.removeEventListener("click",o)})})}xa.configure=r=>(r.hasOwnProperty("onCopy")&&typeof r.onCopy=="function"&&(xc=r.onCopy),xa);/*! image-blob-reduce 4.1.0 https://github.com/nodeca/image-blob-reduce @license MIT */function In(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ns={};ns.assign=function(e){for(var t,i=1;i<arguments.length;i++){t=Object(arguments[i]);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};function Ec(r,e){var t={};return e.forEach(function(i){Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}),t}function Sp(r){return Ec(r,["alpha","unsharpAmount","unsharpRadius","unsharpThreshold","cancelToken"])}ns.pick=Ec;ns.pick_pica_resize_options=Sp;var Cc={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/(function(r,e){(function(t){r.exports=t()})(function(){return function(){function t(i,n,a){function c(f,h){if(!n[f]){if(!i[f]){var d=typeof In=="function"&&In;if(!h&&d)return d(f,!0);if(o)return o(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p}var b=n[f]={exports:{}};i[f][0].call(b.exports,function(v){var m=i[f][1][v];return c(m||v)},b,b.exports,t,i,n,a)}return n[f].exports}for(var o=typeof In=="function"&&In,u=0;u<a.length;u++)c(a[u]);return c}return t}()({1:[function(t,i,n){var a=t("multimath"),c=t("./mm_unsharp_mask"),o=t("./mm_resize");function u(f){var h=f||[],d={js:h.indexOf("js")>=0,wasm:h.indexOf("wasm")>=0};a.call(this,d),this.features={js:d.js,wasm:d.wasm&&this.has_wasm()},this.use(c),this.use(o)}u.prototype=Object.create(a.prototype),u.prototype.constructor=u,u.prototype.resizeAndUnsharp=function(h,d){var p=this.resize(h,d);return h.unsharpAmount&&this.unsharp_mask(p,h.toWidth,h.toHeight,h.unsharpAmount,h.unsharpRadius,h.unsharpThreshold),p},i.exports=u},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(t,i,n){function a(d){return d<0?0:d>255?255:d}function c(d){return d>=0?d:0}function o(d,p,b,v,m,y){var w,x,_,S,z,R,O,F,j,W,G,Y=0,se=0;for(j=0;j<v;j++){for(z=0,W=0;W<m;W++){for(R=y[z++],O=y[z++],F=Y+R*4|0,w=x=_=S=0;O>0;O--)G=y[z++],S=S+G*d[F+3]|0,_=_+G*d[F+2]|0,x=x+G*d[F+1]|0,w=w+G*d[F]|0,F=F+4|0;p[se+3]=c(S>>7),p[se+2]=c(_>>7),p[se+1]=c(x>>7),p[se]=c(w>>7),se=se+v*4|0}se=(j+1)*4|0,Y=(j+1)*b*4|0}}function u(d,p,b,v,m,y){var w,x,_,S,z,R,O,F,j,W,G,Y=0,se=0;for(j=0;j<v;j++){for(z=0,W=0;W<m;W++){for(R=y[z++],O=y[z++],F=Y+R*4|0,w=x=_=S=0;O>0;O--)G=y[z++],S=S+G*d[F+3]|0,_=_+G*d[F+2]|0,x=x+G*d[F+1]|0,w=w+G*d[F]|0,F=F+4|0;w>>=7,x>>=7,_>>=7,S>>=7,p[se+3]=a(S+(1<<13)>>14),p[se+2]=a(_+(1<<13)>>14),p[se+1]=a(x+(1<<13)>>14),p[se]=a(w+(1<<13)>>14),se=se+v*4|0}se=(j+1)*4|0,Y=(j+1)*b*4|0}}function f(d,p,b,v,m,y){var w,x,_,S,z,R,O,F,j,W,G,Y,se=0,Re=0;for(W=0;W<v;W++){for(R=0,G=0;G<m;G++){for(O=y[R++],F=y[R++],j=se+O*4|0,w=x=_=S=0;F>0;F--)Y=y[R++],z=d[j+3],S=S+Y*z|0,_=_+Y*d[j+2]*z|0,x=x+Y*d[j+1]*z|0,w=w+Y*d[j]*z|0,j=j+4|0;_=_/255|0,x=x/255|0,w=w/255|0,p[Re+3]=c(S>>7),p[Re+2]=c(_>>7),p[Re+1]=c(x>>7),p[Re]=c(w>>7),Re=Re+v*4|0}Re=(W+1)*4|0,se=(W+1)*b*4|0}}function h(d,p,b,v,m,y){var w,x,_,S,z,R,O,F,j,W,G,Y=0,se=0;for(j=0;j<v;j++){for(z=0,W=0;W<m;W++){for(R=y[z++],O=y[z++],F=Y+R*4|0,w=x=_=S=0;O>0;O--)G=y[z++],S=S+G*d[F+3]|0,_=_+G*d[F+2]|0,x=x+G*d[F+1]|0,w=w+G*d[F]|0,F=F+4|0;w>>=7,x>>=7,_>>=7,S>>=7,S=a(S+(1<<13)>>14),S>0&&(w=w*255/S|0,x=x*255/S|0,_=_*255/S|0),p[se+3]=S,p[se+2]=a(_+(1<<13)>>14),p[se+1]=a(x+(1<<13)>>14),p[se]=a(w+(1<<13)>>14),se=se+v*4|0}se=(j+1)*4|0,Y=(j+1)*b*4|0}}i.exports={convolveHor:o,convolveVert:u,convolveHorWithPre:f,convolveVertWithPre:h}},{}],3:[function(t,i,n){i.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(t,i,n){i.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,i,n){var a=t("./resize_filter_gen"),c=t("./convolve"),o=c.convolveHor,u=c.convolveVert,f=c.convolveHorWithPre,h=c.convolveVertWithPre;function d(b,v,m){for(var y=3,w=v*m*4|0;y<w;){if(b[y]!==255)return!0;y=y+4|0}return!1}function p(b,v,m){for(var y=3,w=v*m*4|0;y<w;)b[y]=255,y=y+4|0}i.exports=function(v){var m=v.src,y=v.width,w=v.height,x=v.toWidth,_=v.toHeight,S=v.scaleX||v.toWidth/v.width,z=v.scaleY||v.toHeight/v.height,R=v.offsetX||0,O=v.offsetY||0,F=v.dest||new Uint8Array(x*_*4),j=typeof v.filter=="undefined"?"mks2013":v.filter,W=a(j,y,x,S,R),G=a(j,w,_,z,O),Y=new Uint16Array(x*w*4);return d(m,y,w)?(f(m,Y,y,w,x,W),h(Y,F,w,x,_,G)):(o(m,Y,y,w,x,W),u(Y,F,w,x,_,G),p(F,x,_)),F}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,i,n){var a=t("./resize_filter_info"),c=14;function o(u){return Math.round(u*((1<<c)-1))}i.exports=function(f,h,d,p,b){var v=a.filter[f].fn,m=1/p,y=Math.min(1,p),w=a.filter[f].win/y,x,_,S,z,R,O,F,j,W,G,Y,se,Re,we,k,D,U,Z=Math.floor((w+1)*2),q=new Int16Array((Z+2)*d),ee=0,$=!q.subarray||!q.set;for(x=0;x<d;x++){for(_=(x+.5)*m+b,S=Math.max(0,Math.floor(_-w)),z=Math.min(h-1,Math.ceil(_+w)),R=z-S+1,O=new Float32Array(R),F=new Int16Array(R),j=0,W=S,G=0;W<=z;W++,G++)Y=v((W+.5-_)*y),j+=Y,O[G]=Y;for(se=0,G=0;G<O.length;G++)Re=O[G]/j,se+=Re,F[G]=o(Re);for(F[d>>1]+=o(1-se),we=0;we<F.length&&F[we]===0;)we++;if(we<F.length){for(k=F.length-1;k>0&&F[k]===0;)k--;if(D=S+we,U=k-we+1,q[ee++]=D,q[ee++]=U,!$)q.set(F.subarray(we,k+1),ee),ee+=U;else for(G=we;G<=k;G++)q[ee++]=F[G]}else q[ee++]=0,q[ee++]=0}return q}},{"./resize_filter_info":7}],7:[function(t,i,n){var a={box:{win:.5,fn:function(o){return o<0&&(o=-o),o<.5?1:0}},hamming:{win:1,fn:function(o){if(o<0&&(o=-o),o>=1)return 0;if(o<11920929e-14)return 1;var u=o*Math.PI;return Math.sin(u)/u*(.54+.46*Math.cos(u/1))}},lanczos2:{win:2,fn:function(o){if(o<0&&(o=-o),o>=2)return 0;if(o<11920929e-14)return 1;var u=o*Math.PI;return Math.sin(u)/u*Math.sin(u/2)/(u/2)}},lanczos3:{win:3,fn:function(o){if(o<0&&(o=-o),o>=3)return 0;if(o<11920929e-14)return 1;var u=o*Math.PI;return Math.sin(u)/u*Math.sin(u/3)/(u/3)}},mks2013:{win:2.5,fn:function(o){return o<0&&(o=-o),o>=2.5?0:o>=1.5?-.125*(o-2.5)*(o-2.5):o>=.5?.25*(4*o*o-11*o+7):1.0625-1.75*o*o}}};i.exports={filter:a,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(t,i,n){var a=t("./resize_filter_gen");function c(d,p,b){for(var v=3,m=p*b*4|0;v<m;){if(d[v]!==255)return!0;v=v+4|0}return!1}function o(d,p,b){for(var v=3,m=p*b*4|0;v<m;)d[v]=255,v=v+4|0}function u(d){return new Uint8Array(d.buffer,0,d.byteLength)}var f=!0;try{f=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function h(d,p,b){if(f){p.set(u(d),b);return}for(var v=b,m=0;m<d.length;m++){var y=d[m];p[v++]=y&255,p[v++]=y>>8&255}}i.exports=function(p){var b=p.src,v=p.width,m=p.height,y=p.toWidth,w=p.toHeight,x=p.scaleX||p.toWidth/p.width,_=p.scaleY||p.toHeight/p.height,S=p.offsetX||0,z=p.offsetY||0,R=p.dest||new Uint8Array(y*w*4),O=typeof p.filter=="undefined"?"mks2013":p.filter,F=a(O,v,y,x,S),j=a(O,m,w,_,z),W=0,G=Math.max(b.byteLength,R.byteLength),Y=this.__align(W+G),se=m*y*4*2,Re=this.__align(Y+se),we=this.__align(Re+F.byteLength),k=we+j.byteLength,D=this.__instance("resize",k),U=new Uint8Array(this.__memory.buffer),Z=new Uint32Array(this.__memory.buffer),q=new Uint32Array(b.buffer);Z.set(q),h(F,U,Re),h(j,U,we);var ee=D.exports.convolveHV||D.exports._convolveHV;c(b,v,m)?ee(Re,we,Y,v,m,y,w,1):(ee(Re,we,Y,v,m,y,w,0),o(R,y,w));var $=new Uint32Array(R.buffer);return $.set(new Uint32Array(this.__memory.buffer,0,w*y)),R}},{"./resize_filter_gen":6}],9:[function(t,i,n){i.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(t,i,n){var a=t("glur/mono16");function c(o,u,f){for(var h=u*f,d=new Uint16Array(h),p,b,v,m,y=0;y<h;y++)p=o[4*y],b=o[4*y+1],v=o[4*y+2],m=p>=b&&p>=v?p:b>=v&&b>=p?b:v,d[y]=m<<8;return d}i.exports=function(u,f,h,d,p,b){var v,m,y,w,x;if(!(d===0||p<.5)){p>2&&(p=2);var _=c(u,f,h),S=new Uint16Array(_);a(S,f,h,p);for(var z=d/100*4096+.5|0,R=b<<8,O=f*h,F=0;F<O;F++)v=_[F],w=v-S[F],Math.abs(w)>=R&&(m=v+(z*w+2048>>12),m=m>65280?65280:m,m=m<0?0:m,v=v!==0?v:1,y=(m<<12)/v|0,x=F*4,u[x]=u[x]*y+2048>>12,u[x+1]=u[x+1]*y+2048>>12,u[x+2]=u[x+2]*y+2048>>12)}}},{"glur/mono16":18}],11:[function(t,i,n){i.exports=function(c,o,u,f,h,d){if(!(f===0||h<.5)){h>2&&(h=2);var p=o*u,b=p*4,v=p*2,m=p*2,y=Math.max(o,u)*4,w=8*4,x=0,_=b,S=_+v,z=S+m,R=z+m,O=R+y,F=this.__instance("unsharp_mask",b+v+m*2+y+w,{exp:Math.exp}),j=new Uint32Array(c.buffer),W=new Uint32Array(this.__memory.buffer);W.set(j);var G=F.exports.hsv_v16||F.exports._hsv_v16;G(x,_,o,u),G=F.exports.blurMono16||F.exports._blurMono16,G(_,S,z,R,O,o,u,h),G=F.exports.unsharp||F.exports._unsharp,G(x,x,_,S,o,u,f,d),j.set(new Uint32Array(this.__memory.buffer,0,p))}}},{}],12:[function(t,i,n){i.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(t,i,n){var a=100;function c(o,u){this.create=o,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=u||2e3}c.prototype.acquire=function(){var o=this,u;return this.available.length!==0?u=this.available.pop():(u=this.create(),u.id=this.lastId++,u.release=function(){return o.release(u)}),this.acquired[u.id]=u,u},c.prototype.release=function(o){var u=this;delete this.acquired[o.id],o.lastUsed=Date.now(),this.available.push(o),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return u.gc()},a))},c.prototype.gc=function(){var o=this,u=Date.now();this.available=this.available.filter(function(f){return u-f.lastUsed>o.idle?(f.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return o.gc()},a):this.timeoutId=0},i.exports=c},{}],14:[function(t,i,n){var a=2;i.exports=function(o,u,f,h,d,p){var b=f/o,v=h/u,m=(2*p+a+1)/d;if(m>.5)return[[f,h]];var y=Math.ceil(Math.log(Math.min(b,v))/Math.log(m));if(y<=1)return[[f,h]];for(var w=[],x=0;x<y;x++){var _=Math.round(Math.pow(Math.pow(o,y-x-1)*Math.pow(f,x+1),1/y)),S=Math.round(Math.pow(Math.pow(u,y-x-1)*Math.pow(h,x+1),1/y));w.push([_,S])}return w}},{}],15:[function(t,i,n){var a=1e-5;function c(u){var f=Math.round(u);return Math.abs(u-f)<a?f:Math.floor(u)}function o(u){var f=Math.round(u);return Math.abs(u-f)<a?f:Math.ceil(u)}i.exports=function(f){var h=f.toWidth/f.width,d=f.toHeight/f.height,p=c(f.srcTileSize*h)-2*f.destTileBorder,b=c(f.srcTileSize*d)-2*f.destTileBorder;if(p<1||b<1)throw new Error("Internal error in pica: target tile width/height is too small.");var v,m,y,w,x,_,S=[],z;for(w=0;w<f.toHeight;w+=b)for(y=0;y<f.toWidth;y+=p)v=y-f.destTileBorder,v<0&&(v=0),x=y+p+f.destTileBorder-v,v+x>=f.toWidth&&(x=f.toWidth-v),m=w-f.destTileBorder,m<0&&(m=0),_=w+b+f.destTileBorder-m,m+_>=f.toHeight&&(_=f.toHeight-m),z={toX:v,toY:m,toWidth:x,toHeight:_,toInnerX:y,toInnerY:w,toInnerWidth:p,toInnerHeight:b,offsetX:v/h-c(v/h),offsetY:m/d-c(m/d),scaleX:h,scaleY:d,x:c(v/h),y:c(m/d),width:o(x/h),height:o(_/d)},S.push(z);return S}},{}],16:[function(t,i,n){function a(c){return Object.prototype.toString.call(c)}i.exports.isCanvas=function(o){var u=a(o);return u==="[object HTMLCanvasElement]"||u==="[object OffscreenCanvas]"||u==="[object Canvas]"},i.exports.isImage=function(o){return a(o)==="[object HTMLImageElement]"},i.exports.isImageBitmap=function(o){return a(o)==="[object ImageBitmap]"},i.exports.limiter=function(o){var u=0,f=[];function h(){u<o&&f.length&&(u++,f.shift()())}return function(p){return new Promise(function(b,v){f.push(function(){p().then(function(m){b(m),u--,h()},function(m){v(m),u--,h()})}),h()})}},i.exports.cib_quality_name=function(o){switch(o){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},i.exports.cib_support=function(o){return Promise.resolve().then(function(){if(typeof createImageBitmap=="undefined")return!1;var u=o(100,100);return createImageBitmap(u,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(f){var h=f.width===10;return f.close(),u=null,h})}).catch(function(){return!1})},i.exports.worker_offscreen_canvas_support=function(){return new Promise(function(o,u){if(typeof OffscreenCanvas=="undefined"){o(!1);return}function f(p){if(typeof createImageBitmap=="undefined"){p.postMessage(!1);return}Promise.resolve().then(function(){var b=new OffscreenCanvas(10,10),v=b.getContext("2d");return v.rect(0,0,1,1),createImageBitmap(b,0,0,1,1)}).then(function(){return p.postMessage(!0)},function(){return p.postMessage(!1)})}var h=btoa("(".concat(f.toString(),")(self);")),d=new Worker("data:text/javascript;base64,".concat(h));d.onmessage=function(p){return o(p.data)},d.onerror=u}).then(function(o){return o},function(){return!1})},i.exports.can_use_canvas=function(o){var u=!1;try{var f=o(2,1),h=f.getContext("2d"),d=h.createImageData(2,1);d.data[0]=12,d.data[1]=23,d.data[2]=34,d.data[3]=255,d.data[4]=45,d.data[5]=56,d.data[6]=67,d.data[7]=255,h.putImageData(d,0,0),d=null,d=h.getImageData(0,0,2,1),d.data[0]===12&&d.data[1]===23&&d.data[2]===34&&d.data[3]===255&&d.data[4]===45&&d.data[5]===56&&d.data[6]===67&&d.data[7]===255&&(u=!0)}catch{}return u},i.exports.cib_can_use_region=function(){return new Promise(function(o){if(typeof createImageBitmap=="undefined"){o(!1);return}var u=new Image;u.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",u.onload=function(){createImageBitmap(u,0,0,u.width,u.height).then(function(f){f.width===u.width&&f.height===u.height?o(!0):o(!1)},function(){return o(!1)})},u.onerror=function(){return o(!1)}})}},{}],17:[function(t,i,n){i.exports=function(){var a=t("./mathlib"),c;onmessage=function(u){var f=u.data.opts;if(!f.src&&f.srcBitmap){var h=new OffscreenCanvas(f.width,f.height),d=h.getContext("2d");d.drawImage(f.srcBitmap,0,0),f.src=d.getImageData(0,0,f.width,f.height).data,h.width=h.height=0,h=null,f.srcBitmap.close(),f.srcBitmap=null}c||(c=new a(u.data.features));var p=c.resizeAndUnsharp(f);postMessage({data:p},[p.buffer])}}},{"./mathlib":1}],18:[function(t,i,n){var a,c,o,u,f,h,d,p;function b(y){y<.5&&(y=.5);var w=Math.exp(.726*.726)/y,x=Math.exp(-w),_=Math.exp(-2*w),S=(1-x)*(1-x)/(1+2*w*x-_);return a=S,c=S*(w-1)*x,o=S*(w+1)*x,u=-S*_,f=2*x,h=-_,d=(a+c)/(1-f-h),p=(o+u)/(1-f-h),new Float32Array([a,c,o,u,f,h,d,p])}function v(y,w,x,_,S,z){var R,O,F,j,W,G,Y,se,Re,we,k,D,U,Z;for(Re=0;Re<z;Re++){for(G=Re*S,Y=Re,se=0,R=y[G],W=R*_[6],j=W,k=_[0],D=_[1],U=_[4],Z=_[5],we=0;we<S;we++)O=y[G],F=O*k+R*D+j*U+W*Z,W=j,j=F,R=O,x[se]=j,se++,G++;for(G--,se--,Y+=z*(S-1),R=y[G],W=R*_[7],j=W,O=R,k=_[2],D=_[3],we=S-1;we>=0;we--)F=O*k+R*D+j*U+W*Z,W=j,j=F,R=O,O=y[G],w[Y]=x[se]+j,G--,se--,Y-=z}}function m(y,w,x,_){if(!!_){var S=new Uint16Array(y.length),z=new Float32Array(Math.max(w,x)),R=b(_);v(y,S,z,R,w,x),v(S,y,z,R,x,w)}}i.exports=m},{}],19:[function(t,i,n){var a=t("object-assign"),c=t("./lib/base64decode"),o=t("./lib/wa_detect"),u={js:!0,wasm:!0};function f(h){if(!(this instanceof f))return new f(h);var d=a({},u,h||{});if(this.options=d,this.__cache={},this.__init_promise=null,this.__modules=d.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}f.prototype.has_wasm=o,f.prototype.use=function(h){return this.__modules[h.name]=h,this.options.wasm&&this.has_wasm()&&h.wasm_fn?this[h.name]=h.wasm_fn:this[h.name]=h.fn,this},f.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var h=this;return this.__init_promise=Promise.all(Object.keys(h.__modules).map(function(d){var p=h.__modules[d];return!h.options.wasm||!h.has_wasm()||!p.wasm_fn||h.__wasm[d]?null:WebAssembly.compile(h.__base64decode(p.wasm_src)).then(function(b){h.__wasm[d]=b})})).then(function(){return h}),this.__init_promise},f.prototype.__base64decode=c,f.prototype.__reallocate=function(d){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(d/(64*1024))}),this.__memory;var p=this.__memory.buffer.byteLength;return p<d&&this.__memory.grow(Math.ceil((d-p)/(64*1024))),this.__memory},f.prototype.__instance=function(d,p,b){if(p&&this.__reallocate(p),!this.__wasm[d]){var v=this.__modules[d];this.__wasm[d]=new WebAssembly.Module(this.__base64decode(v.wasm_src))}if(!this.__cache[d]){var m={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[d]=new WebAssembly.Instance(this.__wasm[d],{env:a(m,b||{})})}return this.__cache[d]},f.prototype.__align=function(d,p){p=p||8;var b=d%p;return d+(b?p-b:0)},i.exports=f},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(t,i,n){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";i.exports=function(o){for(var u=o.replace(/[\r\n=]/g,""),f=u.length,h=new Uint8Array(f*3>>2),d=0,p=0,b=0;b<f;b++)b%4===0&&b&&(h[p++]=d>>16&255,h[p++]=d>>8&255,h[p++]=d&255),d=d<<6|a.indexOf(u.charAt(b));var v=f%4*6;return v===0?(h[p++]=d>>16&255,h[p++]=d>>8&255,h[p++]=d&255):v===18?(h[p++]=d>>10&255,h[p++]=d>>2&255):v===12&&(h[p++]=d>>4&255),h}},{}],21:[function(t,i,n){var a;i.exports=function(){if(typeof a!="undefined"||(a=!1,typeof WebAssembly=="undefined"))return a;try{var o=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),u=new WebAssembly.Module(o),f=new WebAssembly.Instance(u,{});return f.exports.test(4)!==0&&(a=!0),a}catch{}return a}},{}],22:[function(t,i,n){var a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function u(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function f(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var d={},p=0;p<10;p++)d["_"+String.fromCharCode(p)]=p;var b=Object.getOwnPropertyNames(d).map(function(m){return d[m]});if(b.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(m){v[m]=m}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=f()?Object.assign:function(h,d){for(var p,b=u(h),v,m=1;m<arguments.length;m++){p=Object(arguments[m]);for(var y in p)c.call(p,y)&&(b[y]=p[y]);if(a){v=a(p);for(var w=0;w<v.length;w++)o.call(p,v[w])&&(b[v[w]]=p[v[w]])}}return b}},{}],23:[function(t,i,n){var a=arguments[3],c=arguments[4],o=arguments[5],u=JSON.stringify;i.exports=function(f,h){for(var d,p=Object.keys(o),b=0,v=p.length;b<v;b++){var m=p[b],y=o[m].exports;if(y===f||y&&y.default===f){d=m;break}}if(!d){d=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var w={},b=0,v=p.length;b<v;b++){var m=p[b];w[m]=m}c[d]=["function(require,module,exports){"+f+"(self); }",w]}var x=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_={};_[d]=d,c[x]=["function(require,module,exports){var f = require("+u(d)+");(f.default ? f.default : f)(self);}",_];var S={};z(x);function z(G){S[G]=!0;for(var Y in c[G][1]){var se=c[G][1][Y];S[se]||z(se)}}var R="("+a+")({"+Object.keys(S).map(function(G){return u(G)+":["+c[G][0]+","+u(c[G][1])+"]"}).join(",")+"},{},["+u(x)+"])",O=window.URL||window.webkitURL||window.mozURL||window.msURL,F=new Blob([R],{type:"text/javascript"});if(h&&h.bare)return F;var j=O.createObjectURL(F),W=new Worker(j);return W.objectURL=j,W}},{}],"/index.js":[function(t,i,n){function a(k,D){return h(k)||f(k,D)||o(k,D)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(k,D){if(!!k){if(typeof k=="string")return u(k,D);var U=Object.prototype.toString.call(k).slice(8,-1);if(U==="Object"&&k.constructor&&(U=k.constructor.name),U==="Map"||U==="Set")return Array.from(k);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return u(k,D)}}function u(k,D){(D==null||D>k.length)&&(D=k.length);for(var U=0,Z=new Array(D);U<D;U++)Z[U]=k[U];return Z}function f(k,D){var U=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(U!=null){var Z=[],q=!0,ee=!1,$,le;try{for(U=U.call(k);!(q=($=U.next()).done)&&(Z.push($.value),!(D&&Z.length===D));q=!0);}catch(ie){ee=!0,le=ie}finally{try{!q&&U.return!=null&&U.return()}finally{if(ee)throw le}}return Z}}function h(k){if(Array.isArray(k))return k}var d=t("object-assign"),p=t("webworkify"),b=t("./lib/mathlib"),v=t("./lib/pool"),m=t("./lib/utils"),y=t("./lib/worker"),w=t("./lib/stepper"),x=t("./lib/tiler"),_=t("./lib/mm_resize/resize_filter_info"),S={},z=!1;try{typeof navigator!="undefined"&&navigator.userAgent&&(z=navigator.userAgent.indexOf("Safari")>=0)}catch{}var R=1;typeof navigator!="undefined"&&(R=Math.min(navigator.hardwareConcurrency||1,4));var O={tile:1024,concurrency:R,features:["js","wasm","ww"],idle:2e3,createCanvas:function(D,U){var Z=document.createElement("canvas");return Z.width=D,Z.height=U,Z}},F={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},j=!1,W=!1,G=!1,Y=!1,se=!1;function Re(){return{value:p(y),destroy:function(){if(this.value.terminate(),typeof window!="undefined"){var D=window.URL||window.webkitURL||window.mozURL||window.msURL;D&&D.revokeObjectURL&&this.value.objectURL&&D.revokeObjectURL(this.value.objectURL)}}}}function we(k){if(!(this instanceof we))return new we(k);this.options=d({},O,k||{});var D="lk_".concat(this.options.concurrency);this.__limit=S[D]||m.limiter(this.options.concurrency),S[D]||(S[D]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}we.prototype.init=function(){var k=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData!="undefined"&&typeof Uint8ClampedArray!="undefined")try{new ImageData(new Uint8ClampedArray(400),10,10),j=!0}catch{}typeof ImageBitmap!="undefined"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?W=!0:this.debug("ImageBitmap does not support .close(), disabled"));var D=this.options.features.slice();if(D.indexOf("all")>=0&&(D=["cib","wasm","js","ww"]),this.__requested_features=D,this.__mathlib=new b(D),D.indexOf("ww")>=0&&typeof window!="undefined"&&"Worker"in window)try{var U=t("webworkify")(function(){});U.terminate(),this.features.ww=!0;var Z="wp_".concat(JSON.stringify(this.options));S[Z]?this.__workersPool=S[Z]:(this.__workersPool=new v(Re,this.options.idle),S[Z]=this.__workersPool)}catch{}var q=this.__mathlib.init().then(function(ie){d(k.features,ie.features)}),ee;W?ee=m.cib_support(this.options.createCanvas).then(function(ie){if(k.features.cib&&D.indexOf("cib")<0){k.debug("createImageBitmap() resize supported, but disabled by config");return}D.indexOf("cib")>=0&&(k.features.cib=ie)}):ee=Promise.resolve(!1),G=m.can_use_canvas(this.options.createCanvas);var $;W&&j&&D.indexOf("ww")!==-1?$=m.worker_offscreen_canvas_support():$=Promise.resolve(!1),$=$.then(function(ie){Y=ie});var le=m.cib_can_use_region().then(function(ie){se=ie});return this.__initPromise=Promise.all([q,ee,$,le]).then(function(){return k}),this.__initPromise},we.prototype.__invokeResize=function(k,D){var U=this;return D.__mathCache=D.__mathCache||{},Promise.resolve().then(function(){return U.features.ww?new Promise(function(Z,q){var ee=U.__workersPool.acquire();D.cancelToken&&D.cancelToken.catch(function(le){return q(le)}),ee.value.onmessage=function(le){ee.release(),le.data.err?q(le.data.err):Z(le.data)};var $=[];k.src&&$.push(k.src.buffer),k.srcBitmap&&$.push(k.srcBitmap),ee.value.postMessage({opts:k,features:U.__requested_features,preload:{wasm_nodule:U.__mathlib.__}},$)}):{data:U.__mathlib.resizeAndUnsharp(k,D.__mathCache)}})},we.prototype.__extractTileData=function(k,D,U,Z,q){if(this.features.ww&&Y&&(m.isCanvas(D)||se))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(Z.srcImageBitmap||D,k.x,k.y,k.width,k.height).then(function(le){return q.srcBitmap=le,q});if(m.isCanvas(D))return Z.srcCtx||(Z.srcCtx=D.getContext("2d")),this.debug("Get tile pixel data"),q.src=Z.srcCtx.getImageData(k.x,k.y,k.width,k.height).data,q;this.debug("Draw tile imageBitmap/image to temporary canvas");var ee=this.options.createCanvas(k.width,k.height),$=ee.getContext("2d");return $.globalCompositeOperation="copy",$.drawImage(Z.srcImageBitmap||D,k.x,k.y,k.width,k.height,0,0,k.width,k.height),this.debug("Get tile pixel data"),q.src=$.getImageData(0,0,k.width,k.height).data,ee.width=ee.height=0,q},we.prototype.__landTileData=function(k,D,U){var Z;if(this.debug("Convert raw rgba tile result to ImageData"),D.bitmap)return U.toCtx.drawImage(D.bitmap,k.toX,k.toY),null;if(j)Z=new ImageData(new Uint8ClampedArray(D.data),k.toWidth,k.toHeight);else if(Z=U.toCtx.createImageData(k.toWidth,k.toHeight),Z.data.set)Z.data.set(D.data);else for(var q=Z.data.length-1;q>=0;q--)Z.data[q]=D.data[q];return this.debug("Draw tile"),z?U.toCtx.putImageData(Z,k.toX,k.toY,k.toInnerX-k.toX,k.toInnerY-k.toY,k.toInnerWidth+1e-5,k.toInnerHeight+1e-5):U.toCtx.putImageData(Z,k.toX,k.toY,k.toInnerX-k.toX,k.toInnerY-k.toY,k.toInnerWidth,k.toInnerHeight),null},we.prototype.__tileAndResize=function(k,D,U){var Z=this,q={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},ee=function(le){return Z.__limit(function(){if(U.canceled)return U.cancelToken;var ie={width:le.width,height:le.height,toWidth:le.toWidth,toHeight:le.toHeight,scaleX:le.scaleX,scaleY:le.scaleY,offsetX:le.offsetX,offsetY:le.offsetY,filter:U.filter,unsharpAmount:U.unsharpAmount,unsharpRadius:U.unsharpRadius,unsharpThreshold:U.unsharpThreshold};return Z.debug("Invoke resize math"),Promise.resolve(ie).then(function(ae){return Z.__extractTileData(le,k,U,q,ae)}).then(function(ae){return Z.debug("Invoke resize math"),Z.__invokeResize(ae,U)}).then(function(ae){return U.canceled?U.cancelToken:(q.srcImageData=null,Z.__landTileData(le,ae,q))})})};return Promise.resolve().then(function(){if(q.toCtx=D.getContext("2d"),m.isCanvas(k))return null;if(m.isImageBitmap(k))return q.srcImageBitmap=k,q.isImageBitmapReused=!0,null;if(m.isImage(k))return W?(Z.debug("Decode image via createImageBitmap"),createImageBitmap(k).then(function($){q.srcImageBitmap=$}).catch(function($){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(U.canceled)return U.cancelToken;Z.debug("Calculate tiles");var $=x({width:U.width,height:U.height,srcTileSize:Z.options.tile,toWidth:U.toWidth,toHeight:U.toHeight,destTileBorder:U.__destTileBorder}),le=$.map(function(ae){return ee(ae)});function ie(ae){ae.srcImageBitmap&&(ae.isImageBitmapReused||ae.srcImageBitmap.close(),ae.srcImageBitmap=null)}return Z.debug("Process tiles"),Promise.all(le).then(function(){return Z.debug("Finished!"),ie(q),D},function(ae){throw ie(q),ae})})},we.prototype.__processStages=function(k,D,U,Z){var q=this;if(Z.canceled)return Z.cancelToken;var ee=k.shift(),$=a(ee,2),le=$[0],ie=$[1],ae=k.length===0,de;ae||_.q2f.indexOf(Z.filter)<0?de=Z.filter:Z.filter==="box"?de="box":de="hamming",Z=d({},Z,{toWidth:le,toHeight:ie,filter:de});var Be;return ae||(Be=this.options.createCanvas(le,ie)),this.__tileAndResize(D,ae?U:Be,Z).then(function(){return ae?U:(Z.width=le,Z.height=ie,q.__processStages(k,Be,U,Z))}).then(function(oe){return Be&&(Be.width=Be.height=0),oe})},we.prototype.__resizeViaCreateImageBitmap=function(k,D,U){var Z=this,q=D.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(k,{resizeWidth:U.toWidth,resizeHeight:U.toHeight,resizeQuality:m.cib_quality_name(_.f2q[U.filter])}).then(function(ee){if(U.canceled)return U.cancelToken;if(!U.unsharpAmount)return q.drawImage(ee,0,0),ee.close(),q=null,Z.debug("Finished!"),D;Z.debug("Unsharp result");var $=Z.options.createCanvas(U.toWidth,U.toHeight),le=$.getContext("2d");le.drawImage(ee,0,0),ee.close();var ie=le.getImageData(0,0,U.toWidth,U.toHeight);return Z.__mathlib.unsharp_mask(ie.data,U.toWidth,U.toHeight,U.unsharpAmount,U.unsharpRadius,U.unsharpThreshold),q.putImageData(ie,0,0),$.width=$.height=0,ie=le=$=q=null,Z.debug("Finished!"),D})},we.prototype.resize=function(k,D,U){var Z=this;this.debug("Start resize...");var q=d({},F);if(isNaN(U)?U&&(q=d(q,U)):q=d(q,{quality:U}),q.toWidth=D.width,q.toHeight=D.height,q.width=k.naturalWidth||k.width,q.height=k.naturalHeight||k.height,Object.prototype.hasOwnProperty.call(q,"quality")){if(q.quality<0||q.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(q.quality));q.filter=_.q2f[q.quality]}if(D.width===0||D.height===0)return Promise.reject(new Error("Invalid output size: ".concat(D.width,"x").concat(D.height)));q.unsharpRadius>2&&(q.unsharpRadius=2),q.canceled=!1,q.cancelToken&&(q.cancelToken=q.cancelToken.then(function($){throw q.canceled=!0,$},function($){throw q.canceled=!0,$}));var ee=3;return q.__destTileBorder=Math.ceil(Math.max(ee,2.5*q.unsharpRadius|0)),this.init().then(function(){if(q.canceled)return q.cancelToken;if(Z.features.cib){if(_.q2f.indexOf(q.filter)>=0)return Z.__resizeViaCreateImageBitmap(k,D,q);Z.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!G){var $=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw $.code="ERR_GET_IMAGE_DATA",$}var le=w(q.width,q.height,q.toWidth,q.toHeight,Z.options.tile,q.__destTileBorder);return Z.__processStages(le,k,D,q)})},we.prototype.resizeBuffer=function(k){var D=this,U=d({},F,k);if(Object.prototype.hasOwnProperty.call(U,"quality")){if(U.quality<0||U.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(U.quality));U.filter=_.q2f[U.quality]}return this.init().then(function(){return D.__mathlib.resizeAndUnsharp(U)})},we.prototype.toBlob=function(k,D,U){return D=D||"image/png",new Promise(function(Z){if(k.toBlob){k.toBlob(function(ie){return Z(ie)},D,U);return}if(k.convertToBlob){Z(k.convertToBlob({type:D,quality:U}));return}for(var q=atob(k.toDataURL(D,U).split(",")[1]),ee=q.length,$=new Uint8Array(ee),le=0;le<ee;le++)$[le]=q.charCodeAt(le);Z(new Blob([$],{type:D}))})},we.prototype.debug=function(){},i.exports=we},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Cc);var Wi={},Sc={exports:{}};(function(r){function e(o,u){var f=new Error(o);return f.code=u,f}function t(o){for(var u=o.toString(16).toUpperCase(),f=2-u.length;f>0;f--)u="0"+u;return"0x"+u}function i(o){try{return unescape(encodeURIComponent(o))}catch{return o}}function n(o){try{return decodeURIComponent(escape(o))}catch{return o}}function a(o){return Object.prototype.toString.call(o)==="[object Uint8Array]"}function c(o,u,f){this.input=o.subarray(u,f),this.start=u;var h=String.fromCharCode.apply(null,this.input.subarray(0,4));if(h!=="II*\0"&&h!=="MM\0*")throw e("invalid TIFF signature","EBADDATA");this.big_endian=h[0]==="M"}c.prototype.each=function(o){this.aborted=!1;var u=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:u}];this.ifds_to_read.length>0&&!this.aborted;){var f=this.ifds_to_read.shift();!f.offset||this.scan_ifd(f.id,f.offset,o)}},c.prototype.filter=function(o){var u={};u.ifd0={id:0,entries:[]},this.each(function(p){o(p)===!1&&!p.is_subifd_link||p.is_subifd_link&&p.count!==1&&p.format!==4||(u["ifd"+p.ifd]||(u["ifd"+p.ifd]={id:p.ifd,entries:[]}),u["ifd"+p.ifd].entries.push(p))}),delete u.ifd1;var f=8;Object.keys(u).forEach(function(p){f+=2,u[p].entries.forEach(function(b){f+=12+(b.data_length>4?Math.ceil(b.data_length/2)*2:0)}),f+=4}),this.output=new Uint8Array(f),this.output[0]=this.output[1]=(this.big_endian?"M":"I").charCodeAt(0),this.write_uint16(2,42);var h=8,d=this;if(this.write_uint32(4,h),Object.keys(u).forEach(function(p){u[p].written_offset=h;var b=h,v=b+2+u[p].entries.length*12+4;h=v,d.write_uint16(b,u[p].entries.length),u[p].entries.sort(function(y,w){return y.tag-w.tag}).forEach(function(y,w){var x=b+2+w*12;d.write_uint16(x,y.tag),d.write_uint16(x+2,y.format),d.write_uint32(x+4,y.count),y.is_subifd_link?u["ifd"+y.tag]&&(u["ifd"+y.tag].link_offset=x+8):y.data_length<=4?d.output.set(d.input.subarray(y.data_offset-d.start,y.data_offset-d.start+4),x+8):(d.write_uint32(x+8,h),d.output.set(d.input.subarray(y.data_offset-d.start,y.data_offset-d.start+y.data_length),h),h+=Math.ceil(y.data_length/2)*2)});var m=u["ifd"+(u[p].id+1)];m&&(m.link_offset=v-4)}),Object.keys(u).forEach(function(p){u[p].written_offset&&u[p].link_offset&&d.write_uint32(u[p].link_offset,u[p].written_offset)}),this.output.length!==h)throw e("internal error: incorrect buffer size allocated");return this.output},c.prototype.read_uint16=function(o){var u=this.input;if(o+2>u.length)throw e("unexpected EOF","EBADDATA");return this.big_endian?u[o]*256+u[o+1]:u[o]+u[o+1]*256},c.prototype.read_uint32=function(o){var u=this.input;if(o+4>u.length)throw e("unexpected EOF","EBADDATA");return this.big_endian?u[o]*16777216+u[o+1]*65536+u[o+2]*256+u[o+3]:u[o]+u[o+1]*256+u[o+2]*65536+u[o+3]*16777216},c.prototype.write_uint16=function(o,u){var f=this.output;this.big_endian?(f[o]=u>>>8&255,f[o+1]=u&255):(f[o]=u&255,f[o+1]=u>>>8&255)},c.prototype.write_uint32=function(o,u){var f=this.output;this.big_endian?(f[o]=u>>>24&255,f[o+1]=u>>>16&255,f[o+2]=u>>>8&255,f[o+3]=u&255):(f[o]=u&255,f[o+1]=u>>>8&255,f[o+2]=u>>>16&255,f[o+3]=u>>>24&255)},c.prototype.is_subifd_link=function(o,u){return o===0&&u===34665||o===0&&u===34853||o===34665&&u===40965},c.prototype.exif_format_length=function(o){switch(o){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},c.prototype.exif_format_read=function(o,u){var f;switch(o){case 1:case 2:return f=this.input[u],f;case 6:return f=this.input[u],f|(f&128)*33554430;case 3:return f=this.read_uint16(u),f;case 8:return f=this.read_uint16(u),f|(f&32768)*131070;case 4:return f=this.read_uint32(u),f;case 9:return f=this.read_uint32(u),f|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},c.prototype.scan_ifd=function(o,u,f){var h=this.read_uint16(u);u+=2;for(var d=0;d<h;d++){var p=this.read_uint16(u),b=this.read_uint16(u+2),v=this.read_uint32(u+4),m=this.exif_format_length(b),y=v*m,w=y<=4?u+8:this.read_uint32(u+8),x=!1;if(w+y>this.input.length)throw e("unexpected EOF","EBADDATA");for(var _=[],S=w,z=0;z<v;z++,S+=m){var R=this.exif_format_read(b,S);if(R===null){_=null;break}_.push(R)}if(Array.isArray(_)&&b===2){try{_=n(String.fromCharCode.apply(null,_))}catch{_=null}_&&_[_.length-1]==="\0"&&(_=_.slice(0,-1))}this.is_subifd_link(o,p)&&Array.isArray(_)&&Number.isInteger(_[0])&&_[0]>0&&(this.ifds_to_read.push({id:p,offset:_[0]}),x=!0);var O={is_big_endian:this.big_endian,ifd:o,tag:p,format:b,count:v,entry_offset:u+this.start,data_length:y,data_offset:w+this.start,value:_,is_subifd_link:x};if(f(O)===!1){this.aborted=!0;return}u+=12}o===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(u)})},r.exports.is_jpeg=function(o){return o.length>=4&&o[0]===255&&o[1]===216&&o[2]===255},r.exports.jpeg_segments_each=function(o,u){if(!a(o))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_segment), Function expected","EINVAL");if(!r.exports.is_jpeg(o))throw e("Unknown file format","ENOTJPEG");for(var f=0,h=o.length,d=!1;;){var p,b;if(f+1>=h)throw e("Unexpected EOF","EBADDATA");var v=o[f],m=o[f+1];if(v===255&&m===255)p=255,b=1;else if(v===255&&m!==0){if(p=m,b=2,!(208<=p&&p<=217||p===1)){if(f+3>=h)throw e("Unexpected EOF","EBADDATA");if(b+=o[f+2]*256+o[f+3],b<2)throw e("Invalid segment length","EBADDATA");if(f+b-1>=h)throw e("Unexpected EOF","EBADDATA")}d&&(p>=208&&p<=215||(d=!1)),p===218&&(d=!0)}else if(d)for(var y=f+1;;y++){if(y>=h)throw e("Unexpected EOF","EBADDATA");if(o[y]===255){if(y+1>=h)throw e("Unexpected EOF","EBADDATA");if(o[y+1]!==0){p=0,b=y-f;break}}}else throw e("Unexpected byte at segment start: "+t(v)+" (offset "+t(f)+")","EBADDATA");if(u({code:p,offset:f,length:b})===!1||p===217)break;f+=b}},r.exports.jpeg_segments_filter=function(o,u){if(!a(o))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_segment), Function expected","EINVAL");var f=[],h=0;r.exports.jpeg_segments_each(o,function(b){var v=u(b);if(a(v))f.push({data:v}),h+=v.length;else if(Array.isArray(v))v.filter(a).forEach(function(y){f.push({data:y}),h+=y.length});else if(v!==!1){var m={start:b.offset,end:b.offset+b.length};f.length>0&&f[f.length-1].end===m.start?f[f.length-1].end=m.end:f.push(m),h+=b.length}});var d=new Uint8Array(h),p=0;return f.forEach(function(b){var v=b.data||o.subarray(b.start,b.end);d.set(v,p),p+=v.length}),d},r.exports.jpeg_exif_tags_each=function(o,u){if(!a(o))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_exif_entry), Function expected","EINVAL");r.exports.jpeg_segments_each(o,function(f){if(f.code===218)return!1;if(f.code===225&&f.length>=10&&o[f.offset+4]===69&&o[f.offset+5]===120&&o[f.offset+6]===105&&o[f.offset+7]===102&&o[f.offset+8]===0&&o[f.offset+9]===0)return new c(o,f.offset+10,f.offset+f.length).each(u),!1})},r.exports.jpeg_exif_tags_filter=function(o,u){if(!a(o))throw e("Invalid argument (jpeg_bin), Uint8Array expected","EINVAL");if(typeof u!="function")throw e("Invalid argument (on_exif_entry), Function expected","EINVAL");var f=!1;return r.exports.jpeg_segments_filter(o,function(h){if(!f&&(h.code===218&&(f=!0),h.code===225&&h.length>=10&&o[h.offset+4]===69&&o[h.offset+5]===120&&o[h.offset+6]===105&&o[h.offset+7]===102&&o[h.offset+8]===0&&o[h.offset+9]===0)){var d=new c(o,h.offset+10,h.offset+h.length).filter(u);if(!d)return!1;var p=new Uint8Array(10);return p.set(o.slice(h.offset,h.offset+10)),p[2]=d.length+8>>>8&255,p[3]=d.length+8&255,f=!0,[p,d]}})},r.exports.jpeg_add_comment=function(o,u){var f=!1,h=0;return r.exports.jpeg_segments_filter(o,function(d){if(h++,!(h===1&&d.code===216)&&!(h===2&&d.code===224)&&!f){u=i(u);var p=new Uint8Array(5+u.length),b=0;return p[b++]=255,p[b++]=254,p[b++]=u.length+3>>>8&255,p[b++]=u.length+3&255,u.split("").forEach(function(v){p[b++]=v.charCodeAt(0)&255}),p[b++]=0,f=!0,[p,o.subarray(d.offset,d.offset+d.length)]}})}})(Sc);var Gn=Sc.exports;function Ic(r){return this._getUint8Array(r.blob).then(function(e){if(r.is_jpeg=Gn.is_jpeg(e),!r.is_jpeg)return Promise.resolve(r);r.orig_blob=r.blob;try{var t,i;if(Gn.jpeg_exif_tags_each(e,function(a){if(a.ifd===0&&a.tag===274&&Array.isArray(a.value))return r.orientation=a.value[0]||1,t=a.is_big_endian,i=a.data_offset,!1}),i){var n=t?new Uint8Array([0,1]):new Uint8Array([1,0]);r.blob=new Blob([e.slice(0,i),n,e.slice(i+2)],{type:"image/jpeg"})}}catch{}return r})}function Tc(r){if(!r.is_jpeg)return Promise.resolve(r);var e=r.orientation-1;if(!e)return Promise.resolve(r);var t;e&4?t=this.pica.options.createCanvas(r.out_canvas.height,r.out_canvas.width):t=this.pica.options.createCanvas(r.out_canvas.width,r.out_canvas.height);var i=t.getContext("2d");return i.save(),e&1&&i.transform(-1,0,0,1,t.width,0),e&2&&i.transform(-1,0,0,-1,t.width,t.height),e&4&&i.transform(0,1,1,0,0,0),i.drawImage(r.out_canvas,0,0),i.restore(),r.out_canvas.width=r.out_canvas.height=0,r.out_canvas=t,Promise.resolve(r)}function Fc(r){return r.is_jpeg?Promise.all([this._getUint8Array(r.blob),this._getUint8Array(r.out_blob)]).then(function(e){var t=e[0],i=e[1];if(!Gn.is_jpeg(t))return Promise.resolve(r);var n=[];return Gn.jpeg_segments_each(t,function(a){if(a.code===218)return!1;n.push(a)}),n=n.filter(function(a){return a.code===226?!1:a.code>=224&&a.code<240||a.code===254}).map(function(a){return t.slice(a.offset,a.offset+a.length)}),r.out_blob=new Blob([i.slice(0,2)].concat(n).concat([i.slice(20)]),{type:"image/jpeg"}),r}):Promise.resolve(r)}function Ip(r){r.before("_blob_to_image",Ic),r.after("_transform",Tc),r.after("_create_blob",Fc)}Wi.jpeg_patch_exif=Ic;Wi.jpeg_rotate_canvas=Tc;Wi.jpeg_attach_orig_segments=Fc;Wi.assign=Ip;var za=ns,Oc=Cc.exports;function Nt(r){if(!(this instanceof Nt))return new Nt(r);r=r||{},this.pica=r.pica||Oc({}),this.initialized=!1,this.utils=za}Nt.prototype.use=function(r){var e=[this].concat(Array.prototype.slice.call(arguments,1));return r.apply(r,e),this};Nt.prototype.init=function(){this.use(Wi.assign)};Nt.prototype.toBlob=function(r,e){var t=za.assign({max:1/0},e),i={blob:r,opts:t};return this.initialized||(this.init(),this.initialized=!0),Promise.resolve(i).then(this._blob_to_image).then(this._calculate_size).then(this._transform).then(this._cleanup).then(this._create_blob).then(function(n){return n.out_canvas.width=n.out_canvas.height=0,n.out_blob})};Nt.prototype.toCanvas=function(r,e){var t=za.assign({max:1/0},e),i={blob:r,opts:t};return this.initialized||(this.init(),this.initialized=!0),Promise.resolve(i).then(this._blob_to_image).then(this._calculate_size).then(this._transform).then(this._cleanup).then(function(n){return n.out_canvas})};Nt.prototype.before=function(r,e){if(!this[r])throw new Error('Method "'+r+'" does not exist');if(typeof e!="function")throw new Error('Invalid argument "fn", function expected');var t=this[r],i=this;return this[r]=function(n){return e.call(i,n).then(function(a){return t.call(i,a)})},this};Nt.prototype.after=function(r,e){if(!this[r])throw new Error('Method "'+r+'" does not exist');if(typeof e!="function")throw new Error('Invalid argument "fn", function expected');var t=this[r],i=this;return this[r]=function(n){return t.call(i,n).then(function(a){return e.call(i,a)})},this};Nt.prototype._blob_to_image=function(r){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;return r.image=document.createElement("img"),r.image_url=e.createObjectURL(r.blob),r.image.src=r.image_url,new Promise(function(t,i){r.image.onerror=function(){i(new Error("ImageBlobReduce: failed to create Image() from blob"))},r.image.onload=function(){t(r)}})};Nt.prototype._calculate_size=function(r){var e=r.opts.max/Math.max(r.image.width,r.image.height);return e>1&&(e=1),r.transform_width=Math.max(Math.round(r.image.width*e),1),r.transform_height=Math.max(Math.round(r.image.height*e),1),r.scale_factor=e,Promise.resolve(r)};Nt.prototype._transform=function(r){r.out_canvas=this.pica.options.createCanvas(r.transform_width,r.transform_height),r.transform_width=null,r.transform_height=null;var e={alpha:r.blob.type==="image/png"};return this.utils.assign(e,this.utils.pick_pica_resize_options(r.opts)),this.pica.resize(r.image,r.out_canvas,e).then(function(){return r})};Nt.prototype._cleanup=function(r){r.image.src="",r.image=null;var e=window.URL||window.webkitURL||window.mozURL||window.msURL;return e.revokeObjectURL&&e.revokeObjectURL(r.image_url),r.image_url=null,Promise.resolve(r)};Nt.prototype._create_blob=function(r){return this.pica.toBlob(r.out_canvas,r.blob.type).then(function(e){return r.out_blob=e,r})};Nt.prototype._getUint8Array=function(r){return r.arrayBuffer?r.arrayBuffer().then(function(e){return new Uint8Array(e)}):new Promise(function(e,t){var i=new FileReader;i.readAsArrayBuffer(r),i.onload=function(){e(new Uint8Array(i.result))},i.onerror=function(){t(new Error("ImageBlobReduce: failed to load data from input blob")),i.abort()},i.onabort=function(){t(new Error("ImageBlobReduce: failed to load data from input blob (aborted)"))}})};Nt.pica=Oc;var Tp=Nt,Tn,Fp=new Uint8Array(16);function Op(){if(!Tn&&(Tn=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Tn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tn(Fp)}var Pp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Lp(r){return typeof r=="string"&&Pp.test(r)}var Lt=[];for(var Ys=0;Ys<256;++Ys)Lt.push((Ys+256).toString(16).substr(1));function Rp(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Lt[r[e+0]]+Lt[r[e+1]]+Lt[r[e+2]]+Lt[r[e+3]]+"-"+Lt[r[e+4]]+Lt[r[e+5]]+"-"+Lt[r[e+6]]+Lt[r[e+7]]+"-"+Lt[r[e+8]]+Lt[r[e+9]]+"-"+Lt[r[e+10]]+Lt[r[e+11]]+Lt[r[e+12]]+Lt[r[e+13]]+Lt[r[e+14]]+Lt[r[e+15]]).toLowerCase();if(!Lp(t))throw TypeError("Stringified UUID is invalid");return t}var wl,Ks,Zs=0,Vs=0;function Mp(r,e,t){var i=e&&t||0,n=e||new Array(16);r=r||{};var a=r.node||wl,c=r.clockseq!==void 0?r.clockseq:Ks;if(a==null||c==null){var o=r.random||(r.rng||Op)();a==null&&(a=wl=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),c==null&&(c=Ks=(o[6]<<8|o[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:Vs+1,h=u-Zs+(f-Vs)/1e4;if(h<0&&r.clockseq===void 0&&(c=c+1&16383),(h<0||u>Zs)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Zs=u,Vs=f,Ks=c,u+=122192928e5;var d=((u&268435455)*1e4+f)%4294967296;n[i++]=d>>>24&255,n[i++]=d>>>16&255,n[i++]=d>>>8&255,n[i++]=d&255;var p=u/4294967296*1e4&268435455;n[i++]=p>>>8&255,n[i++]=p&255,n[i++]=p>>>24&15|16,n[i++]=p>>>16&255,n[i++]=c>>>8|128,n[i++]=c&255;for(var b=0;b<6;++b)n[i+b]=a[b];return e||Rp(n)}const kp=.5,Bp=10,_l=.25;class Dp{constructor(e,t,i,n,a,c){this.sourceProj_=e,this.targetProj_=t;let o={};const u=ff(this.targetProj_,this.sourceProj_);this.transformInv_=function(x){const _=x[0]+"/"+x[1];return o[_]||(o[_]=u(x)),o[_]},this.maxSourceExtent_=n,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&er(n)==er(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?er(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?er(this.targetProj_.getExtent()):null;const f=Xn(i),h=df(i),d=hf(i),p=pf(i),b=this.transformInv_(f),v=this.transformInv_(h),m=this.transformInv_(d),y=this.transformInv_(p),w=Bp+(c?Math.max(0,Math.ceil(Math.log2(aa(i)/(c*c*256*256)))):0);if(this.addQuad_(f,h,d,p,b,v,m,y,w),this.wrapsXInSource_){let x=1/0;this.triangles_.forEach(function(_,S,z){x=Math.min(x,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-x>this.sourceWorldWidth_/2){const S=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];S[0][0]-x>this.sourceWorldWidth_/2&&(S[0][0]-=this.sourceWorldWidth_),S[1][0]-x>this.sourceWorldWidth_/2&&(S[1][0]-=this.sourceWorldWidth_),S[2][0]-x>this.sourceWorldWidth_/2&&(S[2][0]-=this.sourceWorldWidth_);const z=Math.min(S[0][0],S[1][0],S[2][0]);Math.max(S[0][0],S[1][0],S[2][0])-z<this.sourceWorldWidth_/2&&(_.source=S)}})}o={}}addTriangle_(e,t,i,n,a,c){this.triangles_.push({source:[n,a,c],target:[e,t,i]})}addQuad_(e,t,i,n,a,c,o,u,f){const h=Lo([a,c,o,u]),d=this.sourceWorldWidth_?er(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,b=this.sourceProj_.canWrapX()&&d>.5&&d<1;let v=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const y=Lo([e,t,i,n]);v=er(y)/this.targetWorldWidth_>_l||v}!b&&this.sourceProj_.isGlobal()&&d&&(v=d>_l||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!Ml(h,this.maxSourceExtent_))return;let m=0;if(!v&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(u[0])||!isFinite(u[1]))){if(f>0)v=!0;else if(m=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(f>0){if(!v){const y=[(e[0]+i[0])/2,(e[1]+i[1])/2],w=this.transformInv_(y);let x;b?x=(Bn(a[0],p)+Bn(o[0],p))/2-Bn(w[0],p):x=(a[0]+o[0])/2-w[0];const _=(a[1]+o[1])/2-w[1];v=x*x+_*_>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const y=[(t[0]+i[0])/2,(t[1]+i[1])/2],w=this.transformInv_(y),x=[(n[0]+e[0])/2,(n[1]+e[1])/2],_=this.transformInv_(x);this.addQuad_(e,t,y,x,a,c,w,_,f-1),this.addQuad_(x,y,i,n,_,w,o,u,f-1)}else{const y=[(e[0]+t[0])/2,(e[1]+t[1])/2],w=this.transformInv_(y),x=[(i[0]+n[0])/2,(i[1]+n[1])/2],_=this.transformInv_(x);this.addQuad_(e,y,x,n,a,w,_,u,f-1),this.addQuad_(y,t,i,x,w,c,o,_,f-1)}return}}if(b){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(m&11)==0&&this.addTriangle_(e,i,n,a,o,u),(m&14)==0&&this.addTriangle_(e,i,t,a,o,c),m&&((m&13)==0&&this.addTriangle_(t,n,e,c,u,a),(m&7)==0&&this.addTriangle_(t,n,i,c,u,o))}calculateSourceExtent(){const e=Yn();return this.triangles_.forEach(function(t,i,n){const a=t.source;Gs(e,a[0]),Gs(e,a[1]),Gs(e,a[2])}),e}getTriangles(){return this.triangles_}}var Np=Dp;let Js;const yi=[];function bl(r,e,t,i,n){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(i,n),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,i)+1,Math.max(t,n)),r.restore()}function ea(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function jp(){if(Js===void 0){const r=oa(6,6,yi);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",bl(r,4,5,4,0),bl(r,4,5,0,5);const e=r.getImageData(0,0,3,3).data;Js=ea(e,0)||ea(e,4)||ea(e,8),Pa(r),yi.push(r.canvas)}return Js}function xl(r,e,t,i){const n=vf(t,e,r);let a=Un(e,i,t);const c=e.getMetersPerUnit();c!==void 0&&(a*=c);const o=r.getMetersPerUnit();o!==void 0&&(a/=o);const u=r.getExtent();if(!u||La(u,n)){const f=Un(r,a,n)/a;isFinite(f)&&f>0&&(a/=f)}return a}function Up(r,e,t,i){const n=Bl(t);let a=xl(r,e,n,i);return(!isFinite(a)||a<=0)&&mf(t,function(c){return a=xl(r,e,c,i),isFinite(a)&&a>0}),a}function Qp(r,e,t,i,n,a,c,o,u,f,h,d){const p=oa(Math.round(t*r),Math.round(t*e),yi);if(d||(p.imageSmoothingEnabled=!1),u.length===0)return p.canvas;p.scale(t,t);function b(S){return Math.round(S*t)/t}p.globalCompositeOperation="lighter";const v=Yn();u.forEach(function(S,z,R){kl(v,S.extent)});const m=er(v),y=jn(v),w=oa(Math.round(t*m/i),Math.round(t*y/i),yi);d||(w.imageSmoothingEnabled=!1);const x=t/i;u.forEach(function(S,z,R){const O=S.extent[0]-v[0],F=-(S.extent[3]-v[3]),j=er(S.extent),W=jn(S.extent);S.image.width>0&&S.image.height>0&&w.drawImage(S.image,f,f,S.image.width-2*f,S.image.height-2*f,O*x,F*x,j*x,W*x)});const _=Xn(c);return o.getTriangles().forEach(function(S,z,R){const O=S.source,F=S.target;let j=O[0][0],W=O[0][1],G=O[1][0],Y=O[1][1],se=O[2][0],Re=O[2][1];const we=b((F[0][0]-_[0])/a),k=b(-(F[0][1]-_[1])/a),D=b((F[1][0]-_[0])/a),U=b(-(F[1][1]-_[1])/a),Z=b((F[2][0]-_[0])/a),q=b(-(F[2][1]-_[1])/a),ee=j,$=W;j=0,W=0,G-=ee,Y-=$,se-=ee,Re-=$;const le=[[G,Y,0,0,D-we],[se,Re,0,0,Z-we],[0,0,G,Y,U-k],[0,0,se,Re,q-k]],ie=gf(le);if(!!ie){if(p.save(),p.beginPath(),jp()||!d){p.moveTo(D,U);const ae=4,de=we-D,Be=k-U;for(let oe=0;oe<ae;oe++)p.lineTo(D+b((oe+1)*de/ae),U+b(oe*Be/(ae-1))),oe!=ae-1&&p.lineTo(D+b((oe+1)*de/ae),U+b((oe+1)*Be/(ae-1)));p.lineTo(Z,q)}else p.moveTo(D,U),p.lineTo(we,k),p.lineTo(Z,q);p.clip(),p.transform(ie[0],ie[2],ie[1],ie[3],we,k),p.translate(v[0]-ee,v[3]-$),p.scale(i/t,-i/t),p.drawImage(w.canvas,0,0),p.restore()}}),Pa(w),yi.push(w.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,o.getTriangles().forEach(function(S,z,R){const O=S.target,F=(O[0][0]-_[0])/a,j=-(O[0][1]-_[1])/a,W=(O[1][0]-_[0])/a,G=-(O[1][1]-_[1])/a,Y=(O[2][0]-_[0])/a,se=-(O[2][1]-_[1])/a;p.beginPath(),p.moveTo(W,G),p.lineTo(F,j),p.lineTo(Y,se),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Gp extends yf{constructor(e,t,i,n,a,c,o,u,f,h,d,p){super(a,et.IDLE,{interpolate:!!p}),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=o,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=c||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const b=n.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const y=v?Dn(b,v):b;if(aa(y)===0){this.state=et.EMPTY;return}const w=e.getExtent();w&&(m?m=Dn(m,w):m=w);const x=n.getResolution(this.wrappedTileCoord_[0]),_=Up(e,i,y,x);if(!isFinite(_)||_<=0){this.state=et.EMPTY;return}const S=h!==void 0?h:kp;if(this.triangulation_=new Np(e,i,y,m,_*S,x),this.triangulation_.getTriangles().length===0){this.state=et.EMPTY;return}this.sourceZ_=t.getZForResolution(_);let z=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(z[1]=ca(z[1],m[1],m[3]),z[3]=ca(z[3],m[1],m[3])):z=Dn(z,m)),!aa(z))this.state=et.EMPTY;else{const R=t.getTileRangeForExtentAndZ(z,this.sourceZ_);for(let O=R.minX;O<=R.maxX;O++)for(let F=R.minY;F<=R.maxY;F++){const j=f(this.sourceZ_,O,F,o);j&&this.sourceTiles_.push(j)}this.sourceTiles_.length===0&&(this.state=et.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==et.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=et.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),n=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],c=this.targetTileGrid_.getResolution(t),o=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Qp(n,a,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),c,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=et.LOADED}this.changed()}load(){if(this.state==et.IDLE){this.state=et.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const i=t.getState();if(i==et.IDLE||i==et.LOADING){e++;const n=Dl(t,Ra.CHANGE,function(a){const c=t.getState();(c==et.LOADED||c==et.ERROR||c==et.EMPTY)&&(la(n),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(n)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,n){t.getState()==et.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(la),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Pa(this.canvas_.getContext("2d")),yi.push(this.canvas_),this.canvas_=null),super.release()}}var Ea=Gp,ta={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};const fi=[0,0,0],Ir=5;class zp{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,gr(Af(this.resolutions_,function(n,a){return a-n},!0),17);let t;if(!e.origins){for(let n=0,a=this.resolutions_.length-1;n<a;++n)if(!t)t=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,gr(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Xn(i)),gr(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,gr(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Nl,gr(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(n,a){const c=new jl(Math.min(0,n[0]),Math.max(n[0]-1,-1),Math.min(0,n[1]),Math.max(n[1]-1,-1));if(i){const o=this.getTileRangeForExtentAndZ(i,a);c.minX=Math.max(o.minX,c.minX),c.maxX=Math.min(o.maxX,c.maxX),c.minY=Math.max(o.minY,c.minY),c.maxY=Math.min(o.maxY,c.maxY)}return c},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const n=this.getTileRangeForExtentAndZ(e,t);for(let a=n.minX,c=n.maxX;a<=c;++a)for(let o=n.minY,u=n.maxY;o<=u;++o)i([t,a,o])}forEachTileCoordParentTileRange(e,t,i,n){let a,c,o,u=null,f=e[0]-1;for(this.zoomFactor_===2?(c=e[1],o=e[2]):u=this.getTileCoordExtent(e,n);f>=this.minZoom;){if(this.zoomFactor_===2?(c=Math.floor(c/2),o=Math.floor(o/2),a=ci(c,c,o,o,i)):a=this.getTileRangeForExtentAndZ(u,f,i),t(f,a))return!0;--f}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,c=e[2]*2;return ci(a,a+1,c,c+1,t)}const n=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const n=e[0],a=e[1],c=e[2];if(t===n)return ci(a,c,a,c,i);if(this.zoomFactor_){const u=Math.pow(this.zoomFactor_,t-n),f=Math.floor(a*u),h=Math.floor(c*u);if(t<n)return ci(f,f,h,h,i);const d=Math.floor(u*(a+1))-1,p=Math.floor(u*(c+1))-1;return ci(f,d,h,p,i)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t,i)}getTileRangeExtent(e,t,i){const n=this.getOrigin(e),a=this.getResolution(e),c=mr(this.getTileSize(e),this.tmpSize_),o=n[0]+t.minX*c[0]*a,u=n[0]+(t.maxX+1)*c[0]*a,f=n[1]+t.minY*c[1]*a,h=n[1]+(t.maxY+1)*c[1]*a;return ua(o,f,u,h,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,fi);const n=fi[1],a=fi[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,fi);const c=fi[1],o=fi[2];return ci(n,c,a,o,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=mr(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*i,t[1]-(e[2]+.5)*n[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),n=this.getResolution(e[0]),a=mr(this.getTileSize(e[0]),this.tmpSize_),c=i[0]+e[1]*a[0]*n,o=i[1]-(e[2]+1)*a[1]*n,u=c+a[0]*n,f=o+a[1]*n;return ua(c,o,u,f,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,n,a){const c=this.getZForResolution(i),o=i/this.getResolution(c),u=this.getOrigin(c),f=mr(this.getTileSize(c),this.tmpSize_);let h=o*(e-u[0])/i/f[0],d=o*(u[1]-t)/i/f[1];return n?(h=xn(h,Ir)-1,d=xn(d,Ir)-1):(h=En(h,Ir),d=En(d,Ir)),Ro(c,h,d,a)}getTileCoordForXYAndZ_(e,t,i,n,a){const c=this.getOrigin(i),o=this.getResolution(i),u=mr(this.getTileSize(i),this.tmpSize_);let f=(e-c[0])/o/u[0],h=(c[1]-t)/o/u[1];return n?(f=xn(f,Ir)-1,h=xn(h,Ir)-1):(f=En(f,Ir),h=En(h,Ir)),Ro(i,f,h,a)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=wf(this.resolutions_,e,t||0);return ca(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return _f(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let n=this.minZoom;n<t;++n)i[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=i}}var Pc=zp;function Lc(r){let e=r.getDefaultTileGrid();return e||(e=Wp(r),r.setDefaultTileGrid(e)),e}function Hp(r,e,t){const i=e[0],n=r.getTileCoordCenter(e),a=Ha(t);if(!La(a,n)){const c=er(a),o=Math.ceil((a[0]-n[0])/c);return n[0]+=c*o,r.getTileCoordForCoordAndZ(n,i)}return e}function $p(r,e,t,i){i=i!==void 0?i:"top-left";const n=Rc(r,e,t);return new Pc({extent:r,origin:xf(r,i),resolutions:n,tileSize:t})}function ss(r){const e=r||{},t=e.extent||$t("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Rc(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Pc(i)}function Rc(r,e,t,i){e=e!==void 0?e:bf,t=mr(t!==void 0?t:Nl);const n=jn(r),a=er(r);i=i>0?i:Math.max(a/t[0],n/t[1]);const c=e+1,o=new Array(c);for(let u=0;u<c;++u)o[u]=i/Math.pow(2,u);return o}function Wp(r,e,t,i){const n=Ha(r);return $p(n,e,t,i)}function Ha(r){r=$t(r);let e=r.getExtent();if(!e){const t=180*Ul.degrees/r.getMetersPerUnit();e=ua(-t,-t,t,t)}return e}class qp extends Ef{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&mr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Ql(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,n){const a=this.getTileCacheForProjection(e);if(!a)return!1;let c=!0,o,u,f;for(let h=i.minX;h<=i.maxX;++h)for(let d=i.minY;d<=i.maxY;++d)u=Ma(t,h,d),f=!1,a.containsKey(u)&&(o=a.get(u),f=o.getState()===et.LOADED,f&&(f=n(o)!==!1)),f||(c=!1);return c}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,n,a){return Rt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Lc(e)}getTileCacheForProjection(e){const t=this.getProjection();return gr(t===null||$r(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const n=this.getTileGridForProjection(i),a=this.getTilePixelRatio(t),c=mr(n.getTileSize(e),this.tmpSize);return a==1?c:Cf(c,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=Hp(i,e,t)),Sf(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,n){}}class Xp extends If{constructor(e,t){super(e),this.tile=t}}var Yp=qp;function Kp(r,e){const t=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,a=/\{-y\}/g;return function(c,o,u){if(!!c)return r.replace(t,c[0].toString()).replace(i,c[1].toString()).replace(n,c[2].toString()).replace(a,function(){const f=c[0],h=e.getFullTileRange(f);return gr(h,55),(h.getHeight()-c[2]-1).toString()})}}function Zp(r,e){const t=r.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=Kp(r[n],e);return Vp(i)}function Vp(r){return r.length===1?r[0]:function(e,t,i){if(!e)return;const n=Tf(e),a=Bn(n,r.length);return r[a](e,t,i)}}function Jp(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const i=t[1].charCodeAt(0),n=t[2].charCodeAt(0);let a;for(a=i;a<=n;++a)e.push(r.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const i=parseInt(t[2],10);for(let n=parseInt(t[1],10);n<=i;n++)e.push(r.replace(t[0],n.toString()));return e}return e.push(r),e}class $a extends Yp{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===$a.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=ur(t),n=t.getState();let a;n==et.LOADING?(this.tileLoadingKeys_[i]=!0,a=ta.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=n==et.ERROR?ta.TILELOADERROR:n==et.LOADED?ta.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new Xp(a,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t!="undefined"?this.setKey(t):this.changed()}setUrl(e){const t=Jp(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Zp(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const n=Ma(e,t,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}var eg=$a;class tg extends eg{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:rg,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Gl,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const n in this.tileCacheForProjection){const a=this.tileCacheForProjection[n];a.expireCache(a==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!$r(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!$r(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||$r(t,e)))return this.tileGrid;const i=ur(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Lc(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||$r(t,e))return this.tileCache;const i=ur(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Ql(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,n,a,c){const o=[e,t,i],u=this.getTileCoordForTileUrlFunction(o,a),f=u?this.tileUrlFunction(u,n,a):void 0,h=new this.tileClass(o,f!==void 0?et.IDLE:et.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=c,h.addEventListener(Ra.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,t,i,n,a){const c=this.getProjection();if(!c||!a||$r(c,a))return this.getTileInternal(e,t,i,n,c||a);const o=this.getTileCacheForProjection(a),u=[e,t,i];let f;const h=Ff(u);o.containsKey(h)&&(f=o.get(h));const d=this.getKey();if(f&&f.key==d)return f;const p=this.getTileGridForProjection(c),b=this.getTileGridForProjection(a),v=this.getTileCoordForTileUrlFunction(u,a),m=new Ea(c,p,a,b,u,v,this.getTilePixelRatio(n),this.getGutter(),(y,w,x,_)=>this.getTileInternal(y,w,x,_,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=d,f?(m.interimTile=f,m.refreshInterimChain(),o.replace(h,m)):o.set(h,m),m}getTileInternal(e,t,i,n,a){let c=null;const o=Ma(e,t,i),u=this.getKey();if(!this.tileCache.containsKey(o))c=this.createTile_(e,t,i,n,a,u),this.tileCache.set(o,c);else if(c=this.tileCache.get(o),c.key!=u){const f=c;c=this.createTile_(e,t,i,n,a,u),f.getState()==et.IDLE?c.interimTile=f.interimTile:c.interimTile=f,c.refreshInterimChain(),this.tileCache.replace(o,c)}return c}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=$t(e);if(i){const n=ur(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function rg(r,e){r.getImage().src=e}var ig=tg;class ng extends ig{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:ss({extent:Ha(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}var Fr=ng;const sg='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class ag extends Fr{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[sg];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",n=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:n,wrapX:e.wrapX,zDirection:e.zDirection})}}var og=ag,Fn={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class lg extends Of{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Fn.PRELOAD)}setPreload(e){this.set(Fn.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Fn.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Fn.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}var cg=lg;class ug extends Pf{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Yn(),this.tmpTileRange_=new jl(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==et.LOADED||i==et.EMPTY||i==et.ERROR&&!n}getTile(e,t,i,n){const a=n.pixelRatio,c=n.viewState.projection,o=this.getLayer();let f=o.getSource().getTile(e,t,i,a,c);return f.getState()==et.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(f)||(f=f.getInterimTile()),f}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=Mo(t.pixelToCoordinateTransform,e.slice()),a=i.getExtent();if(a&&!La(a,n))return null;const c=t.pixelRatio,o=t.viewState.projection,u=t.viewState,f=i.getRenderSource(),h=f.getTileGridForProjection(u.projection),d=f.getTilePixelRatio(t.pixelRatio);for(let p=h.getZForResolution(u.resolution);p>=h.getMinZoom();--p){const b=h.getTileCoordForCoordAndZ(n,p),v=f.getTile(p,b[1],b[2],c,o);if(!(v instanceof Gl||v instanceof Ea)||v instanceof Ea&&v.getState()===et.EMPTY)return null;if(v.getState()!==et.LOADED)continue;const m=h.getOrigin(p),y=mr(h.getTileSize(p)),w=h.getResolution(p),x=Math.floor(d*((n[0]-m[0])/w-b[1]*y[0])),_=Math.floor(d*((m[1]-n[1])/w-b[2]*y[1])),S=Math.round(d*f.getGutterForProjection(u.projection));return this.getImageData(v.getImage(),x+S,_+S)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],n=e.viewState,a=n.projection,c=n.resolution,o=n.center,u=n.rotation,f=e.pixelRatio,h=this.getLayer(),d=h.getSource(),p=d.getRevision(),b=d.getTileGridForProjection(a),v=b.getZForResolution(c,d.zDirection),m=b.getResolution(v);let y=e.extent;const w=e.viewState.resolution,x=d.getTilePixelRatio(f),_=Math.round(er(y)/w*f),S=Math.round(jn(y)/w*f),z=i.extent&&ko(i.extent);z&&(y=Dn(y,ko(i.extent)));const R=m*_/2/x,O=m*S/2/x,F=[o[0]-R,o[1]-O,o[0]+R,o[1]+O],j=b.getTileRangeForExtentAndZ(y,v),W={};W[v]={};const G=this.createLoadedTileFinder(d,a,W),Y=this.tmpExtent,se=this.tmpTileRange_;this.newTiles_=!1;const Re=u?Bo(n.center,w,u,e.size):void 0;for(let le=j.minX;le<=j.maxX;++le)for(let ie=j.minY;ie<=j.maxY;++ie){if(u&&!b.tileCoordIntersectsViewport([v,le,ie],Re))continue;const ae=this.getTile(v,le,ie,e);if(this.isDrawableTile(ae)){const oe=ur(this);if(ae.getState()==et.LOADED){W[v][ae.tileCoord.toString()]=ae;let me=ae.inTransition(oe);me&&i.opacity!==1&&(ae.endTransition(oe),me=!1),!this.newTiles_&&(me||!this.renderedTiles.includes(ae))&&(this.newTiles_=!0)}if(ae.getAlpha(oe,e.time)===1)continue}const de=b.getTileCoordChildTileRange(ae.tileCoord,se,Y);let Be=!1;de&&(Be=G(v+1,de)),Be||b.forEachTileCoordParentTileRange(ae.tileCoord,G,se,Y)}const we=m/c*f/x;Do(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,u,-_/2,-S/2);const k=Lf(this.pixelTransform);this.useContainer(t,k,this.getBackground(e));const D=this.context,U=D.canvas;Rf(this.inversePixelTransform,this.pixelTransform),Do(this.tempTransform,_/2,S/2,we,we,0,-_/2,-S/2),U.width!=_||U.height!=S?(U.width=_,U.height=S):this.containerReused||D.clearRect(0,0,_,S),z&&this.clipUnrotated(D,e,z),d.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,e),this.renderedTiles.length=0;let Z=Object.keys(W).map(Number);Z.sort(Mf);let q,ee,$;i.opacity===1&&(!this.containerReused||d.getOpaque(e.viewState.projection))?Z=Z.reverse():(q=[],ee=[]);for(let le=Z.length-1;le>=0;--le){const ie=Z[le],ae=d.getTilePixelSize(ie,f,a),Be=b.getResolution(ie)/m,oe=ae[0]*Be*we,me=ae[1]*Be*we,Oe=b.getTileCoordForCoordAndZ(Xn(F),ie),ze=b.getTileCoordExtent(Oe),Ce=Mo(this.tempTransform,[x*(ze[0]-F[0])/m,x*(F[3]-ze[3])/m]),xe=x*d.getGutterForProjection(a),mt=W[ie];for(const st in mt){const _e=mt[st],X=_e.tileCoord,te=Oe[1]-X[1],Te=Math.round(Ce[0]-(te-1)*oe),ue=Oe[2]-X[2],rt=Math.round(Ce[1]-(ue-1)*me),Ae=Math.round(Ce[0]-te*oe),ne=Math.round(Ce[1]-ue*me),fe=Te-Ae,Ee=rt-ne,We=v===ie,ke=We&&_e.getAlpha(ur(this),e.time)!==1;let at=!1;if(!ke)if(q){$=[Ae,ne,Ae+fe,ne,Ae+fe,ne+Ee,Ae,ne+Ee];for(let it=0,jt=q.length;it<jt;++it)if(v!==ie&&ie<ee[it]){const ct=q[it];Ml([Ae,ne,Ae+fe,ne+Ee],[ct[0],ct[3],ct[4],ct[7]])&&(at||(D.save(),at=!0),D.beginPath(),D.moveTo($[0],$[1]),D.lineTo($[2],$[3]),D.lineTo($[4],$[5]),D.lineTo($[6],$[7]),D.moveTo(ct[6],ct[7]),D.lineTo(ct[4],ct[5]),D.lineTo(ct[2],ct[3]),D.lineTo(ct[0],ct[1]),D.clip())}q.push($),ee.push(ie)}else D.clearRect(Ae,ne,fe,Ee);this.drawTileImage(_e,e,Ae,ne,fe,Ee,xe,We),q&&!ke?(at&&D.restore(),this.renderedTiles.unshift(_e)):this.renderedTiles.push(_e),this.updateUsedTiles(e.usedTiles,d,_e)}}return this.renderedRevision=p,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!kf(this.renderedExtent_,F),this.renderedExtent_=F,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(e,d,b,f,a,y,v,h.getPreload()),this.scheduleExpireCache(e,d),this.postRender(D,e),i.extent&&D.restore(),D.imageSmoothingEnabled=!0,k!==U.style.transform&&(U.style.transform=k),this.container}drawTileImage(e,t,i,n,a,c,o,u){const f=this.getTileImage(e);if(!f)return;const h=ur(this),d=t.layerStatesArray[t.layerIndex],p=d.opacity*(u?e.getAlpha(h,t.time):1),b=p!==this.context.globalAlpha;b&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(f,o,o,f.width-2*o,f.height-2*o,i,n,a,c),b&&this.context.restore(),p!==d.opacity?t.animate=!0:u&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=function(n,a,c){const o=ur(n);o in c.usedTiles&&n.expireCache(c.viewState.projection,c.usedTiles[o])}.bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const n=ur(t);n in e||(e[n]={}),e[n][i.getKey()]=!0}manageTilePyramid(e,t,i,n,a,c,o,u,f){const h=ur(t);h in e.wantedTiles||(e.wantedTiles[h]={});const d=e.wantedTiles[h],p=e.tileQueue,b=i.getMinZoom(),v=e.viewState.rotation,m=v?Bo(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let y=0,w,x,_,S,z,R;for(R=b;R<=o;++R)for(x=i.getTileRangeForExtentAndZ(c,R,x),_=i.getResolution(R),S=x.minX;S<=x.maxX;++S)for(z=x.minY;z<=x.maxY;++z)v&&!i.tileCoordIntersectsViewport([R,S,z],m)||(o-R<=u?(++y,w=t.getTile(R,S,z,n,a),w.getState()==et.IDLE&&(d[w.getKey()]=!0,p.isKeyQueued(w.getKey())||p.enqueue([w,h,i.getTileCoordCenter(w.tileCoord),_])),f!==void 0&&f(w)):t.useTile(R,S,z,a));t.updateCacheSize(y,a)}}var fg=ug;class dg extends cg{constructor(e){super(e)}createRenderer(){return new fg(this)}}var Or=dg;class Mc{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?$t(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=$t(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Rt()}readFeature(e,t){return Rt()}readFeatures(e,t){return Rt()}readGeometry(e,t){return Rt()}readProjection(e){return Rt()}writeFeature(e,t){return Rt()}writeFeatures(e,t){return Rt()}writeGeometry(e,t){return Rt()}}function Pr(r,e,t){const i=t?$t(t.featureProjection):null,n=t?$t(t.dataProjection):null;let a;if(i&&n&&!$r(i,n)?a=(e?r.clone():r).transform(e?i:n,e?n:i):a=r,e&&t&&t.decimals!==void 0){const c=Math.pow(10,t.decimals),o=function(u){for(let f=0,h=u.length;f<h;++f)u[f]=Math.round(u[f]*c)/c;return u};a===r&&(a=r.clone()),a.applyTransform(o)}return a}class zn extends ka{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let n=this.getLayout();const a=e,c=[],o=[];for(let u=0,f=a.length;u<f;++u){const h=a[u];u===0&&(n=h.getLayout()),qr(c,h.getFlatCoordinates()),o.push(c.length)}this.setFlatCoordinates(n,c),this.ends_=o}}appendLineString(e){this.flatCoordinates?qr(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new zn(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<Kn(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Bf(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Df(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,n))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,Nf(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return jf(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Qn(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,n=[];let a=0;for(let c=0,o=t.length;c<o;++c){const u=t[c],f=new Qn(e.slice(a,u),i);n.push(f),a=u}return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const n=this.ends_,a=this.stride;for(let c=0,o=n.length;c<o;++c){const u=n[c],f=Uf(t,i,u,a,.5);qr(e,f),i=u}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Qf(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new zn(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return Gf(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=zf(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}var kc=zn;class Wa extends ka{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?qr(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Wa(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<Kn(this.getExtent(),e,t))return n;const a=this.flatCoordinates,c=this.stride;for(let o=0,u=a.length;o<u;o+=c){const f=Hf(e,t,a[o],a[o+1]);if(f<n){n=f;for(let h=0;h<c;++h)i[h]=a[o+h];i.length=c}}return n}getCoordinates(){return $f(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new fr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,n=[];for(let a=0,c=e.length;a<c;a+=i){const o=new fr(e.slice(a,a+i),t);n.push(o)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let n=0,a=t.length;n<a;n+=i){const c=t[n],o=t[n+1];if(Wf(e,c,o))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=qf(this.flatCoordinates,0,e,this.stride),this.changed()}}var Bc=Wa;function hg(r,e,t,i){const n=[];let a=Yn();for(let c=0,o=t.length;c<o;++c){const u=t[c];a=Xf(r,e,u[0],i),n.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=u[u.length-1]}return n}class Hn extends ka{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let n=this.getLayout();const a=e,c=[],o=[];for(let u=0,f=a.length;u<f;++u){const h=a[u];u===0&&(n=h.getLayout());const d=c.length,p=h.getEnds();for(let b=0,v=p.length;b<v;++b)p[b]+=d;qr(c,h.getFlatCoordinates()),o.push(p)}t=n,e=c,i=o}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;qr(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let n=0,a=t.length;n<a;++n)t[n]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const i=new Hn(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,n){return n<Kn(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yf(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Kf(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return Zf(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Vf(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),No(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Jf(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=hg(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ed(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Bc(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;td(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=No(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=rd(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new Hn(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const a=this.endss_[e-1];t=a[a.length-1]}const i=this.endss_[e].slice(),n=i[i.length-1];if(t!==0)for(let a=0,c=i.length;a<c;++a)i[a]-=t;return new fa(this.flatCoordinates.slice(t,n),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,n=[];let a=0;for(let c=0,o=i.length;c<o;++c){const u=i[c].slice(),f=u[u.length-1];if(a!==0)for(let d=0,p=u.length;d<p;++d)u[d]-=a;const h=new fa(t.slice(a,f),e,u);n.push(h),a=f}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return id(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=nd(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const n=i[i.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}}var pg=Hn;class $n extends sd{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(la),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(!!this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Dl(this.geometries_[e],Ra.CHANGE,this.changed,this))}clone(){const e=new $n(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<Kn(this.getExtent(),e,t))return n;const a=this.geometries_;for(let c=0,o=a.length;c<o;++c)n=a[c].closestPointXY(e,t,i,n);return n}containsXY(e,t){const i=this.geometries_;for(let n=0,a=i.length;n<a;++n)if(i[n].containsXY(e,t))return!0;return!1}computeExtent(e){ad(e);const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)kl(e,t[i].getExtent());return e}getGeometries(){return El(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let n=!1;for(let a=0,c=i.length;a<c;++a){const o=i[a],u=o.getSimplifiedGeometry(e);t.push(u),u!==o&&(n=!0)}if(n){const a=new $n(null);return a.setGeometriesArray(t),a}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let n=0,a=i.length;n<a;++n)i[n].rotate(e,t);this.changed()}scale(e,t,i){i||(i=Bl(this.getExtent()));const n=this.geometries_;for(let a=0,c=n.length;a<c;++a)n[a].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(El(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let n=0,a=i.length;n<a;++n)i[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function El(r){const e=[];for(let t=0,i=r.length;t<i;++t)e.push(r[t].clone());return e}var gg=$n;class mg extends Mc{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(On(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(On(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Rt()}readFeaturesFromObject(e,t){return Rt()}readGeometry(e,t){return this.readGeometryFromObject(On(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Rt()}readProjection(e){return this.readProjectionFromObject(On(e))}readProjectionFromObject(e){return Rt()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Rt()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Rt()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Rt()}}function On(r){if(typeof r=="string"){const e=JSON.parse(r);return e||null}else if(r!==null)return r;return null}var vg=mg;class yg extends vg{constructor(e){e=e||{},super(),this.dataProjection=$t(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=$t(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const n=Ca(i.geometry,t),a=new qt;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(n),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a}readFeaturesFromObject(e,t){const i=e;let n=null;if(i.type==="FeatureCollection"){const a=e;n=[];const c=a.features;for(let o=0,u=c.length;o<u;++o)n.push(this.readFeatureFromObject(c[o],t))}else n=[this.readFeatureFromObject(e,t)];return n}readGeometryFromObject(e,t){return Ca(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?t.type=="name"?i=$t(t.properties.name):t.type==="EPSG"?i=$t("EPSG:"+t.properties.code):gr(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(i.id=n),!e.hasProperties())return i;const a=e.getProperties(),c=e.getGeometry();return c&&(i.geometry=Sa(c,t),delete a[e.getGeometryName()]),od(a)||(i.properties=a),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let n=0,a=e.length;n<a;++n)i.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return Sa(e,this.adaptOptions(t))}}function Ca(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=wg(r);break}case"LineString":{t=_g(r);break}case"Polygon":{t=Cg(r);break}case"MultiPoint":{t=xg(r);break}case"MultiLineString":{t=bg(r);break}case"MultiPolygon":{t=Eg(r);break}case"GeometryCollection":{t=Ag(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return Pr(t,!1,e)}function Ag(r,e){const t=r.geometries.map(function(i){return Ca(i,e)});return new gg(t)}function wg(r){return new fr(r.coordinates)}function _g(r){return new Qn(r.coordinates)}function bg(r){return new kc(r.coordinates)}function xg(r){return new Bc(r.coordinates)}function Eg(r){return new pg(r.coordinates)}function Cg(r){return new fa(r.coordinates)}function Sa(r,e){r=Pr(r,!0,e);const t=r.getType();let i;switch(t){case"Point":{i=Pg(r);break}case"LineString":{i=Ig(r);break}case"Polygon":{i=Lg(r,e);break}case"MultiPoint":{i=Fg(r);break}case"MultiLineString":{i=Tg(r);break}case"MultiPolygon":{i=Og(r,e);break}case"GeometryCollection":{i=Sg(r,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function Sg(r,e){e=Object.assign({},e),delete e.featureProjection;const t=r.getGeometriesArray().map(function(i){return Sa(i,e)});return{type:"GeometryCollection",geometries:t}}function Ig(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function Tg(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function Fg(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function Og(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function Pg(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function Lg(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}var tr=yg;const ra="units",Rg=[1,2,5],Ui=25.4/.28;class Mg extends ld{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+cd,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(ra,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(ra)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(ra,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=e.center,i=e.projection,n=this.getUnits(),a=n=="degrees"?"degrees":"m";let c=Un(i,e.resolution,t,a);const o=this.minWidth_*(this.dpi_||Ui)/Ui,u=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Ui)/Ui:void 0;let f=o*c,h="";if(n=="degrees"){const _=Ul.degrees;f*=_,f<_/60?(h="\u2033",c*=3600):f<_?(h="\u2032",c*=60):h="\xB0"}else n=="imperial"?f<.9144?(h="in",c/=.0254):f<1609.344?(h="ft",c/=.3048):(h="mi",c/=1609.344):n=="nautical"?(c/=1852,h="NM"):n=="metric"?f<.001?(h="\u03BCm",c*=1e6):f<1?(h="mm",c*=1e3):f<1e3?h="m":(h="km",c/=1e3):n=="us"?f<.9144?(h="in",c*=39.37):f<1609.344?(h="ft",c/=.30480061):(h="mi",c/=1609.3472):gr(!1,33);let d=3*Math.floor(Math.log(o*c)/Math.log(10)),p,b,v,m,y,w;for(;;){v=Math.floor(d/3);const _=Math.pow(10,v);if(p=Rg[(d%3+3)%3]*_,b=Math.round(p/c),isNaN(b)){this.element.style.display="none",this.renderedVisible_=!1;return}if(u!==void 0&&b>=u){p=m,b=y,v=w;break}else if(b>=o)break;m=p,y=b,w=v,++d}const x=this.scaleBar_?this.createScaleBar(b,p,h):p.toFixed(v<0?-v:0)+" "+h;this.renderedHTML_!=x&&(this.innerElement_.innerHTML=x,this.renderedHTML_=x),this.renderedWidth_!=b&&(this.innerElement_.style.width=b+"px",this.renderedWidth_=b),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const n=this.getScaleForResolution(),a=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),c=this.scaleBarSteps_,o=e/c,u=[this.createMarker("absolute")];for(let h=0;h<c;++h){const d=h%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";u.push(`<div><div class="ol-scale-singlebar ${d}" style="width: ${o}px;"></div>`+this.createMarker("relative")+(h%2===0||c===2?this.createStepText(h,e,!1,t,i):"")+"</div>")}return u.push(this.createStepText(c,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+a+"</div>":"")+u.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,i,n,a){const o=(e===0?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+a),u=e===0?-3:t/this.scaleBarSteps_*-1,f=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${u}px;text-align: ${e===0?"left":"center"};min-width: ${f}px;left: ${i?t+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){const e=Un(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||Ui,i=1e3/25.4;return e*i*t}render(e){const t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}var as=Mg;const Cl="http://www.w3.org/2001/XMLSchema-instance";function qa(r,e){return qi().createElementNS(r,e)}function os(r,e){return Dc(r,e,[]).join("")}function Dc(r,e,t){if(r.nodeType==Node.CDATA_SECTION_NODE||r.nodeType==Node.TEXT_NODE)e?t.push(String(r.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(r.nodeValue);else{let i;for(i=r.firstChild;i;i=i.nextSibling)Dc(i,e,t)}return t}function Pn(r){return"documentElement"in r}function Ln(r){return new DOMParser().parseFromString(r,"application/xml")}function ia(r,e){return function(t,i){const n=r.call(e!==void 0?e:this,t,i);n!==void 0&&i[i.length-1].push(n)}}function Ye(r,e,t){return function(i,n){const a=r.call(t!==void 0?t:this,i,n);if(a!==void 0){const c=n[n.length-1],o=e!==void 0?e:i.localName;c[o]=a}}}function je(r,e){return function(t,i,n){r.call(e!==void 0?e:this,t,i,n),n[n.length-1].node.appendChild(t)}}function Nc(r,e){let t,i;return function(n,a,c){if(t===void 0){t={};const o={};o[n.localName]=r,t[n.namespaceURI]=o,i=Xa(n.localName)}jc(t,i,a,c)}}function Xa(r,e){return function(t,i,n){const c=i[i.length-1].node;let o=r;o===void 0&&(o=n);const u=e!==void 0?e:c.namespaceURI;return qa(u,o)}}const ls=Xa();function Ya(r,e){const t=e.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=r[e[n]];return i}function St(r,e,t){t=t!==void 0?t:{};let i,n;for(i=0,n=r.length;i<n;++i)t[r[i]]=e;return t}function Ka(r,e,t,i){let n;for(n=e.firstElementChild;n;n=n.nextElementSibling){const a=r[n.namespaceURI];if(a!==void 0){const c=a[n.localName];c!==void 0&&c.call(i,n,t)}}}function Ai(r,e,t,i,n){return i.push(r),Ka(e,t,i,n),i.pop()}function jc(r,e,t,i,n,a){const c=(n!==void 0?n:t).length;let o,u;for(let f=0;f<c;++f)o=t[f],o!==void 0&&(u=e.call(a!==void 0?a:this,o,i,n!==void 0?n[f]:void 0),u!==void 0&&r[u.namespaceURI][u.localName].call(a,u,o,i))}function wi(r,e,t,i,n,a,c){return n.push(r),jc(e,t,i,n,a,c),n.pop()}let na;function kg(){return na===void 0&&typeof XMLSerializer!="undefined"&&(na=new XMLSerializer),na}let sa;function qi(){return sa===void 0&&typeof document!="undefined"&&(sa=document.implementation.createDocument("","",null)),sa}class Bg extends Mc{constructor(){super(),this.xmlSerializer_=kg()}getType(){return"xml"}readFeature(e,t){if(e){if(typeof e=="string"){const i=Ln(e);return this.readFeatureFromDocument(i,t)}else if(Pn(e))return this.readFeatureFromDocument(e,t)}else return null;return this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const i=this.readFeaturesFromDocument(e,t);return i.length>0?i[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(e){if(typeof e=="string"){const i=Ln(e);return this.readFeaturesFromDocument(i,t)}else if(Pn(e))return this.readFeaturesFromDocument(e,t)}else return[];return this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const i=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&qr(i,this.readFeaturesFromNode(n,t));return i}readFeaturesFromNode(e,t){return Rt()}readGeometry(e,t){if(e){if(typeof e=="string"){const i=Ln(e);return this.readGeometryFromDocument(i,t)}else if(Pn(e))return this.readGeometryFromDocument(e,t)}else return null;return this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(e){if(typeof e=="string"){const t=Ln(e);return this.readProjectionFromDocument(t)}else if(Pn(e))return this.readProjectionFromDocument(e)}else return null;return this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const i=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const i=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const i=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeGeometryNode(e,t){return null}}var Dg=Bg;function Za(r){const e=os(r,!1),t=Date.parse(e);return isNaN(t)?void 0:t/1e3}function pr(r){const e=os(r,!1);return Ng(e)}function Ng(r){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(r);if(e)return parseFloat(e[1])}function Wn(r){const e=os(r,!1);return jg(e)}function jg(r){const e=/^\s*(\d+)\s*$/.exec(r);if(e)return parseInt(e[1],10)}function _t(r){return os(r,!1).trim()}function Ug(r,e){const t=new Date(e*1e3),i=t.getUTCFullYear()+"-"+ji(t.getUTCMonth()+1,2)+"-"+ji(t.getUTCDate(),2)+"T"+ji(t.getUTCHours(),2)+":"+ji(t.getUTCMinutes(),2)+":"+ji(t.getUTCSeconds(),2)+"Z";r.appendChild(qi().createTextNode(i))}function Hr(r,e){const t=e.toPrecision();r.appendChild(qi().createTextNode(t))}function qn(r,e){const t=e.toString();r.appendChild(qi().createTextNode(t))}function bt(r,e){r.appendChild(qi().createTextNode(e))}const wt=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Qg="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Gg={rte:Uc,trk:Qc,wpt:Gc},zg=St(wt,{rte:ia(Uc),trk:ia(Qc),wpt:ia(Gc)}),Hg=St(wt,{text:Ye(_t,"linkText"),type:Ye(_t,"linkType")}),$g=St(wt,{rte:je(gm),trk:je(mm),wpt:je(ym)});class Wg extends Dg{constructor(e){super(),e=e||{},this.dataProjection=$t("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let t=0,i=e.length;t<i;++t){const n=e[t];if(this.readExtensions_){const a=n.get("extensionsNode_")||null;this.readExtensions_(n,a)}n.set("extensionsNode_",void 0)}}readFeatureFromNode(e,t){if(!wt.includes(e.namespaceURI))return null;const i=Gg[e.localName];if(!i)return null;const n=i(e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_([n]),n):null}readFeaturesFromNode(e,t){if(!wt.includes(e.namespaceURI))return[];if(e.localName=="gpx"){const i=Ai([],zg,e,[this.getReadOptions(e,t)]);return i?(this.handleReadExtensions_(i),i):[]}return[]}writeFeaturesNode(e,t){t=this.adaptOptions(t);const i=qa("http://www.topografix.com/GPX/1/1","gpx"),n="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(n,"xmlns:xsi",Cl),i.setAttributeNS(Cl,"xsi:schemaLocation",Qg),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),wi({node:i},$g,fm,e,[t]),i}}const qg=St(wt,{name:Ye(_t),cmt:Ye(_t),desc:Ye(_t),src:Ye(_t),link:eo,number:Ye(Wn),extensions:to,type:Ye(_t),rtept:dm}),Xg=St(wt,{ele:Ye(pr),time:Ye(Za)}),Yg=St(wt,{name:Ye(_t),cmt:Ye(_t),desc:Ye(_t),src:Ye(_t),link:eo,number:Ye(Wn),type:Ye(_t),extensions:to,trkseg:pm}),Kg=St(wt,{trkpt:hm}),Zg=St(wt,{ele:Ye(pr),time:Ye(Za)}),Vg=St(wt,{ele:Ye(pr),time:Ye(Za),magvar:Ye(pr),geoidheight:Ye(pr),name:Ye(_t),cmt:Ye(_t),desc:Ye(_t),src:Ye(_t),link:eo,sym:Ye(_t),type:Ye(_t),fix:Ye(_t),sat:Ye(Wn),hdop:Ye(pr),vdop:Ye(pr),pdop:Ye(pr),ageofdgpsdata:Ye(pr),dgpsid:Ye(Wn),extensions:to}),Jg=["text","type"],em=St(wt,{text:je(bt),type:je(bt)}),tm=St(wt,["name","cmt","desc","src","link","number","type","rtept"]),rm=St(wt,{name:je(bt),cmt:je(bt),desc:je(bt),src:je(bt),link:je(ro),number:je(qn),type:je(bt),rtept:Nc(je(io))}),im=St(wt,["ele","time"]),nm=St(wt,["name","cmt","desc","src","link","number","type","trkseg"]),sm=St(wt,{name:je(bt),cmt:je(bt),desc:je(bt),src:je(bt),link:je(ro),number:je(qn),type:je(bt),trkseg:Nc(je(vm))}),am=Xa("trkpt"),om=St(wt,{trkpt:je(io)}),lm=St(wt,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),cm=St(wt,{ele:je(Hr),time:je(Ug),magvar:je(Hr),geoidheight:je(Hr),name:je(bt),cmt:je(bt),desc:je(bt),src:je(bt),link:je(ro),sym:je(bt),type:je(bt),fix:je(bt),sat:je(qn),hdop:je(Hr),vdop:je(Hr),pdop:je(Hr),ageofdgpsdata:je(Hr),dgpsid:je(qn)}),um={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function fm(r,e,t){const i=r.getGeometry();if(i){const n=um[i.getType()];if(n){const a=e[e.length-1].node;return qa(a.namespaceURI,n)}}}function Va(r,e,t,i){return r.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in i?(r.push(i.ele),delete i.ele,e.hasZ=!0):r.push(0),"time"in i?(r.push(i.time),delete i.time,e.hasM=!0):r.push(0),r}function Ja(r,e,t){let i="XY",n=2;if(r.hasZ&&r.hasM?(i="XYZM",n=4):r.hasZ?(i="XYZ",n=3):r.hasM&&(i="XYM",n=3),n!==4){for(let a=0,c=e.length/4;a<c;a++)e[a*n]=e[a*4],e[a*n+1]=e[a*4+1],r.hasZ&&(e[a*n+2]=e[a*4+2]),r.hasM&&(e[a*n+2]=e[a*4+3]);if(e.length=e.length/4*n,t)for(let a=0,c=t.length;a<c;a++)t[a]=t[a]/4*n}return i}function eo(r,e){const t=e[e.length-1],i=r.getAttribute("href");i!==null&&(t.link=i),Ka(Hg,r,e)}function to(r,e){const t=e[e.length-1];t.extensionsNode_=r}function dm(r,e){const t=Ai({},Xg,r,e);if(t){const i=e[e.length-1],n=i.flatCoordinates,a=i.layoutOptions;Va(n,a,r,t)}}function hm(r,e){const t=Ai({},Zg,r,e);if(t){const i=e[e.length-1],n=i.flatCoordinates,a=i.layoutOptions;Va(n,a,r,t)}}function pm(r,e){const t=e[e.length-1];Ka(Kg,r,e);const i=t.flatCoordinates;t.ends.push(i.length)}function Uc(r,e){const t=e[0],i=Ai({flatCoordinates:[],layoutOptions:{}},qg,r,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const a=i.layoutOptions;delete i.layoutOptions;const c=Ja(a,n),o=new Qn(n,c);Pr(o,!1,t);const u=new qt(o);return u.setProperties(i,!0),u}function Qc(r,e){const t=e[0],i=Ai({flatCoordinates:[],ends:[],layoutOptions:{}},Yg,r,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const a=i.ends;delete i.ends;const c=i.layoutOptions;delete i.layoutOptions;const o=Ja(c,n,a),u=new kc(n,o,a);Pr(u,!1,t);const f=new qt(u);return f.setProperties(i,!0),f}function Gc(r,e){const t=e[0],i=Ai({},Vg,r,e);if(!i)return;const n={},a=Va([],n,r,i),c=Ja(n,a),o=new fr(a,c);Pr(o,!1,t);const u=new qt(o);return u.setProperties(i,!0),u}function ro(r,e,t){r.setAttribute("href",e);const n=t[t.length-1].properties,a=[n.linkText,n.linkType];wi({node:r},em,ls,a,t,Jg)}function io(r,e,t){const i=t[t.length-1],a=i.node.namespaceURI,c=i.properties;switch(r.setAttributeNS(null,"lat",String(e[1])),r.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case"XYZM":e[3]!==0&&(c.time=e[3]);case"XYZ":e[2]!==0&&(c.ele=e[2]);break;case"XYM":e[2]!==0&&(c.time=e[2]);break}const u=r.nodeName=="rtept"?im[a]:lm[a],f=Ya(c,u);wi({node:r,properties:c},cm,ls,f,t,u)}function gm(r,e,t){const i=t[0],n=e.getProperties(),a={node:r};a.properties=n;const c=e.getGeometry();if(c.getType()=="LineString"){const h=Pr(c,!0,i);a.geometryLayout=h.getLayout(),n.rtept=h.getCoordinates()}const o=t[t.length-1].node,u=tm[o.namespaceURI],f=Ya(n,u);wi(a,rm,ls,f,t,u)}function mm(r,e,t){const i=t[0],n=e.getProperties(),a={node:r};a.properties=n;const c=e.getGeometry();if(c.getType()=="MultiLineString"){const h=Pr(c,!0,i);n.trkseg=h.getLineStrings()}const o=t[t.length-1].node,u=nm[o.namespaceURI],f=Ya(n,u);wi(a,sm,ls,f,t,u)}function vm(r,e,t){const i={node:r};i.geometryLayout=e.getLayout(),i.properties={},wi(i,om,am,e.getCoordinates(),t)}function ym(r,e,t){const i=t[0],n=t[t.length-1];n.properties=e.getProperties();const a=e.getGeometry();if(a.getType()=="Point"){const c=Pr(a,!0,i);n.geometryLayout=c.getLayout(),io(r,c.getCoordinates(),t)}}var Ia=Wg,zc=r=>{if(!window.rodnikMap.filters.spring&&r.get("type")=="Spring"||!window.rodnikMap.filters.water_well&&r.get("type")=="Water well"||!window.rodnikMap.filters.water_tap&&r.get("type")=="Water tap"||!window.rodnikMap.filters.drinking_water&&r.get("type")=="Drinking water source"||!window.rodnikMap.filters.fountain&&r.get("type")=="Fountain"||!window.rodnikMap.filters.other&&r.get("type")=="Water source"||window.rodnikMap.filters.confirmed&&!r.get("waterConfirmed")||window.rodnikMap.filters.along&&!window.rodnikMap.buffer.buffer)return!1;if(window.rodnikMap.filters.along&&window.rodnikMap.trackLayer.getSource().getFeatures().length&&window.rodnikMap.buffer.buffer){var e=r.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCoordinates(),t=ud(e);return fd(t,window.rodnikMap.buffer.buffer)}return!0};class Am{constructor(){this.clear()}clear(){this.track=jo([]),this.trackSimplified=jo([]),this.buffer=null}setTrack(e){this.clear(),this.track=new tr().writeFeaturesObject(window.rodnikMap.trackLayer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),this.makeSimplifiedTrack(),this.makeBuffer(),window.rodnikMap.debug&&(window.rodnikMap.trackSimplifiedLayer.getSource().setFromTurf(this.trackSimplified),window.rodnikMap.bufferLayer.getSource().setFromTurf(this.buffer))}makeSimplifiedTrack(){this.trackSimplified=Uo(this.track,{tolerance:.002,highQuality:!1,mutate:!0})}makeBuffer(){this.buffer=dd(this.trackSimplified,500,{units:"meters",steps:8}),this.buffer=Uo(this.buffer,{tolerance:5e-4,highQuality:!1,mutate:!0}),this.buffer=this.buffer.features.reduce((e,t)=>hd(e,t))}}class cs extends Or{constructor(){super({source:new og,zIndex:1})}}class wm extends Or{constructor(){super({source:new Fr({url:"https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png"}),zIndex:1})}}class Hc extends Or{constructor(){super({source:new Fr({url:"https://mapserver.mapy.cz/turist-m/retina/{z}-{x}-{y}",tilePixelRatio:2}),zIndex:1})}}class $c extends Or{constructor(){super({source:new Fr({url:"https://{a-c}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png"}),zIndex:1})}}class Wc extends Or{constructor(){super({source:new Fr({url:"https://mt0.google.com/vt/lyrs=p&hl=en&x={x}&y={y}&z={z}"}),zIndex:1})}}class qc extends Or{constructor(){super({source:new Fr({url:"https://mt{0-3}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"}),zIndex:1})}}let _m=12,bm=1,xm=new vt({image:new Dt({radius:_m,fill:new Mt({color:[51,169,255,.125]}),stroke:new Ut({color:"#33A9FF",width:bm,lineDash:[6]})})}),Em=new vt({}),Cm=new vt({image:new Dt({radius:12,fill:new Mt({color:[51,169,255,.1]}),stroke:new Ut({color:"#33A9FF",width:1})}),zIndex:5});window.color=[255,102,51,1];let Sm=new vt({image:new Dt({radius:12,fill:new Mt({color:[255,211,0,.25]}),stroke:new Ut({color:window.color,width:1})}),zIndex:10});var zi=(r,e)=>zc(r)?r.get("hasReports")>0?Sm:r.get("intermittent")=="yes"?xm:Cm:Em,Xc={exports:{}};(function(r,e){var t=function(){var i={},n=Math.PI/180,a=180/Math.PI,c=6378137,o=20037508342789244e-9;function u(h){return Number(h)===h&&h%1!==0}function f(h){if(h=h||{},this.size=h.size||256,this.expansion=h.antimeridian===!0?2:1,!i[this.size]){var d=this.size,p=i[this.size]={};p.Bc=[],p.Cc=[],p.zc=[],p.Ac=[];for(var b=0;b<30;b++)p.Bc.push(d/360),p.Cc.push(d/(2*Math.PI)),p.zc.push(d/2),p.Ac.push(d),d*=2}this.Bc=i[this.size].Bc,this.Cc=i[this.size].Cc,this.zc=i[this.size].zc,this.Ac=i[this.size].Ac}return f.prototype.px=function(h,d){if(u(d)){var p=this.size*Math.pow(2,d),b=p/2,v=p/360,m=p/(2*Math.PI),y=p,w=Math.min(Math.max(Math.sin(n*h[1]),-.9999),.9999),x=b+h[0]*v,_=b+.5*Math.log((1+w)/(1-w))*-m;return x>y*this.expansion&&(x=y*this.expansion),_>y&&(_=y),[x,_]}else{var b=this.zc[d],w=Math.min(Math.max(Math.sin(n*h[1]),-.9999),.9999),x=Math.round(b+h[0]*this.Bc[d]),_=Math.round(b+.5*Math.log((1+w)/(1-w))*-this.Cc[d]);return x>this.Ac[d]*this.expansion&&(x=this.Ac[d]*this.expansion),_>this.Ac[d]&&(_=this.Ac[d]),[x,_]}},f.prototype.ll=function(h,d){if(u(d)){var p=this.size*Math.pow(2,d),b=p/360,v=p/(2*Math.PI),m=p/2,y=(h[1]-m)/-v,w=(h[0]-m)/b,x=a*(2*Math.atan(Math.exp(y))-.5*Math.PI);return[w,x]}else{var y=(h[1]-this.zc[d])/-this.Cc[d],w=(h[0]-this.zc[d])/this.Bc[d],x=a*(2*Math.atan(Math.exp(y))-.5*Math.PI);return[w,x]}},f.prototype.bbox=function(h,d,p,b,v){b&&(d=Math.pow(2,p)-1-d);var m=[h*this.size,(+d+1)*this.size],y=[(+h+1)*this.size,d*this.size],w=this.ll(m,p).concat(this.ll(y,p));return v==="900913"?this.convert(w,"900913"):w},f.prototype.xyz=function(h,d,p,b){b==="900913"&&(h=this.convert(h,"WGS84"));var v=[h[0],h[1]],m=[h[2],h[3]],y=this.px(v,d),w=this.px(m,d),x=[Math.floor(y[0]/this.size),Math.floor((w[0]-1)/this.size)],_=[Math.floor(w[1]/this.size),Math.floor((y[1]-1)/this.size)],S={minX:Math.min.apply(Math,x)<0?0:Math.min.apply(Math,x),minY:Math.min.apply(Math,_)<0?0:Math.min.apply(Math,_),maxX:Math.max.apply(Math,x),maxY:Math.max.apply(Math,_)};if(p){var z={minY:Math.pow(2,d)-1-S.maxY,maxY:Math.pow(2,d)-1-S.minY};S.minY=z.minY,S.maxY=z.maxY}return S},f.prototype.convert=function(h,d){return d==="900913"?this.forward(h.slice(0,2)).concat(this.forward(h.slice(2,4))):this.inverse(h.slice(0,2)).concat(this.inverse(h.slice(2,4)))},f.prototype.forward=function(h){var d=[c*h[0]*n,c*Math.log(Math.tan(Math.PI*.25+.5*h[1]*n))];return d[0]>o&&(d[0]=o),d[0]<-o&&(d[0]=-o),d[1]>o&&(d[1]=o),d[1]<-o&&(d[1]=-o),d},f.prototype.inverse=function(h){return[h[0]*a/c,(Math.PI*.5-2*Math.atan(Math.exp(-h[1]/c)))*a]},f}();r.exports=t})(Xc);var _i=Xc.exports;let Im=new _i({antimeridian:!1}),Sl=8;class Il extends zt{constructor(){super({format:new tr,strategy:Ba(ss({maxZoom:8,minZoom:8})),url:(e,t,i)=>{let n=yr([e[0],e[1]]),a=yr([e[2],e[3]]),c=Im.xyz([n[0],n[1],a[0],a[1]],Sl);return"/tiles/"+Sl+"/"+c.minX+"/"+c.minY+".json"}}),this.on("featuresloadend",e=>{window.rodnikMap.featuresLoadEnd()})}}new _i({antimeridian:!1});class Tl extends Xt{constructor(){super({minZoom:9,style:zi,zIndex:500,opacity:.8})}updateStyle(){this.setStyle(zi)}}let Tm=new vt({image:new Dt({radius:30,fill:new Mt({color:[51,169,255,.33]})})}),Fm=new vt({image:new Dt({radius:20,fill:new Mt({color:[255,180,0,.5]})})});var Yc=(r,e)=>r.get("hasReports")>0?Fm:Tm,Om=new _i({antimeridian:!1}),Rn=5;class Pm extends Xt{constructor(){super({minZoom:6,maxZoom:9,source:new zt({format:new tr,strategy:Ba(ss({maxZoom:Rn,minZoom:Rn})),url:(e,t,i)=>{let n=yr([e[0],e[1]]),a=yr([e[2],e[3]]),c=Om.xyz([n[0],n[1],a[0],a[1]],Rn);return"/tiles/"+Rn+"/"+c.minX+"/"+c.minY+".json"}}),style:Yc,zIndex:300,opacity:.6})}}let Lm=new vt({image:new Dt({radius:40,fill:new Mt({color:[51,169,255,.33]})})}),Rm=new vt({image:new Dt({radius:30,fill:new Mt({color:[255,180,0,.5]})})});var Kc=(r,e)=>r.get("hasReports")>0?Rm:Lm;new _i({antimeridian:!1});class Mm extends Xt{constructor(){super({minZoom:0,maxZoom:6,source:new zt({format:new tr,url:"/tiles/0/0/0.json"}),style:Kc,zIndex:100,opacity:.6})}}var km=new _i({antimeridian:!1}),Mn=5;class Bm extends Xt{constructor(){super({minZoom:6,maxZoom:9,source:new zt({format:new tr,strategy:Ba(ss({maxZoom:Mn,minZoom:Mn})),url:(e,t,i)=>{let n=yr([e[0],e[1]]),a=yr([e[2],e[3]]),c=km.xyz([n[0],n[1],a[0],a[1]],Mn);return"/watered-tiles/"+Mn+"/"+c.minX+"/"+c.minY+".json"}}),style:Yc,zIndex:400,opacity:.6})}}new _i({antimeridian:!1});class Dm extends Xt{constructor(){super({minZoom:0,maxZoom:6,source:new zt({format:new tr,url:"/watered-tiles/0/0/0.json"}),style:Kc,zIndex:200,opacity:.6})}}var Nm=new vt({stroke:new Ut({color:"#ff0000",width:2}),image:new Dt({radius:3,fill:new Mt({color:"#ff0000"})})});class jm extends zt{constructor(){super({format:new Ia})}setFromGPXString(e){this.clear();const t=this.createFeatures(e);t.length?(this.addFeatures(t),window.rodnikMap.buffer.setTrack(t)):alert("Please upload a GPX file")}createFeatures(e){return new Ia().readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}}class Um extends Xt{constructor(){super({style:Nm,source:new jm,zIndex:400})}}var Qm=new vt({fill:new Mt({color:"rgba(0, 0, 255, 0.5)"})});class Gm extends zt{constructor(){super({format:new tr})}setFromTurf(e){this.clear();const t=this.createFeatures(e);t.length&&this.addFeatures(t)}createFeatures(e){return new tr().readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}}class zm extends Xt{constructor(){super({style:Qm,source:new Gm,zIndex:300})}}var Hm=new vt({stroke:new Ut({color:"#0000ff",width:2})});class $m extends zt{constructor(){super({format:new tr})}setFromTurf(e){this.clear();const t=this.createFeatures(e);t.length&&this.addFeatures(t)}createFeatures(e){return new tr().readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}}class Wm extends Xt{constructor(){super({style:Hm,source:new $m,zIndex:300})}}class qm extends Or{constructor(){super({source:new Fr({maxZoom:12,url:"https://heatmap-external-{a-c}.strava.com/tiles/all/hot/{z}/{x}/{y}.png?px=256"}),zIndex:10})}}class Xm extends Or{constructor(){super({source:new Fr({url:"https://gps-{a-c}.tile.openstreetmap.org/lines/{z}/{x}/{y}.png"}),zIndex:10})}}let Zc=12,Ym=1;new vt({image:new Dt({radius:Zc,fill:new Mt({color:[67,191,225,.125]}),stroke:new Ut({color:"#67BFFF",width:Ym,lineDash:[6]})})});let Km=new vt({image:new Dt({radius:Zc,fill:new Mt({color:[255,255,255,0]}),stroke:new Ut({color:"#cc0000",width:2})})});function Vc(){let r=parseFloat(localStorage.getItem("centerLatitude")),e=parseFloat(localStorage.getItem("centerLongitude"));return isNaN(e)||isNaN(r)?Wt([19.748,49.213]):[e,r]}function Jc(){let r=parseFloat(localStorage.getItem("zoom"));return isNaN(r)?3:r}function no(){let r=localStorage.getItem("source");return r||"osm"}function Ta(r){localStorage.setItem("centerLongitude",r[0]),localStorage.setItem("centerLatitude",r[1])}function Fa(r){localStorage.setItem("zoom",r)}function eu(r){localStorage.setItem("source",r)}class tu extends Xt{constructor(e,t){super({source:new zt({features:[e,t]}),zIndex:1e3})}}class Zm extends zt{constructor(){super({format:new tr}),this.userId=null,this.on("featuresloadend",e=>{window.rodnikMap.featuresLoadEnd(),window.rodnikMap.locateWorld()})}getUser(){return this.userId}setUser(e){this.userId=e;const t="/users/"+parseInt(e)+"/springs.json";this.getUrl()!==t&&(this.setUrl(t),this.refresh())}}class Vm{constructor(e){this.debug=!1,this.finalZoom=9,this.approximatedZoom=6,this.elementId=e,this.filters=Alpine.reactive({all:!0,spring:!0,water_well:!0,water_tap:!0,drinking_water:!0,fountain:!0,other:!0,confirmed:!1,along:!1}),this.overlays={stravaPublic:!1,osmTraces:!1},this.currentOverlays={...this.overlays},this.osmLayer=new cs,this.mapyLayer=new Hc,this.outdoorsLayer=new $c,this.openTopoMapLayer=new wm,this.googleTerrainLayer=new Wc,this.googleSatelliteLayer=new qc,this.stravaPublicLayer=new qm,this.osmTracesLayer=new Xm,this.currentLayer=this.osmLayer,this.springsFinalLayer=new Tl,this.springsApproximatedLayer=new Pm,this.springsDistantLayer=new Mm,this.wateredSpringsApproximatedLayer=new Bm,this.wateredSpringsDistantLayer=new Dm,this.springsFinalSource=new Il,this.springsUserSource=new Zm,this.trackLayer=new Um,this.bufferLayer=new zm,this.trackSimplifiedLayer=new Wm,this.featureToBeSelected=null,this.selectedFeature=null,this.featureIdToBeSelected=null,this.buffer=new Am,this.view=new Zn({center:Vc(),zoom:Jc(),enableRotation:!1}),this.geolocation=new zl({trackingOptions:{enableHighAccuracy:!0},projection:this.view.getProjection()}),this.scaleControl=new as({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new Vn({controls:Jn().extend([this.scaleControl]),target:this.elementId,layers:[this.wateredSpringsDistantLayer,this.wateredSpringsApproximatedLayer,this.springsDistantLayer,this.springsApproximatedLayer,this.springsFinalLayer,this.trackLayer,this.bufferLayer,this.trackSimplifiedLayer],view:this.view,moveTolerance:5}),this.source(no()),this.map.on("moveend",t=>{Ta(this.map.getView().getCenter()),Fa(this.map.getView().getZoom())}),this.map.on("click",t=>{let i=this.map.getFeaturesAtPixel(t.pixel,{hitTolerance:2,layerFilter:function(n){return n instanceof Tl}});i.length>0?this.selectFeature(i[0]):this.deselectFeature()})}featuresLoadEnd(){let e=this.featureIdToBeSelected;e&&(this.featureIdToBeSelected=null,this.highlightFeatureById(e))}locateMe(){this.geolocation.getPosition()?this.view.animate({center:this.geolocation.getPosition(),zoom:18,duration:250}):navigator.geolocation.getCurrentPosition(e=>{this.view.animate({center:Wt([e.coords.longitude,e.coords.latitude]),zoom:18,duration:250}),this.watchMe()},e=>{console.log(e)})}watchMe(){this.geolocation.setTracking(!0);const e=new qt;this.geolocation.on("change:accuracyGeometry",()=>{e.setGeometry(this.geolocation.getAccuracyGeometry())}),this.geolocation.on("error",function(i){console.log(i)});const t=new qt;t.setStyle(new vt({image:new Dt({radius:6,fill:new Mt({color:"#000000"}),stroke:new Ut({color:"#fff",width:2})})})),e.setStyle(new vt({fill:new Mt({color:[255,255,255,.5]}),stroke:new Ut({color:"#00000",width:2})})),this.geolocation.on("change:position",()=>{const i=this.geolocation.getPosition();t.setGeometry(i?new fr(i):null)}),this.geolocationLayer=new tu(e,t),this.map.addLayer(this.geolocationLayer)}download(){if(this.view.getZoom()<9&&this.springsFinalLayer.getSource()instanceof Il)return alert("Please zoom in to export GPX"),!1;const e=this.map.getView().calculateExtent(this.map.getSize()),t=this.springsFinalLayer.getSource().getFeaturesInExtent(e);t.map(h=>(h.getProperties().name||h.setProperties({name:h.getProperties().type}),h));const i=t.filter(h=>zc(h)),a=new Ia().writeFeatures(i,{dataProjection:"EPSG:4326",featureProjection:this.map.getView().getProjection()}),c=new Blob([`<?xml version="1.0" encoding="utf-8"?>
${a}`],{type:"application/gpx+xml;charset=utf-8;"}),o=URL.createObjectURL(c),u=new Date().toISOString().slice(0,19).replace("T","--").replaceAll(":","-"),f=document.createElement("a");f.href=o,f.download=`rodnik-${u}.gpx`,document.body.appendChild(f),f.click(),document.body.removeChild(f)}upload(e){if(e){const t=new FileReader;t.readAsText(e),t.onload=i=>{const n=i.target.result;this.trackLayer.getSource().setFromGPXString(n),this.trackLayer.getSource().getFeatures().length&&(this.view.fit(this.trackLayer.getSource().getExtent()),this.view.setZoom(this.view.getZoom()-.5),window.rodnikMap.filters.along=!0)}}}source(e){switch(e){case"osm":this.map.removeLayer(this.currentLayer),this.currentLayer=this.osmLayer,this.map.addLayer(this.currentLayer);break;case"mapy":this.map.removeLayer(this.currentLayer),this.currentLayer=this.mapyLayer,this.map.addLayer(this.currentLayer);break;case"outdoors":this.map.removeLayer(this.currentLayer),this.currentLayer=this.outdoorsLayer,this.map.addLayer(this.currentLayer);break;case"openTopoMap":this.map.removeLayer(this.currentLayer),this.currentLayer=this.openTopoMapLayer,this.map.addLayer(this.currentLayer);break;case"terrain":this.map.removeLayer(this.currentLayer),this.currentLayer=this.googleTerrainLayer,this.map.addLayer(this.currentLayer);break;case"satellite":this.map.removeLayer(this.currentLayer),this.currentLayer=this.googleSatelliteLayer,this.map.addLayer(this.currentLayer);break}eu(e)}updateOverlays(){this.overlays.stravaPublic?this.currentOverlays.stravaPublic||(this.map.addLayer(this.stravaPublicLayer),this.currentOverlays.stravaPublic=!0):this.currentOverlays.stravaPublic&&(this.map.removeLayer(this.stravaPublicLayer),this.currentOverlays.stravaPublic=!1),this.overlays.osmTraces?this.currentOverlays.osmTraces||(this.map.addLayer(this.osmTracesLayer),this.currentOverlays.osmTraces=!0):this.currentOverlays.osmTraces&&(this.map.removeLayer(this.osmTracesLayer),this.currentOverlays.osmTraces=!1)}highlightFeatureById(e){let t=window.rodnikMap.springsFinalLayer.getSource().getFeatureById(e);t?(this.locateFeature(t),this.highlightFeature(t)):this.featureIdToBeSelected=e}locateFeature(e){this.view.animate({center:e.getGeometry().flatCoordinates,duration:250})}locate(e){this.view.animate({center:Wt(e),zoom:14,duration:250})}locateWorld(){this.view.fit(this.springsFinalLayer.getSource().getExtent()),this.view.setZoom(Math.floor(this.view.getZoom()-1))}highlightFeature(e){if(this.previouslyHighlightedFeature){if(e.get("id")==this.previouslyHighlightedFeature.get("id"))return!1;this.previouslyHighlightedFeature.setStyle(zi)}this.dehighlightPreviousFeature(),this.previouslyHighlightedFeature=e,e.setStyle(Km),this.fullscreen&&(this.setFullscreen(!1),this.locateFeature(e))}selectFeature(e){this.highlightFeature(e);let t=e.get("id");const i=new CustomEvent("spring-selected-on-map",{detail:{id:t,feature:e}});window.dispatchEvent(i)}dehighlightFeature(){this.previouslyHighlightedFeature&&(this.previouslyHighlightedFeature.setStyle(zi),this.previouslyHighlightedFeature=null)}deselectFeature(){if(this.previouslyHighlightedFeature){this.dehighlightFeature();const e=new CustomEvent("spring-deselected-on-map");window.dispatchEvent(e)}}dehighlightPreviousFeature(){this.previouslyHighlightedFeature&&this.previouslyHighlightedFeature.setStyle(zi),this.previouslyHighlightedFeature=null}springsSource(e){e?(this.mode="user",this.springsFinalLayer.setMinZoom(0),this.springsApproximatedLayer.setVisible(!1),this.springsDistantLayer.setVisible(!1),this.wateredSpringsApproximatedLayer.setVisible(!1),this.wateredSpringsDistantLayer.setVisible(!1),this.springsUserSource.getUser()==e?(this.springsFinalLayer.setSource(this.springsUserSource),this.locateWorld()):(this.springsUserSource.setUser(e),this.springsFinalLayer.setSource(this.springsUserSource))):(this.mode="global",this.springsFinalLayer.setMinZoom(9),this.springsApproximatedLayer.setVisible(!0),this.springsDistantLayer.setVisible(!0),this.wateredSpringsApproximatedLayer.setVisible(!0),this.wateredSpringsDistantLayer.setVisible(!0),this.springsFinalLayer.setSource(this.springsFinalSource))}setFullscreen(e){this.fullscreen=e}}class Jm{constructor(e,t){this.osmLayer=new cs,this.springLayer=new Xt({source:new zt({features:[new qt({geometry:new fr(Wt(t))})]}),style:new vt({image:new Dt({radius:12,fill:new Mt({color:[0,0,0,.1]}),stroke:new Ut({color:[0,0,0,1],width:.5})})}),zIndex:500}),this.view=new Zn({center:Wt(t),zoom:18,enableRotation:!1}),this.scaleControl=new as({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new Vn({controls:Jn().extend([this.scaleControl]),target:e,layers:[this.osmLayer,this.springLayer],view:this.view})}}class ev{constructor(e,t){this.osmLayer=new cs,this.mapyLayer=new Hc,this.outdoorsLayer=new $c,this.googleTerrainLayer=new Wc,this.googleSatelliteLayer=new qc;let i=!!t.length,n=i?Wt(t):Vc();i&&(this.springLayer=new Xt({source:new zt({features:[new qt({geometry:new fr(Wt(t))})]}),style:new vt({image:new Dt({radius:12,fill:new Mt({color:[0,0,0,0]}),stroke:new Ut({color:[0,0,0,.33],width:2})})}),zIndex:500})),this.view=new Zn({center:n,zoom:Jc(),enableRotation:!1}),this.geolocation=new zl({trackingOptions:{enableHighAccuracy:!0},projection:this.view.getProjection()}),this.scaleControl=new as({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new Vn({controls:Jn().extend([this.scaleControl]),target:e,view:this.view}),this.source(no()),i&&this.map.addLayer(this.springLayer),this.map.on("moveend",a=>{let c=yr(this.view.getCenter());c[0]=c[0].toFixed(6),c[1]=c[1].toFixed(6),c=c.reverse().join(", "),this.mapMoved(c),Ta(this.map.getView().getCenter()),Fa(this.map.getView().getZoom())}),this.map.on("pointerdrag",a=>{let c=yr(this.view.getCenter());c[0]=c[0].toFixed(6),c[1]=c[1].toFixed(6),c=c.reverse().join(", "),this.mapMoved(c)}),this.map.on("click",a=>{let c=this.map.getEventPixel(a.originalEvent),o=yr(this.map.getCoordinateFromPixel(c));this.updateCoordinates(o)})}updateCoordinates(e){let t=this.view.getZoom();Ta(e),Fa(t),this.view.animate({center:Wt(e),zoom:t,duration:100})}source(e){switch(e){case"osm":this.map.removeLayer(this.currentLayer),this.currentLayer=this.osmLayer,this.map.addLayer(this.currentLayer);break;case"mapy":this.map.removeLayer(this.currentLayer),this.currentLayer=this.mapyLayer,this.map.addLayer(this.currentLayer);break;case"outdoors":this.map.removeLayer(this.currentLayer),this.currentLayer=this.outdoorsLayer,this.map.addLayer(this.currentLayer);break;case"terrain":this.map.removeLayer(this.currentLayer),this.currentLayer=this.googleTerrainLayer,this.map.addLayer(this.currentLayer);break;case"satellite":this.map.removeLayer(this.currentLayer),this.currentLayer=this.googleSatelliteLayer,this.map.addLayer(this.currentLayer);break}eu(e)}mapMoved(e){const t=new CustomEvent("map-moved",{detail:{coordinates:e}});window.dispatchEvent(t)}locateMe(){this.geolocation.getPosition()?this.view.animate({center:this.geolocation.getPosition(),zoom:18,duration:250}):navigator.geolocation.getCurrentPosition(e=>{this.view.animate({center:Wt([e.coords.longitude,e.coords.latitude]),zoom:18,duration:250}),this.watchMe()},e=>{console.log(e)})}watchMe(){this.geolocation.setTracking(!0);const e=new qt;this.geolocation.on("change:accuracyGeometry",()=>{e.setGeometry(this.geolocation.getAccuracyGeometry())}),this.geolocation.on("error",function(i){console.log(i)});const t=new qt;t.setStyle(new vt({image:new Dt({radius:6,fill:new Mt({color:"#000000"}),stroke:new Ut({color:"#fff",width:2})})})),e.setStyle(new vt({fill:new Mt({color:[255,255,255,.5]}),stroke:new Ut({color:"#00000",width:2})})),this.geolocation.on("change:position",()=>{const i=this.geolocation.getPosition();t.setGeometry(i?new fr(i):null)}),this.geolocationLayer=new tu(e,t),this.map.addLayer(this.geolocationLayer)}}class tv{constructor(e,t,i){this.osmLayer=new cs,this.springLayer=new Xt({source:new zt({features:[new qt({geometry:new fr(Wt(t)),type:"old"}),new qt({geometry:new fr(Wt(i)),type:"new"})]}),style:n=>{if(n.get("type")=="old")return new vt({image:new Dt({radius:12,stroke:new Ut({color:[0,0,0,.33],width:2})})});if(n.get("type")=="new")return new vt({image:new Dt({radius:12,stroke:new Ut({color:[0,0,0,1],width:2})})})},zIndex:500}),this.view=new Zn({center:Wt(i),zoom:18,enableRotation:!1}),this.view.fit(this.springLayer.getSource().getExtent()),this.scaleControl=new as({units:"metric",bar:!1,steps:4,text:!0,minWidth:100}),this.map=new Vn({controls:Jn().extend([this.scaleControl]),target:e,layers:[this.osmLayer,this.springLayer],view:this.view})}}/*!
  * PhotoSwipe Lightbox 5.3.2 - https://photoswipe.com
  * (c) 2022 Dmytro Semenov
  */function Qi(r,e,t){const i=document.createElement(e||"div");return r&&(i.className=r),t&&t.appendChild(i),i}function rv(r,e,t){let i="translate3d("+r+"px,"+(e||0)+"px,0)";return t!==void 0&&(i+=" scale3d("+t+","+t+",1)"),i}function Oa(r,e,t){r.style.width=typeof e=="number"?e+"px":e,r.style.height=typeof t=="number"?t+"px":t}const Ht={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function iv(r){if(r.which===2||r.ctrlKey||r.metaKey||r.altKey||r.shiftKey)return!0}function Nn(r,e,t=document){let i=[];if(r instanceof Element)i=[r];else if(r instanceof NodeList||Array.isArray(r))i=Array.from(r);else{const n=typeof r=="string"?r:e;n&&(i=Array.from(t.querySelectorAll(n)))}return i}function nv(r){return typeof r=="function"&&r.prototype&&r.prototype.goTo}function Fl(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class sv{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class av{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,i=100){this._filters[e]||(this._filters[e]=[]),this._filters[e].push({fn:t,priority:i}),this._filters[e].sort((n,a)=>n.priority-a.priority),this.pswp&&this.pswp.addFilter(e,t,i)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(i=>i.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){return this._filters[e]&&this._filters[e].forEach(i=>{t[0]=i.fn.apply(this,t)}),t[0]}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(i=>t!==i)),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const i=new sv(e,t);return this._listeners&&this._listeners[e]&&this._listeners[e].forEach(n=>{n.call(this,i)}),i}}class ov{constructor(e,t){this.element=Qi("pswp__img pswp__img--placeholder",e?"img":"",t),e&&(this.element.decoding="async",this.element.alt="",this.element.src=e,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hiden","true")}setDisplayedSize(e,t){!this.element||(this.element.tagName==="IMG"?(Oa(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=rv(0,0,e/250)):Oa(this.element,e,t))}destroy(){this.element.parentNode&&this.element.remove(),this.element=null}}class lv{constructor(e,t,i){this.instance=t,this.data=e,this.index=i,this.element=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state=Ht.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=null)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const i=this.placeholder.element;i&&!i.parentElement&&this.slide.container.prepend(i)}else{const i=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new ov(i,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=Qi("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=Qi("pswp__content"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){const t=this.element;this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented||(this.updateSrcsetSizes(),this.data.srcset&&(t.srcset=this.data.srcset),t.src=this.data.src,t.alt=this.data.alt||"",this.state=Ht.LOADING,t.complete?this.onLoaded():(t.onload=()=>{this.onLoaded()},t.onerror=()=>{this.onError()}))}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Ht.LOADED,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Ht.LOADED||this.state===Ht.ERROR)&&this.removePlaceholder())}onError(){this.state=Ht.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Ht.LOADING,this)}isError(){return this.state===Ht.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(!!this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(Oa(this.element,e,t),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Ht.ERROR,this)}updateSrcsetSizes(){if(this.data.srcset){const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=null,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=null),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}displayError(){if(this.slide){let e=Qi("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=Qi("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached)return;if(this.isAttached=!0,this.state===Ht.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||Fl())?(this.isDecoding=!0,this.element.decode().finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding&&!Fl()?this.appendImage():this.isError()&&this.load(!1,!0))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this})}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){!this.isAttached||this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Ht.LOADED||this.state===Ht.ERROR)&&this.removePlaceholder())}}function cv(r,e){if(r.getViewportSizeFn){const t=r.getViewportSizeFn(r,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function kn(r,e,t,i,n){let a;if(e.paddingFn)a=e.paddingFn(t,i,n)[r];else if(e.padding)a=e.padding[r];else{const c="padding"+r[0].toUpperCase()+r.slice(1);e[c]&&(a=e[c])}return a||0}function uv(r,e,t,i){return{x:e.x-kn("left",r,e,t,i)-kn("right",r,e,t,i),y:e.y-kn("top",r,e,t,i)-kn("bottom",r,e,t,i)}}const Ol=4e3;class fv{constructor(e,t,i,n){this.pswp=n,this.options=e,this.itemData=t,this.index=i}update(e,t,i){this.elementSize={x:e,y:t},this.panAreaSize=i;const n=this.panAreaSize.x/this.elementSize.x,a=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,n<a?n:a),this.fill=Math.min(1,n>a?n:a),this.vFill=Math.min(1,a),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",i=this.options[t];if(!!i)return typeof i=="function"?i(this):i==="fill"?this.fill:i==="fit"?this.fit:Number(i)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),e*this.elementSize.x>Ol&&(e=Ol/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){const e=this._parseZoomLevelOption("max");return e||Math.max(1,this.fit*4)}}function ru(r,e,t){const i=e.createContentFromData(r,t);if(!i||!i.lazyLoad)return;const{options:n}=e,a=e.viewportSize||cv(n,e),c=uv(n,a,r,t),o=new fv(n,r,-1);return o.update(i.width,i.height,c),i.lazyLoad(),i.setDisplayedSize(Math.ceil(i.width*o.initial),Math.ceil(i.height*o.initial)),i}function dv(r,e){const t=e.getItemData(r);if(!e.dispatch("lazyLoadSlide",{index:r,itemData:t}).defaultPrevented)return ru(t,e,r)}class hv extends av{getNumItems(){let e;const{dataSource:t}=this.options;t?"length"in t?e=t.length:"gallery"in t&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0;const i=this.dispatch("numItems",{dataSource:t,numItems:e});return this.applyFilters("numItems",i.numItems,t)}createContentFromData(e,t){return new lv(e,this,t)}getItemData(e){const{dataSource:t}=this.options;let i;Array.isArray(t)?i=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),i=t.items[e]);let n=i;n instanceof Element&&(n=this._domElementToItemData(n));const a=this.dispatch("itemData",{itemData:n||{},index:e});return this.applyFilters("itemData",a.itemData,e)}_getGalleryDOMElements(e){return this.options.children||this.options.childSelector?Nn(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},i=e.tagName==="A"?e:e.querySelector("a");if(i){t.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(t.srcset=i.dataset.pswpSrcset),t.width=parseInt(i.dataset.pswpWidth,10),t.height=parseInt(i.dataset.pswpHeight,10),t.w=t.width,t.h=t.height,i.dataset.pswpType&&(t.type=i.dataset.pswpType);const n=e.querySelector("img");n&&(t.msrc=n.currentSrc||n.src,t.alt=n.getAttribute("alt")),(i.dataset.pswpCropped||i.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,i)}lazyLoadData(e,t){return ru(e,this,t)}}class pv extends hv{constructor(e){super(),this.options=e||{},this._uid=0}init(){this.onThumbnailsClick=this.onThumbnailsClick.bind(this),Nn(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(iv(e)||window.pswp||window.navigator.onLine===!1)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let i=this.getClickedIndex(e);i=this.applyFilters("clickedIndex",i,e,this);const n={gallery:e.currentTarget};i>=0&&(e.preventDefault(),this.loadAndOpen(i,n,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,n=Nn(this.options.children,this.options.childSelector,e.currentTarget).findIndex(a=>a===t||a.contains(t));return n!==-1?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,i){return window.pswp?!1:(this.options.index=e,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(e,t),!0)}preload(e,t){const{options:i}=this;t&&(i.dataSource=t);const n=[],a=typeof i.pswpModule;if(nv(i.pswpModule))n.push(Promise.resolve(i.pswpModule));else{if(a==="string")throw new Error("pswpModule as string is no longer supported");if(a==="function")n.push(i.pswpModule());else throw new Error("pswpModule is not valid")}typeof i.openPromise=="function"&&n.push(i.openPromise()),i.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=dv(e,this));const c=++this._uid;Promise.all(n).then(o=>{if(this.shouldOpen){const u=o[0];this._openPhotoswipe(u,c)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const i=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=i,window.pswp=i,Object.keys(this._listeners).forEach(n=>{this._listeners[n].forEach(a=>{i.on(n,a)})}),Object.keys(this._filters).forEach(n=>{this._filters[n].forEach(a=>{i.addFilter(n,a.fn,a.priority)})}),this._preloadedContent&&(i.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=null),i.on("destroy",()=>{this.pswp=null,window.pswp=null}),i.init()}destroy(){this.pswp&&this.pswp.destroy(),this.shouldOpen=!1,this._listeners=null,Nn(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.removeEventListener("click",this.onThumbnailsClick,!1)})}}var iu;iu=class{isValid(e){var t;t=!0;try{return this.validate(e),t}catch{return t=!1,t}}validate(e){return this.checkContainsNoLetters(e),this.checkValidOrientation(e),this.checkNumbers(e)}checkContainsNoLetters(e){var t;if(t=/(?![neswd])[a-z]/i.test(e),t)throw new Error("Coordinate contains invalid alphanumeric characters.")}checkValidOrientation(e){var t;if(t=/^[^nsew]*[ns]?[^nsew]*[ew]?[^nsew]*$/i.test(e),!t)throw new Error("Invalid cardinal direction.")}checkNumbers(e){var t;return t=e.match(/-?\d+(\.\d+)?/g),this.checkAnyCoordinateNumbers(t),this.checkEvenCoordinateNumbers(t),this.checkMaximumCoordinateNumbers(t)}checkAnyCoordinateNumbers(e){if(e.length===0)throw new Error("Could not find any coordinate number")}checkEvenCoordinateNumbers(e){var t;if(t=e.length%2,t)throw new Error("Uneven count of latitude/longitude numbers")}checkMaximumCoordinateNumbers(e){if(e.length>6)throw new Error("Too many coordinate numbers")}};var gv=iu,nu;nu=class{constructor(e){e=this.normalizeCoordinateNumbers(e),this.sign=this.normalizedSignOf(e[0]),[this.degrees,this.minutes,this.seconds,this.milliseconds]=e.map(Math.abs)}normalizeCoordinateNumbers(e){var t,i,n,a,c;for(c=[0,0,0,0],i=n=0,a=e.length;n<a;i=++n)t=e[i],c[i]=parseFloat(t);return c}normalizedSignOf(e){return e>=0?1:-1}detectSpecialFormats(){if(this.degreesCanBeSpecial()){if(this.degreesCanBeMilliseconds())return this.degreesAsMilliseconds();if(this.degreesCanBeDegreesMinutesAndSeconds())return this.degreesAsDegreesMinutesAndSeconds();if(this.degreesCanBeDegreesAndMinutes())return this.degreesAsDegreesAndMinutes()}}degreesCanBeSpecial(){var e;return e=!1,!this.minutes&&!this.seconds&&(e=!0),e}degreesCanBeMilliseconds(){var e;return this.degrees>909090?e=!0:e=!1,e}degreesAsMilliseconds(){return this.milliseconds=this.degrees,this.degrees=0}degreesCanBeDegreesMinutesAndSeconds(){var e;return this.degrees>9090?e=!0:e=!1,e}degreesAsDegreesMinutesAndSeconds(){var e;return e=Math.floor(this.degrees/1e4),this.minutes=Math.floor((this.degrees-e*1e4)/100),this.seconds=Math.floor(this.degrees-e*1e4-this.minutes*100),this.degrees=e}degreesCanBeDegreesAndMinutes(){var e;return this.degrees>360?e=!0:e=!1,e}degreesAsDegreesAndMinutes(){var e;return e=Math.floor(this.degrees/100),this.minutes=this.degrees-e*100,this.degrees=e}toDecimal(){var e;return e=this.sign*(this.degrees+this.minutes/60+this.seconds/3600+this.milliseconds/36e5),e}};var mv=nu,su,au,ou;ou=gv;su=mv;au=class{constructor(e){this.coordinates=e,this.latitudeNumbers=null,this.longitudeNumbers=null,this.validate(),this.parse()}validate(){var e;return e=new ou,e.validate(this.coordinates)}parse(){return this.groupCoordinateNumbers(),this.latitude=this.extractLatitude(),this.longitude=this.extractLongitude()}groupCoordinateNumbers(){var e,t;return e=this.extractCoordinateNumbers(this.coordinates),t=e.length/2,this.latitudeNumbers=e.slice(0,t),this.longitudeNumbers=e.slice(0-t)}extractCoordinateNumbers(e){return e.match(/-?\d+(\.\d+)?/g)}extractLatitude(){var e;return e=this.coordinateNumbersToDecimal(this.latitudeNumbers),this.latitudeIsNegative()&&(e=e*-1),e}extractLongitude(){var e;return e=this.coordinateNumbersToDecimal(this.longitudeNumbers),this.longitudeIsNegative()&&(e=e*-1),e}coordinateNumbersToDecimal(e){var t,i;return t=new su(e),t.detectSpecialFormats(),i=t.toDecimal(),i}latitudeIsNegative(){var e;return e=this.coordinates.match(/s/i),e}longitudeIsNegative(){var e;return e=this.coordinates.match(/w/i),e}getLatitude(){return this.latitude}getLongitude(){return this.longitude}};var vv=au;bc.plugin(xa);window.Alpine=bc;window.ImageBlobReduce=new Tp;window.uuidv1=Mp;window.getInitialSourceName=no;window.rodnikConfig={zoomLevels:{approximated:6,final:9}};window.initOpenLayers=function(r){window.rodnikMap=new Vm(r)};window.initOpenHelper=function(r,e){window.rodnikHelper=new Jm(r,e)};window.initOpenPicker=function(r,e){window.rodnikPicker=new ev(r,e)};window.parseCoordinates=function(r){return new vv(r)};window.initOpenDiffer=function(r,e,t){window.rodnikDiffer=new tv(r,e,t)};window.openedPhotoswipe=null;window.initPhotoSwipe=function(r){const e=new pv({gallery:r,children:".photoswipeImage",pswpModule:()=>md(()=>import("./photoswipe.esm.382b1873.js"),[]),loop:!1});e.init(),e.on("beforeOpen",()=>{window.openedPhotoswipe=e.pswp}),e.on("destroy",()=>{window.openedPhotoswipe=null})};Ga.start();window.ymCode=90143259;
